(("undefined"!=typeof self?self:this).webpackJsonp=("undefined"!=typeof self?self:this).webpackJsonp||[]).push([[51],{1007:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return o}),a.d(t,"c",function(){return i});var r=a(1),n=Object(r.b)("FETCH_ALL_PDP_RECOMMENDATION"),o=Object(r.b)("FETCH_SINGLE_PDP_RECOMMENDATION"),i={Item:"item",Ads:"ads"}},1038:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return c});var r=a(11),n=a(13),o=a(1007);function i(e,t,a){return Object(r.d)({shopId:e,itemId:t,catId:a})}var s={total:0,data:[],nextOffset:0,progress:n.b.OK};function c(e,t,a){var r=e.data,o=r.update_time,i=r.sections,c=Object.keys(i),u={update_time:o,sections:{similar_product:s,from_same_shop:s,you_may_also_like:s,bought_together:s}};return c.forEach(function(e){var r=i[e];if(r){var o=(t[e]||0)+(a[e]||0);u.sections[e]={total:r.total,data:d(r.index,r.data),nextOffset:o,progress:n.b.OK}}}),u}function d(e,t){var a=[];return e.forEach(function(e){var r=function(e,t){return t.data_type===o.c.Ads?e[o.c.Ads].find(function(e){return e.key===t.key}):e[o.c.Item].find(function(e){return e.key===t.key})}(t,e);r&&a.push(r)}),a}},1040:function(e,t,a){"use strict";var r=a(0),n=a(54),o=a(33),i=a.n(o),s=a(184),c=a(89),d=a(991),u=a(946),l=a(987),m=a(62),p=a(1046),f=a.n(p);t.a=Object(u.b)(Object(n.connect)(function(e,t){var a=Object(s.getAccountInfo)(e),r=t.item;return{isOwner:a&&a.get("shopid")===r.shopid}})(function(e){var t=e.displayCountType,a=e.item,n=e.isOwner,o=e.className;if(Object(d.a)(a?a.shopid:null)&&!n||!a)return null;var s=Object(l.c)(a,Object(l.d)(t));return r.createElement("div",{className:i()(f.a.labelSoldCount,o)},s?Object(l.d)(t)?Object(c.t)("label_n_sold_month",{sold:Object(l.b)(s,!0,m.a.PRODUCT_SOLD_COUNT_CAP)}):Object(c.t)("label_historical_sold_n",{sold:Object(l.b)(s,!1,m.a.PRODUCT_SOLD_COUNT_CAP)}):null)}))},1046:function(e,t,a){e.exports={labelSoldCount:"_18SLBt"}},1071:function(e,t,a){"use strict";a.d(t,"a",function(){return n});a(81);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function n(e){var t=0;return e.map(function(e){if(e.adsid&&e.campaignid){var a=r({},e,{locationInAds:t});return t+=1,a}return e})}},1077:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(46),i=a(227),s=function(e){var t=e.customHeader;return n.a.createElement("img",{src:Object(o.b)(__LOCALE__)(t.image),style:{width:t.display_width?Object(i.a)(t.display_width):"auto",height:t.display_height?Object(i.a)(t.display_height):"auto"}})};t.a=function(e){var t=e.headerText,a=e.customHeader;return a?a.image?n.a.createElement(s,{customHeader:{image:a.image,display_width:a.display_width,display_height:a.display_height}}):n.a.createElement("span",{style:{color:a.color}},t):t||null}},1086:function(e,t,a){"use strict";a.d(t,"a",function(){return I});var r=a(33),n=a.n(r),o=a(0),i=a.n(o),s=a(26),c=a.n(s),d=a(1016),u=a(397),l=a(121),m=(a(1130),a(434)),p=a(1077);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}var h=function(e){var t=e.headerButton,a=e.onHeaderButtonClick,r=e.simpleVersion,n=e.hasNoNavigation,s=e.customButtonContent,c=e.headerButtonStyle,m=e.headerSectionButtonProps,p=t.linkTo,h=s||i.a.createElement(o.Fragment,null,t.text,"Â ",i.a.createElement(u.a,null)),I=r?i.a.createElement(l.a,f({targetType:"SeeAllButton",style:c},m),h):i.a.createElement(l.c,f({targetType:"SeeAllButton",style:c},m),h);return n?i.a.createElement("div",{className:"shopee-header-section__header-link",onClick:function(e){a&&a(e)}},I):"string"!=typeof p||"/"===p[0]?i.a.createElement(d.a,{to:p,className:"shopee-header-section__header-link",onClick:function(e){a&&a(e)}},I):i.a.createElement("a",{href:p,className:"shopee-header-section__header-link",onClick:function(e){a&&a(e)}},I)},I=Object(m.a)(function(e){var t=e.headerText,a=e.headerButton,r=e.children,o=e.simpleVersion,s=e.classNames,c=e.customButtonContent,d=e.hasNoNavigation,u=e.onHeaderButtonClick,l=e.style,m=void 0===l?{}:l,I=e.trackingRef,y=e.headerStyle,_=void 0===y?{}:y,O=e.customHeader,b=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,["headerText","headerButton","children","simpleVersion","classNames","customButtonContent","hasNoNavigation","onHeaderButtonClick","style","trackingRef","headerStyle","customHeader"]);return i.a.createElement("div",{className:n()("shopee-header-section",s,!!o&&"shopee-header-section--simple"),ref:I||null,style:m},i.a.createElement("div",{className:"shopee-header-section__header"},i.a.createElement("div",{className:"shopee-header-section__header__title",style:_},i.a.createElement(p.a,{headerText:t,customHeader:O})),!!a&&i.a.createElement(h,{headerButton:a,simpleVersion:o,hasNoNavigation:d,customButtonContent:c,onHeaderButtonClick:u,headerButtonStyle:_&&_.seeAllColor?{color:_.seeAllColor}:_&&_.color?{color:_.color}:{},headerSectionButtonProps:f({},b)})),i.a.createElement("div",{className:"shopee-header-section__content"},r))},"HeaderSection");I.contextTypes=f({},I.contextTypes);var y={headerText:c.a.oneOfType([c.a.string,c.a.node]),headerButton:c.a.oneOfType([c.a.shape({text:c.a.string.isRequired,linkTo:c.a.oneOfType([c.a.string,c.a.object])}),c.a.bool]),onHeaderButtonClick:c.a.func,children:c.a.node,simpleVersion:c.a.bool,classNames:c.a.string,customButtonContent:c.a.node,hasNoNavigation:c.a.bool};I.propTypes=y,c.a.element.isRequired},1104:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var r=a(3);function n(e){return Object(r.d)("/api/v2/recommendation/bundle/product_detail_page"+e)}},1122:function(e,t,a){"use strict";var r=a(1155);a.d(t,"fetchAllPdpRecommendation",function(){return r.a}),a.d(t,"fetchSinglePdpRecommendation",function(){return r.b});a(1007);var n=a(1156);a.d(t,"pdpRecommendationReducer",function(){return n.a});var o=a(1157);a.d(t,"getAllPdpRcmdSections",function(){return o.a}),a.d(t,"getPdpRcmdProgress",function(){return o.b}),a.d(t,"getSinglePdpRcmdSection",function(){return o.c}),a.d(t,"hasItemsInRange",function(){return o.d});a(1158),a(1104),a(1038)},1123:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return o}),a.d(t,"c",function(){return i});var r=a(1),n=Object(r.b)("FETCH_ALL_PDP_RECOMMENDATION"),o=Object(r.b)("FETCH_SINGLE_PDP_RECOMMENDATION"),i={Item:"item",Ads:"ads"}},1130:function(e,t,a){},1155:function(e,t,a){"use strict";a.d(t,"a",function(){return d}),a.d(t,"b",function(){return u});var r=a(31),n=a(11),o=a(1104),i=a(1007),s=a(1038);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function d(e){var t=e.shopId,a=e.itemId,d=e.catId,u=e.limit,l=e.onFinish,m=e.shouldSkipCall,p=Object(n.d)(c({shopid:t,itemid:a,catid:d,similar_product_offset:0,from_same_shop_offset:0,you_may_also_like_offset:0,bought_together_offset:0},Object.keys(u).reduce(function(e,t){var a;return c({},e,((a={})[t+"_limit"]=u[t],a))},{}))),f=Object(s.a)(t,a,d);return Object(r.a)({apiCall:function(){return o.a(p)},actions:[function(){return{type:i.a.REQUESTED,payload:{key:f}}},function(e,t){return{type:i.a.SUCCESS,payload:{key:f,data:Object(s.b)(t,{from_same_shop:0,similar_product:0,you_may_also_like:0,bought_together:0},u)}}},function(e,t){return{type:i.a.FAILED,payload:{key:f,error:t.error}}}],shouldSkipCall:m,onFinish:l})}function u(e){var t,a=e.section,c=e.shopId,d=e.itemId,u=e.catId,l=e.limit,m=e.offset,p=e.onFinish,f=e.shouldSkipCall,h=e.shouldReset,I=Object(n.d)(((t={shopid:c,itemid:d,catid:u})[a+"_limit"]=l,t[a+"_offset"]=m,t)),y=Object(s.a)(c,d,u);return Object(r.a)({apiCall:function(){return o.a(I)},actions:[function(){return{type:i.b.REQUESTED,payload:{key:y,section:a}}},function(e,t){var r,n;return{type:i.b.SUCCESS,payload:{key:y,section:a,offset:m,data:Object(s.b)(t,(r={},r[a]=m,r),(n={},n[a]=l,n)),shouldReset:h}}},function(e,t){return{type:i.b.FAILED,payload:{key:y,section:a,error:t.error}}}],shouldSkipCall:f,onFinish:p})}},1156:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var r,n=a(23),o=a(264),i=a(13),s=a(1007);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}i.b.INIT;var d={update_time:0,sections:{similar_product:{total:0,data:[],nextOffset:0,progress:i.b.INIT},from_same_shop:{total:0,data:[],nextOffset:0,progress:i.b.INIT},you_may_also_like:{total:0,data:[],nextOffset:0,progress:i.b.INIT},bought_together:{total:0,data:[],nextOffset:0,progress:i.b.INIT}}},u=Object(n.a)(((r={})[s.a.REQUESTED]=function(e,t){var a,r=t.payload.key;return c({},e,((a={})[r]=c({},e[r],{progress:i.b.REQ}),a))},r[s.a.SUCCESS]=function(e,t){var a,r=t.payload,n=r.key,o=r.data;return c({},e,((a={})[n]=c({},e[n],{data:o,progress:i.b.OK}),a))},r[s.a.FAILED]=function(e,t){var a,r=t.payload,n=r.key,o=r.error;return c({},e,((a={})[n]=c({},e[n],{error:o,progress:i.b.ERR}),a))},r[s.b.REQUESTED]=function(e,t){var a,r,n=t.payload,o=n.key,s=n.section,u=e[o]&&e[o].data||d;return c({},e,((r={})[o]=c({},e[o],{data:c({},u,{sections:c({},u.sections,(a={},a[s]=c({},u.sections[s],{progress:i.b.REQ}),a))})}),r))},r[s.b.SUCCESS]=function(e,t){var a,r,n=t.payload,s=n.key,u=n.section,l=n.offset,m=n.data,p=n.shouldReset,f=e[s]&&e[s].data||d;return c({},e,((r={})[s]=c({},e[s],{data:c({},f,{sections:c({},f.sections,(a={},a[u]=p?m.sections[u]:c({},m.sections[u],{data:Object(o.b)(f.sections[u].data,m.sections[u].data,l),progress:i.b.OK}),a))})}),r))},r[s.b.FAILED]=function(e,t){var a,r,n=t.payload,o=n.key,s=n.section,u=n.error,l=e[o]&&e[o].data||d;return c({},e,((r={})[o]=c({},e[o],{data:c({},l,{sections:c({},l.sections,(a={},a[s]=c({},l.sections[s],{progress:i.b.ERR}),a))}),error:u}),r))},r),{})},1157:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return i}),a.d(t,"c",function(){return s}),a.d(t,"d",function(){return c});var r=a(1038),n=a(13);function o(e,t){var a=t.shopId,n=t.itemId,o=t.catId,i=Object(r.a)(a,n,o);return e&&e[i]&&e[i].data?e[i].data.sections:null}function i(e,t){var a=t.shopId,o=t.itemId,i=t.catId,s=Object(r.a)(a,o,i);return e&&e[s]&&e[s].data?e[s].progress:n.b.INIT}function s(e,t){var a=t.shopId,n=t.itemId,o=t.catId,i=t.sectionName,s=Object(r.a)(a,n,o);return e&&e[s]&&e[s].data?e[s].data.sections[i]:null}function c(e,t){var a=t.shopId,n=t.itemId,o=t.catId,i=t.sectionName,s=t.offset,c=t.limit,d=Object(r.a)(a,n,o);if(!e||!e[d]||!e[d].data)return!1;var u=e[d].data.sections[i],l=u.data,m=u.total,p=s+c>m?m%c:c;return l.slice(s,s+c).filter(function(e){return e}).length===p}},1158:function(e,t){},1249:function(e,t,a){"use strict";var r=a(0),n=a(33),o=a.n(n),i=a(90),s=a(61),c=a(24),d=a(62),u=a(1072),l=a(1372),m=a(938),p=a(1024),f=a(1057),h=a(58),I=a(979),y=a(946),_=a(981),O=a(1282),b=a.n(O),E=Object(y.b)(function(e){var t=e.className,a=e.actualPriceBoundingWidth,n={};return a&&(n.maxWidth="calc(100% - "+a+"px)"),r.createElement(I.a,{className:t,style:n,options:{supportsGroupBuy:!!d.a.GROUP_BUY}},Object(h.d)(Object(_.e)(__LOCALE__,{createSymbolElement:function(e,t){return r.createElement("span",{className:b.a.symbol,key:"currency-"+t},e)},createPriceElement:function(e,t){return r.createElement("span",{className:b.a.price,key:"price-"+t},e)}}),_.b))}),S=a(1074),g=a(1073),v=a(1076),C=a(1035),P=a(1040),R=a(1107),T=a(1060),A=a.n(T),j=a(1255),k=a.n(j);var N=function(e){var t,a;function n(t){var a;return(a=e.call(this,t)||this).passBoundingBoxWidth=function(e){e!==a.state.iconsInPriceBoundingWidth&&a.setState({iconsInPriceBoundingWidth:e})},a.state={iconsInPriceBoundingWidth:0},a}return a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,n.prototype.render=function(){var e,t=this.props,a=t.item,n=t.propsItem,u=t.manifest,h=t.displayCountType,I=t.showItemFindSimilarButton,y=t.isUserAdult,_=t.useTransparentBackgroundImage,O=(u||{}).status,b=O===c.f.LOADED||O===c.f.FAILED;return r.createElement(m.a,{locale:__LOCALE__,item:a,manifest:u},r.createElement(f.a,{className:k.a.homeDailyDiscoverItemCard,showItemFindSimilarButton:I},r.createElement(p.a,{getImageUrl:i.b,adultAge:s.a,isUserAdult:y,maskAdultImageWhenApplicable:d.a.ITEM_LIST_ADULT_CHECK,useTransparentBackgroundImage:_},b&&r.createElement(r.Fragment,null,r.createElement(C.a,null),r.createElement(g.a,null),r.createElement(S.a,{componentMapping:Object.freeze((e={},e[c.a.BOTTOM_RIGHT_ADS]=l.a,e)),propsItem:n}),r.createElement(v.a,null))),r.createElement("div",{className:A.a.lower},r.createElement("div",{className:A.a.nameEtAl},r.createElement(R.a,{showPromotionLabels:b})),a&&a.itemid?r.createElement("div",{className:o()(k.a.priceEtAl,A.a.priceEtAl)},r.createElement(E,{className:k.a.lowestPrice,actualPriceBoundingWidth:this.state.iconsInPriceBoundingWidth}),r.createElement(P.a,{displayCountType:h,className:k.a.soldCount})):r.createElement("div",{className:k.a.priceEtAl}))))},n}(r.Component);N.defaultProps={setId:c.d.SIMPLIFIED_COUNT};var D=Object(u.a)(N);D.defaultProps={setId:c.d.SIMPLIFIED_COUNT};t.a=D},1255:function(e,t,a){e.exports={itemName:"bN7F_V",homeDailyDiscoverItemCard:"_7y9-lZ",priceEtAl:"nJq7PD",lowestPrice:"_3_udCI",soldCount:"_2SLPtW"}},1282:function(e,t,a){e.exports={priceBeforeDiscount:"_2mQSJt",actualPrice:"_1Huo-n",price:"SlvYAy",symbol:"_3fVV-h"}},1290:function(e,t,a){"use strict";var r=a(0),n=a(54),o=a(1122),i=a(13);function s(e){var t=e.shopId,a=e.itemId,s=e.catId,c=e.similarProductLimit,d=e.fromSameShopLimit,u=e.youMayAlsoLikeLimit,l=e.boughtTogetherLimit,m=e.forceRefetch,p=e.getPdpRecommendationStore,f=Object(n.useDispatch)(),h=r.useCallback(function(e){if(m)return!1;var r=p(e);return Object(o.getPdpRcmdProgress)(r,{shopId:t,itemId:a,catId:s})===i.b.OK},[s,m,p,a,t]);r.useEffect(function(){f(Object(o.fetchAllPdpRecommendation)({shopId:t,itemId:a,catId:s,limit:{similar_product:c,from_same_shop:d,you_may_also_like:u,bought_together:l},shouldSkipCall:h}))},[l,s,f,d,a,t,h,c,u]);var I=Object(n.useSelector)(function(e){return p(e)}),y=r.useMemo(function(){return Object(o.getAllPdpRcmdSections)(I,{shopId:t,itemId:a,catId:s})||{}},[s,a,t,I]);return{similarProduct:y.similar_product,fromSameShop:y.from_same_shop,youMayAlsoLike:y.you_may_also_like,store:I}}function c(e){var t=e.shopId,a=e.itemId,i=e.catId,s=e.sectionName,c=e.offset,d=e.limit,u=e.forceRefetch,l=e.getPdpRecommendationStore,m=Object(n.useDispatch)(),p=r.useCallback(function(e){if(u)return!1;var r=l(e);return Object(o.hasItemsInRange)(r,{shopId:t,itemId:a,catId:i,sectionName:s,offset:c,limit:d})},[i,u,l,a,d,c,s,t]);r.useEffect(function(){m(Object(o.fetchSinglePdpRecommendation)({section:s,shopId:t,itemId:a,catId:i,offset:c,limit:d,shouldSkipCall:p}))},[i,m,a,d,c,s,t,p]);var f=Object(n.useSelector)(function(e){return l(e)});return{store:f,section:Object(o.getSinglePdpRcmdSection)(f,{shopId:t,itemId:a,catId:i,sectionName:s})}}var d=a(11),u=a(1123);function l(e,t,a){return Object(d.d)({shopId:e,itemId:t,catId:a})}var m={total:0,data:[],nextOffset:0,progress:i.b.OK};function p(e,t,a){var r=e.data,n=r.update_time,o=r.sections,s={update_time:n,sections:{similar_product:m,from_same_shop:m,you_may_also_like:m,bought_together:m}};return o.forEach(function(e){var r=e.total,n=e.key,o=e.data,c=e.index,d=(t||0)+(a||0);s.sections[n]={total:r,data:f(c,o),nextOffset:d,progress:i.b.OK}}),s}function f(e,t){var a=[];return e&&e.forEach(function(e){var r=function(e,t){var a;a=t.data_type===u.c.Ads?e[u.c.Ads]?e[u.c.Ads].find(function(e){return e.key===t.key}):void 0:e[u.c.Item]?e[u.c.Item].find(function(e){return e.key===t.key}):void 0;a&&(a.label_ids=a.label_ids||[]);return a}(t,e);r&&a.push(r)}),a}var h=a(31),I=a(3);function y(e){return Object(I.d)("/api/v4/recommend/recommend"+e+"&bundle=product_detail_page")}function _(e){var t=e.shopId,a=e.itemId,o=e.catId,s=e.limit,c=e.itemCardStyle,m=e.forceRefetch,f=e.getPdpRecommendationStore,I=Object(n.useDispatch)(),_=r.useCallback(function(e){return!m&&function(e,t){var a=l(t.shopId,t.itemId,t.catId);return e&&e[a]&&e[a].data?e[a].progress:i.b.INIT}(f(e),{shopId:t,itemId:a,catId:o})===i.b.OK},[o,m,f,a,t]);r.useEffect(function(){I(function(e){var t=e.shopId,a=e.itemId,r=e.catId,n=e.limit,o=e.itemCardStyle,i=e.onFinish,s=e.shouldSkipCall,c=Object(d.d)({shopid:t,itemid:a,catid:r,offset:0,limit:n,item_card:o}),m=l(t,a,r);return Object(h.a)({apiCall:function(){return y(c)},actions:[function(){return{type:u.a.REQUESTED,payload:{key:m}}},function(e,t){return{type:u.a.SUCCESS,payload:{key:m,data:p(t,0,n)}}},function(e,t){return{type:u.a.FAILED,payload:{key:m,error:t.error}}}],shouldSkipCall:s,onFinish:i})}({shopId:t,itemId:a,catId:o,limit:s,itemCardStyle:c,shouldSkipCall:_}))},[o,I,c,a,s,t,_]);var O=Object(n.useSelector)(function(e){return f(e)}),b=r.useMemo(function(){return e=O,n=l((r={shopId:t,itemId:a,catId:o}).shopId,r.itemId,r.catId),(e&&e[n]&&e[n].data?e[n].data.sections:null)||{};var e,r,n},[o,a,t,O]);return{similarProduct:b.similar_product,fromSameShop:b.from_same_shop,youMayAlsoLike:b.you_may_also_like,store:O}}function O(e){var t=e.shopId,a=e.itemId,o=e.catId,i=e.sectionName,s=e.offset,c=e.limit,m=e.itemCardStyle,f=e.forceRefetch,I=e.getPdpRecommendationStore,_=Object(n.useDispatch)(),O=r.useCallback(function(e){return!f&&function(e,t){var a=t.shopId,r=t.itemId,n=t.catId,o=t.sectionName,i=t.offset,s=t.limit,c=l(a,r,n);if(!e||!e[c]||!e[c].data)return!1;var d=e[c].data.sections[o],u=d.data,m=d.total,p=i+s>m?m%s:s;return u.slice(i,i+s).filter(function(e){return e}).length===p}(I(e),{shopId:t,itemId:a,catId:o,sectionName:i,offset:s,limit:c})},[o,f,I,a,c,s,i,t]);r.useEffect(function(){_(function(e){var t=e.section,a=e.shopId,r=e.itemId,n=e.catId,o=e.limit,i=e.offset,s=e.itemCardStyle,c=e.onFinish,m=e.shouldSkipCall,f=e.shouldReset,I=Object(d.d)({section:t,shopid:a,itemid:r,catid:n,limit:o,offset:i,item_card:s}),_=l(a,r,n);return Object(h.a)({apiCall:function(){return y(I)},actions:[function(){return{type:u.b.REQUESTED,payload:{key:_,section:t}}},function(e,a){return{type:u.b.SUCCESS,payload:{key:_,section:t,offset:i,data:p(a,i,o),shouldReset:f}}},function(e,a){return{type:u.b.FAILED,payload:{key:_,section:t,error:a.error}}}],shouldSkipCall:m,onFinish:c})}({section:i,shopId:t,itemId:a,catId:o,offset:s,limit:c,itemCardStyle:m,shouldSkipCall:O}))},[o,_,m,a,c,s,i,t,O]);var b=Object(n.useSelector)(function(e){return I(e)});return{store:b,section:function(e,t){var a=t.shopId,r=t.itemId,n=t.catId,o=t.sectionName,i=l(a,r,n);return e&&e[i]&&e[i].data?e[i].data.sections[o]:null}(b,{shopId:t,itemId:a,catId:o,sectionName:i})}}a.d(t,"b",function(){return s}),a.d(t,"d",function(){return c}),a.d(t,"a",function(){return _}),a.d(t,"c",function(){return O})},1368:function(e,t,a){"use strict";var r=a(0),n=a(33),o=a.n(n),i=a(1071),s=a(150),c=a(410),d=a(1086),u=a(1344),l=a(89),m=a(268),p=a(1473),f=a.n(p);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function I(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var y=function(e){function t(){return e.apply(this,arguments)||this}I(t,e);var a=t.prototype;return a.shouldComponentUpdate=function(e){var t=this.props;return t.items!==e.items||t.numberOfItemsPerRow!==e.numberOfItemsPerRow||t.maximumItemsDisplayed!==e.maximumItemsDisplayed||t.padding!==e.padding||t.itemPadding!==e.itemPadding||t.queryKey!==e.queryKey},a.slideInCardAtEnd=function(e){var t=this.props,a=t.lastCardLink,r=t.lastCardComponent;return a&&null!=r?e.concat([null]):e},a.renderItemCards=function(){var e=this.props,t=e.itemCardVariations,a=e.itemOtherProps,n=e.maximumItemsDisplayed,o=e.lastCardComponent,i=this.props.ItemCard||Object(u.d)(t),s=this.props.items&&n?this.props.items.slice(0,n):this.props.items;return(s=this.slideInCardAtEnd(s)).map(function(e,t){return r.createElement("div",{key:t,className:"product-recommend-items__item-wrapper"},e?r.createElement(i,h({item:e,index:t,from:e.from,adParams:{adsId:e.adsid,adsKeyword:e.ads_keyword,campaignId:e.campaignid}},a)):t===s.length-1&&o)})},a.render=function(){var e=this.props,t=e.numberOfItemsPerRow,a=e.padding,n=e.itemPadding;return r.createElement(c.b,{className:f.a.carousel,showArrowOnHover:!0,showArrowHint:!0,numItemsPerRow:t,padding:a||"0",items:this.renderItemCards(),itemPadding:n})},t}(r.Component),_=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state={items:[]},t}return I(t,e),t.getDerivedStateFromProps=function(e,t){var a=e.maximumItemsDisplayed,r=e.items&&a?e.items.slice(0,a):e.items;return JSON.stringify(r)!==JSON.stringify(t.items)?{items:r}:t},t.prototype.render=function(){var e=this.props,t=e.header,a=e.onClickSeeMore,n=e.displaySeeMoreLink,o=e.seeMoreLink,i=e.lastCardComponent,c=e.numberOfItemsPerRow,u=e.minimumDisplayThreshold,p=e.maximumItemsDisplayed,h=e.padding,I=e.itemPadding,_=e.headerStyle,O=e.className,b=e.itemCardVariations,E=e.itemOtherProps,S=e.ItemCard,g=e.withSeo,v=this.props.items&&p?this.props.items.slice(0,p):this.props.items;return!v||u&&v.length<u?null:r.createElement("div",{className:O||void 0},(t||n&&o)&&r.createElement(d.a,{headerText:t,simpleVersion:!0,onHeaderButtonClick:a,headerButton:n&&{text:Object(l.t)("rcmd_label_see_all"),linkTo:o},headerStyle:_,className:f.a.header}),g&&r.createElement(s.Helmet,null,v.filter(function(e){return e&&e.itemid}).map(function(e){return r.createElement("script",{type:"application/ld+json",key:e.itemid},Object(m.getProductLdJson)(e))})),r.createElement(y,{itemCardVariations:b,itemOtherProps:E,maximumItemsDisplayed:p,numberOfItemsPerRow:c,className:f.a.carousel,showArrowOnHover:!0,showArrowHint:!0,numItemsPerRow:c,padding:h||"0",items:this.state.items,itemPadding:I,ItemCard:S,lastCardLink:o,lastCardComponent:i}))},t}(r.PureComponent);_.defaultProps={numberOfItemsPerRow:6,minimumDisplayThreshold:6,maximumItemsDisplayed:0,headerStyle:{},itemCardVariations:{},itemOtherProps:{},withSeo:!0};var O=_,b=(a(81),a(876)),E=a(406),S=a(1404),g=a(122);a(1474);var v=function(e){var t,a;function n(){return e.apply(this,arguments)||this}return a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,n.prototype.render=function(){var e=this.props,t=e.headerText,a=e.maximumItemsDisplayed,n=e.minimumDisplayThreshold,s=e.numberOfItemsPerRow,c=e.queryKey,d=e.onClickSeeMore,u=e.displaySeeMoreLink,m=e.seeMoreLink,p=e.items,f=e.updateTime,h=e.displayUpdateTime,I=void 0!==h&&h,y=e.className,_=e.itemRenderer,v=e.recommendType,C=e.categoryId,P=e.itemId,R=e.shopId,T=e.withSeo,A=e.adsPlacement,j=e.isUserAdult;if(!p||0===p.length)return null;var k=p;return A&&(k=Object(i.a)(p)),r.createElement(b.a,null,r.createElement(g.a,{targetType:"Recommendation"+E.i.CAROUSEL},r.createElement("div",{className:o()("recommendation-by-carousel",y)},r.createElement(O,{ItemCard:_,header:r.createElement(S.a,{displayUpdateTime:I,headerText:t,updateTime:f}),onClickSeeMore:d,displaySeeMoreLink:u,seeMoreLink:m,maximumItemsDisplayed:a,minimumDisplayThreshold:n,numberOfItemsPerRow:s,queryKey:c,items:k,itemPadding:"5px",shouldDisplayUpdateTime:I,itemOtherProps:{adsTrackingData:{recommendParams:{recommendType:v,categoryId:C,itemId:P,shopId:R},placement:A},isUserAdult:j,labelNoRatings:Object(l.t)("rcmd_label_no_ratings_yet")},withSeo:T}))))},n}(r.PureComponent);v.defaultProps={items:[],withSeo:!0};t.a=Object(l.withI18nCollections)([119])(v)},1404:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(267),i=a(89);a(1405);t.a=function(e){var t=e.displayUpdateTime,a=e.updateTime,r=e.headerText,s=e.headerColor;return t&&a?n.a.createElement("div",{className:"recommend-header"},r,a&&n.a.createElement("div",{className:"recommend-header__update-time"},n.a.createElement("span",{className:"update-time__label"},Object(i.t)("label_updated")),n.a.createElement("span",{className:"update-time__time"},Object(o.a)(1e3*a)))):n.a.createElement("div",{style:s?{color:s}:{}},r)}},1405:function(e,t,a){},1441:function(e,t,a){"use strict";var r=a(1),n=Object(r.b)("FETCH_RECOMMEND_ITEMS"),o=(a(11),a(4));a(3),a(21);var i=a(992);Object(i.a)({recommendType:"recommend_type",categoryId:"catid",itemId:"itemid",shopId:"shopid",minCount:"min_count",labelIds:"label",groupId:"groupid"}),Object(i.a)({recommendType:"recommend_type",categoryId:"catid",limit:"limit",offset:"offset"});var s,c=Object.freeze({SIMILAR_PRODUCTS:0,CATEGORY:1,COUNTRY:2,SIMILAR_ITEM:3,POPULAR:4,DAILY_DISCOVER:5,OFFICIAL_SHOP:6,OFFICIAL_SHOP_POPULAR:7,TRENDING_SEARCHES:8,FROM_SAME_SHOP:9,SHOPPING_CART:10,RECENTLY_VIEWED:11,YMAL:16,FIND_SIMILAR_PRODUCTS_FROM_ITEM_CARD:17,FIND_SIMILAR_PRODUCTS_FROM_SHOPPING_CART:18,JUST_FOR_YOU_1111:22,SHOP_FOR_YOU_1111:23,BIG_SALE_11_11:26,ORDER_PAID:24,SIMILAR_PRODUCTS_FROM_PRODUCT_DETAIL:27,JUST_FOR_YOU_SHOP_FLASH_SALE:28,COLLECTION_SHOP:34,FREQUENTLY_BOUGHT_TOGETHER:35,SHOP:-1}),d=Object.freeze({YMAL:"YouMayAlsoLike",CATEGORY:"Category",COUNTRY:"Country",SIMILAR_ITEM:"SIMILAR_ITEM",SIMILAR_PRODUCTS:"SimilarProducts",POPULAR:"Popular",DAILY_DISCOVER:"DailyDiscover",OFFICIAL_SHOP:"OfficialShop",OFFICIAL_SHOP_POPULAR:"OfficialShopPopular",TRENDING_SEARCHES:"TrendingSearches",FROM_SAME_SHOP:"FromSameShop",SHOPPING_CART:"ShoppingCart",RECENTLY_VIEWED:"RecentlyViewed"}),u=(Object.freeze({DEFAULT:"default",PAGING:"paging",INFINITE:"infinite"}),a(23)),l=a(425);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}Object(u.a)(((s={})[n.REQUESTED]=function(e,t){var a;return m({},e,((a={})[t.queryKey]=m({},e[t.queryKey],{loading:!0}),a))},s[n.SUCCESS]=function(e,t){var a,r=t.response,n=t.offset,i=t.limit,s=t.queryKey,c=t.nextOffset,d=t.hasMore,u=t.cleanItemCache,p=(r.items||[]).filter(function(e){return e.stock}).map(function(e,t){return m({},e,e.item_rating,{location:t+(n||0)})}),f=Object(o.a)(e,[s,"items"],[]),h=0,I={items:(u?p:Object(l.a)(f,p,n)).map(function(e){return e&&e.adsid?m({},e,{locationInAds:h++}):e}),nextOffset:c,limit:i,hasMore:d,updateTime:r.update_time,total:r.total,loading:!1};return m({},e,((a={})[t.queryKey]=I,a))},s[n.FAILED]=function(e,t){var a;return m({},e,((a={})[t.queryKey]=m({},e[t.queryKey],{loading:!1}),a))},s),{});a.d(t,"a",function(){return c}),a.d(t,"b",function(){return d})},1473:function(e,t,a){e.exports={carousel:"YDvNVv",header:"_1trjNz"}},1474:function(e,t,a){},2189:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var r,n=a(23),o=a(264),i=a(13),s=a(1123);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}i.b.INIT;var d={update_time:0,sections:{similar_product:{total:0,data:[],nextOffset:0,progress:i.b.INIT},from_same_shop:{total:0,data:[],nextOffset:0,progress:i.b.INIT},you_may_also_like:{total:0,data:[],nextOffset:0,progress:i.b.INIT},bought_together:{total:0,data:[],nextOffset:0,progress:i.b.INIT}}},u=Object(n.a)(((r={})[s.a.REQUESTED]=function(e,t){var a,r=t.payload.key;return c({},e,((a={})[r]=c({},e[r],{progress:i.b.REQ}),a))},r[s.a.SUCCESS]=function(e,t){var a,r=t.payload,n=r.key,o=r.data;return c({},e,((a={})[n]=c({},e[n],{data:o,progress:i.b.OK}),a))},r[s.a.FAILED]=function(e,t){var a,r=t.payload,n=r.key,o=r.error;return c({},e,((a={})[n]=c({},e[n],{error:o,progress:i.b.ERR}),a))},r[s.b.REQUESTED]=function(e,t){var a,r,n=t.payload,o=n.key,s=n.section,u=e[o]&&e[o].data||d;return c({},e,((r={})[o]=c({},e[o],{data:c({},u,{sections:c({},u.sections,(a={},a[s]=c({},u.sections[s],{progress:i.b.REQ}),a))})}),r))},r[s.b.SUCCESS]=function(e,t){var a,r,n=t.payload,s=n.key,u=n.section,l=n.offset,m=n.data,p=n.shouldReset,f=e[s]&&e[s].data||d;return c({},e,((r={})[s]=c({},e[s],{data:c({},f,{sections:c({},f.sections,(a={},a[u]=p?m.sections[u]:c({},m.sections[u],{data:Object(o.b)(f.sections[u].data,m.sections[u].data,l),progress:i.b.OK}),a))})}),r))},r[s.b.FAILED]=function(e,t){var a,r,n=t.payload,o=n.key,s=n.section,u=n.error,l=e[o]&&e[o].data||d;return c({},e,((r={})[o]=c({},e[o],{data:c({},l,{sections:c({},l.sections,(a={},a[s]=c({},l.sections[s],{progress:i.b.ERR}),a))}),error:u}),r))},r),{})},3382:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(1368),o=a(1249),i=a(261),s=a(122),c=a(2189),d=a(1290),u=a(89),l=a(458),m=a(406),p=a(412),f=a(1441),h=a(81),I=a(24),y=a(411);function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function O(e){return e[m.a]}function b(e){return e&&e.data&&e.data.length>=m.f}t.default=Object(i.b)(function(e){var t=e.itemId,a=e.shopId,i=e.categoryId,E=e.injectAsyncReducer;r.useEffect(function(){var e;E(((e={})[m.a]=c.a,e))},[E]);var S=r.useContext(y.a).userAdult,g=!!S&&S.isUserAdult,v=Object(d.a)({shopId:a,itemId:t,catId:i,limit:m.e,itemCardStyle:I.d.SIMPLIFIED_COUNT,getPdpRecommendationStore:O}),C=v.fromSameShop,P=v.similarProduct,R=v.youMayAlsoLike,T={shopId:a,itemId:t,categoryId:i,itemRenderer:o.a,maximumItemsDisplayed:m.e,isUserAdult:g,displaySeeMoreLink:!0,withSeo:!1,updateTime:null};return r.createElement(r.Fragment,null,b(C)&&r.createElement(s.a,{targetType:f.b.FROM_SAME_SHOP},r.createElement(n.a,_({},T,{items:C.data,headerText:Object(u.t)("label_from_same_shop"),seeMoreLink:l.e.getUrl({shopId:a,itemId:t,categoryId:i,pageNumber:1}),recommendType:p.a.FROM_SAME_SHOP}))),b(P)&&r.createElement(s.a,{targetType:f.b.SIMILAR_PRODUCTS},r.createElement(n.a,_({},T,{items:P.data,headerText:Object(u.t)("label_similar_products"),seeMoreLink:l.i.getUrl({shopId:a,itemId:t,categoryId:i,pageNumber:1}),adsPlacement:h.c.SIMILAR_PRODUCTS,recommendType:p.a.SIMILAR_PRODUCTS_FROM_PRODUCT_DETAIL}))),b(R)&&r.createElement(s.a,{targetType:f.b.YMAL},r.createElement(n.a,_({},T,{items:R.data,headerText:Object(u.t)("label_you_may_also_like"),seeMoreLink:l.m.getUrl({shopId:a,itemId:t,categoryId:i,pageNumber:1}),adsPlacement:h.c.YOU_MAY_ALSO_LIKE,recommendType:p.a.YMAL}))))})},992:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return o});var r=a(11);function n(e){return function(t){if(!t)return{};var a={};for(var r in e){var n=e[r],o="function"==typeof n?n(t):t[n];a[r]=o}return a}}function o(e){var t={};for(var a in e)t[e[a]]=a;return function(e){return Object(r.d)(n(t)(e))}}}}]);
//# sourceMappingURL=https://shopee.sg/assets/BffPdpRecommendationSection.26f17ecef4fd7b08863c.js.map