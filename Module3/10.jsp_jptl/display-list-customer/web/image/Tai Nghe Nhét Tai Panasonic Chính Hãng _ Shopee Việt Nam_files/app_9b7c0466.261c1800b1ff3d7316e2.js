(window.miniJsonp=window.miniJsonp||[]).push([[3],{"+iqz":function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__("QbLZ"),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_LoadingSpin=__webpack_require__("Jitt"),_LoadingSpin2=_interopRequireDefault(_LoadingSpin),_Tooltip=__webpack_require__("eHDM"),_Tooltip2=_interopRequireDefault(_Tooltip),_Processor=__webpack_require__("9+8d"),_Processor2=_interopRequireDefault(_Processor),_BlacklistHint=__webpack_require__("s1zR"),_BlacklistHint2=_interopRequireDefault(_BlacklistHint),_CancelOrderHint=__webpack_require__("B/Zq"),_CancelOrderHint2=_interopRequireDefault(_CancelOrderHint),_SpecialMessageCard=__webpack_require__("DI0R"),_SpecialMessageCard2=_interopRequireDefault(_SpecialMessageCard),_messages=__webpack_require__("3atR"),_messages2=_interopRequireDefault(_messages),_text=__webpack_require__("UP2C"),_servers=__webpack_require__("ppeG"),_orders=__webpack_require__("EYEH"),_index=__webpack_require__("soV0"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},MSG_TYPE_WEBVIEW=_messages2.default.MSG_TYPE_WEBVIEW,MSG_TYPE_NOTIFICATION=_messages2.default.MSG_TYPE_NOTIFICATION,MSG_TYPE_ORDER=_messages2.default.MSG_TYPE_ORDER,MSG_TYPE_OFFER=_messages2.default.MSG_TYPE_OFFER,MSG_TYPE_IMAGE=_messages2.default.MSG_TYPE_IMAGE,MSG_TYPE_STICKER=_messages2.default.MSG_TYPE_STICKER,MSG_TYPE_RATE_CARDS=_messages2.default.MSG_TYPE_RATE_CARDS,CHECK_PROPS=["timeFlag","isLastMessage"],BaseMessage=function BaseMessage(MessageBody){var BaseMessage=function(_React$PureComponent){function BaseMessage(e,t){(0,_classCallCheck3.default)(this,BaseMessage);var a=(0,_possibleConstructorReturn3.default)(this,(BaseMessage.__proto__||(0,_getPrototypeOf2.default)(BaseMessage)).call(this,e,t)),r=e.index,o=e.message,s=e.newMessageFlag,n=o.type===MSG_TYPE_ORDER&&"done"===o.fetchStatus&&!o.order;return(0===r||o.type===MSG_TYPE_OFFER||s||n)&&(a.needRemeasure=!0),a.handleReload=a.handleReload.bind(a),a.resendMessage=a.resendMessage.bind(a),a.renderMetaInfo=a.renderMetaInfo.bind(a),a.checkOrderStatus=a.checkOrderStatus.bind(a),a.shouldShowTimeFlag=a.shouldShowTimeFlag.bind(a),a}return(0,_inherits3.default)(BaseMessage,_React$PureComponent),(0,_createClass3.default)(BaseMessage,[{key:"componentDidMount",value:function(){var e=this.props,t=e.message,a=e.hasSourceMessageMap;void 0===a[t.id]&&(a[t.id]=t.hasMessageSource),this.measureMessage()}},{key:"componentDidUpdate",value:function(e){var t=this,a=e.message,r=e.hasSourceMessageMap,o=e.newMessageFlag,s=this.props,n=s.message,_=s.newMessageFlag,u=!1;if(a.type===MSG_TYPE_OFFER)u=(a.offer&&a.offer.status)!==(n.offer&&n.offer.status);else{var l=["errorCode","status","send_status","fetchStatus"];n.type!==MSG_TYPE_WEBVIEW&&l.push("content"),(u=l.some((function(e){return a[e]!==n[e]})))||(u=CHECK_PROPS.some((function(a){return t.props[a]!==e[a]})))}r[n.id]!==n.hasMessageSource&&(u=!0,r[n.id]=n.hasMessageSource),o!==_&&(u=!0),u&&(this.needRemeasure=u),this.measureMessage()}},{key:"handleReload",value:function(){var e=this.props,t=e.message;(0,e.populateMessageRequested)({message:t})}},{key:"measureMessage",value:function(){this.needRemeasure&&(this.props.measure(),this.needRemeasure=!1)}},{key:"resendMessage",value:function(){var e=this.props,t=e.message;(0,e.resendMessageRequested)({conversationId:e.conversation.id,message:t})}},{key:"renderSendingStatus",value:function(e,t){return e===_messages.MSG_STATUS.SENDING&&![MSG_TYPE_IMAGE,MSG_TYPE_STICKER].includes(t)&&_react2.default.createElement("div",{className:_index2.default.sendingWrap},_react2.default.createElement(_LoadingSpin2.default,{theme:"dark"}))}},{key:"renderNewMessageTips",value:function(e,t){return e&&_react2.default.createElement("div",{className:_index2.default.newMessageTip},_react2.default.createElement("span",{className:_index2.default.prevLine}),_react2.default.createElement("span",{className:_index2.default.newMessageContent},t("conversation_detail.message_list.unread_messages")),_react2.default.createElement("span",{className:_index2.default.postLine}))}},{key:"renderSendFailed",value:function(e,t,a){var r=e.send_status,o=e.errorCode,s=e.message_option,n=e.status,_=66496===s;return r===_messages.MSG_STATUS.FAILED||"censored_blacklist"===n?43===o||a?_react2.default.createElement("div",{className:_index2.default.resendWrap},_react2.default.createElement("div",{className:_index2.default.blacklistIcon})):_react2.default.createElement("div",{className:_index2.default.resendWrap},_react2.default.createElement(_Tooltip2.default,{title:t("conversation_detail.message_list.resend"),label:_react2.default.createElement("div",{className:_index2.default.resend,onClick:this.resendMessage})})):_&&_react2.default.createElement("div",{className:_index2.default.resendWrap},_react2.default.createElement("div",{className:_index2.default.blacklistIcon}))}},{key:"checkOrderStatus",value:function(e){var t=e.type,a=e.fetchStatus,r=e.order;return"order"===t&&"done"===a&&!r}},{key:"renderMessage",value:function(e){var t=this.props,a=t.t,r=t.message,o=t.measure,s=t.imgCache,n=t.timeFlag,_=t.isScChat,u=t.isSubAccount,l=t.conversation,i=t.currentUser,d=t.currentBuyer,c=t.newMessageFlag,p=t.autoTranslation,f=t.replyOfferRequested,m=t.changeTranslateStatus,g=t.translateMessagesRequested,v=t.visitShopSellerCenterRequested,y=t.isLastSystemMessage,M=t.claimVoucherRequested,h=t.evaluationRequested,b=t.sendMessagesRequested,C=t.showModal,k=t.closeModal,q=r.type,R=r.send_status,x=r.hasMessageSource,T=r.fetchStatus,S=void 0===T?"":T,w=r.content,E=void 0===w?{}:w,L=d.country,P=null,D=null,H=!1,I=!1;e?(P=this.renderSendFailed(r,a,"closed"===l.status),H=R===_messages.MSG_STATUS.SENDING,I=this.renderSendingStatus(R,q)):D=this.renderNewMessageTips(c,a);var G=this.renderMetaInfo(r),O=this.renderMessageSource(r,n,a),A=q===MSG_TYPE_NOTIFICATION||q===MSG_TYPE_WEBVIEW&&E.type===MSG_TYPE_RATE_CARDS&&(e||u),N=A?_index2.default.message:e?_index2.default.messageSend:_index2.default.messageReceive,B=!(x||n||y||A)||n&&A?"4px":"8px";return _react2.default.createElement(_react2.default.Fragment,null,D,n&&_react2.default.createElement("div",{className:_index2.default.messageTime},n),O,_react2.default.createElement("div",{style:{marginTop:B},className:N},P,!A&&I,_react2.default.createElement("div",{className:_index2.default.bubble},S.includes("Card")?_react2.default.createElement(_Processor2.default,{type:"loading",messageType:q,content:E}):_react2.default.createElement(MessageBody,(0,_extends3.default)({},r,{t:a,isScChat:_,isSend:e,showModal:C,closeModal:k,measure:o,country:L,imgCache:s,isSending:H,currentUser:i,conversation:l,isSubAccount:u,handleReload:this.handleReload,autoTranslation:p,replyOfferRequested:f,changeTranslateStatus:m,translateMessagesRequested:g,visitShopSellerCenterRequested:v,claimVoucherRequested:M,evaluationRequested:h,sendMessagesRequested:b})))),G)}},{key:"renderProductSource",value:function(e,t,a,r){var o=e.content,s=void 0===o?{}:o,n=s.status,_=s.id,u=s.shop_id,l=this.props,i=l.currentUser,d=l.visitShopSellerCenterRequested,c=l.conversation.hasViewProductAccess,p=l.isSubAccount,f=l.isScChat,m=void 0,g=void 0,v=void 0,y=void 0;p?(g=t&&t.content?t.content:null)&&(m=g.id,y="https://"+(0,_servers.getMallUrl)(g.country)+"/product/"+u+"/"+_+"/"):(v="https://"+(0,_servers.getSellerCenterUrl)()+"/portal/product/"+_,y="https://"+(0,_servers.getMallUrl)()+"/product/"+u+"/"+_);var M=s.id,h=s.image,b=s.name,C=s.original_price_string,k=s.actual_price_string,q={isSubAccount:p,originPrice:C,status:n,stock:s.stock,scProductLink:v,mallProductLink:y,hasViewProductAccess:c,visitShopSellerCenterRequested:d,shopId:m,itemId:M,sendStatus:a,isSendByMe:r,isScChat:f};return _react2.default.createElement(_SpecialMessageCard2.default,{id:M,currentUser:i,category:"source",type:"product",image:h,name:b,price:k,extraProps:q})}},{key:"renderOrderSource",value:function(e,t,a){var r=e.content,o=void 0===r?{}:r,s=this.props,n=s.t,_=s.currentUser,u=s.visitShopSellerCenterRequested,l=s.isSubAccount,i=s.conversation,d=i.shop,c=void 0===d?{}:d,p=i.hasViewOrderAccess,f=i.shop_id,m=i.to_shop_id,g=s.isScChat,v=void 0;l||(v="https://"+(0,_servers.getSellerCenterUrl)()+"/portal/sale/"+o.id);var y="https://"+(0,_servers.getMallUrl)()+"/user/purchase/order/"+o.id+"/?shopid="+(a?m:_.shop_id),M={};"refund"===o.status?M.refundId=o.refund_serial_number:M.orderId=o.serial_number;var h=(0,_orders.getOrderPayment)(o,c.country).payment,b={orderId:o.id,smallImage:!0,itemCount:o.products_count,status:o.status,statusText:n(_text.OrderStatus[o.status]),hasViewOrderAccess:p,visitShopSellerCenterRequested:u,isSubAccount:l,shopId:f,orderLink:v,mallOrderLink:y,orderOrRefundId:M,sendStatus:t,isSendByMe:a,isScChat:g},C=o.image,k=o.title;return _react2.default.createElement(_SpecialMessageCard2.default,{id:o.id,currentUser:_,category:"source",type:"order",image:C,name:k,price:h,extraProps:b})}},{key:"renderMessageSource",value:function(e,t,a){var r=e.source_type,o=e.sourceContent,s=e.hasMessageSource,n=e.shopContent,_=void 0===n?{}:n,u=e.fetchStatus,l=void 0===u?"":u,i=e.to_id,d=this.props.conversation;if(!s)return null;var c=d.to_id===i,p={marginTop:t?"1.5em":"0.75em"};if(l.includes("Source"))return _react2.default.createElement(_Processor2.default,{type:"loading",messageType:"source",style:p});if(!o&&"done"===l)return _react2.default.createElement(_Processor2.default,{type:"reload",messageType:"source",reloadRequest:this.handleReload,style:p});if(!o)return null;var f=void 0;return"product"===r?f=this.renderProductSource(o,_,e.send_status,c):"order"===r&&(f=this.renderOrderSource(o,e.send_status,c)),f&&_react2.default.createElement("div",{style:p},f)}},{key:"renderMetaInfo",value:function(){var e=void 0,t=this.props,a=t.t,r=t.message,o=r.type,s=r.offer,n=r.to_id,_=r.errorCode,u=r.message_option,l=t.conversation,i=l.to_id,d=l.to_name,c=l.shop,p=n===i,f=(s||{}).buyer_id;if(o===MSG_TYPE_OFFER&&s){var m=f===i;switch(s.status){case"accepted":e=m?p?null:a("conversation_detail.message_list.accept_offer"):p?a("conversation_detail.message_list.accept_offer_user",{username:d}):null;break;case"rejected":e=m?p?null:a("conversation_detail.message_list.reject_offer"):p?a("conversation_detail.message_list.reject_offer_user",{username:d}):null;break;case"cancelled":e=m?a("conversation_detail.message_list.cancel_offer",{username:d}):a("conversation_detail.message_list.cancel_offer_self")}}if(28===_)e=a("conversation_detail.message_list.error_message_blocked",{username:d});else if(43===_)e=_react2.default.createElement(_BlacklistHint2.default,{t:a,color:"#bbb"});else if(66496===u||32768===u){var g=c&&c.country?c.country.toLowerCase():"sg";e=_react2.default.createElement(_CancelOrderHint2.default,{t:a,code:u,region:g})}if(e)return _react2.default.createElement("div",{className:_index2.default.metaInfo},_react2.default.createElement("div",{className:_index2.default.metaContent},e))}},{key:"shouldShowTimeFlag",value:function(e,t){return Date.parse(e)-Date.parse(t)>3e5}},{key:"render",value:function(){var e=this.props,t=e.style,a=e.message,r=e.isLastMessage,o=e.conversation.to_id,s=this.renderMessage(a.to_id===o),n=_index2.default.root+" "+(r?_index2.default.lastMessage:"");return _react2.default.createElement("div",{style:t,className:n},s)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),BaseMessage}(_react2.default.PureComponent);return BaseMessage.propTypes={index:_propTypes2.default.number,message:_propTypes2.default.object,newMessageFlag:_propTypes2.default.bool,isLastMessage:_propTypes2.default.bool,style:_propTypes2.default.object,t:_propTypes2.default.func,measure:_propTypes2.default.func,timeFlag:_propTypes2.default.string,imgCache:_propTypes2.default.object,replyOfferRequested:_propTypes2.default.func,resendMessageRequested:_propTypes2.default.func,conversation:_propTypes2.default.object,currentUser:_propTypes2.default.object,currentBuyer:_propTypes2.default.object,isSubAccount:_propTypes2.default.bool,visitShopSellerCenterRequested:_propTypes2.default.func,visitMallRequested:_propTypes2.default.func,autoTranslation:_propTypes2.default.string,translateMessagesRequested:_propTypes2.default.func,changeTranslateStatus:_propTypes2.default.func,populateMessageRequested:_propTypes2.default.func,isLastSystemMessage:_propTypes2.default.bool,hasSourceMessageMap:_propTypes2.default.object,isScChat:_propTypes2.default.bool,claimVoucherRequested:_propTypes2.default.func,evaluationRequested:_propTypes2.default.func,sendMessagesRequested:_propTypes2.default.func,showModal:_propTypes2.default.func,closeModal:_propTypes2.default.func},BaseMessage},_default=BaseMessage,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(MSG_TYPE_WEBVIEW,"MSG_TYPE_WEBVIEW","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_NOTIFICATION,"MSG_TYPE_NOTIFICATION","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_ORDER,"MSG_TYPE_ORDER","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_OFFER,"MSG_TYPE_OFFER","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_IMAGE,"MSG_TYPE_IMAGE","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_STICKER,"MSG_TYPE_STICKER","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(MSG_TYPE_RATE_CARDS,"MSG_TYPE_RATE_CARDS","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(CHECK_PROPS,"CHECK_PROPS","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(BaseMessage,"BaseMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},"/PCz":function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _stringify=__webpack_require__("gDS+"),_stringify2=_interopRequireDefault(_stringify),_extends2=__webpack_require__("QbLZ"),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_ProductItem=__webpack_require__("DNEm"),_ProductItem2=_interopRequireDefault(_ProductItem),_Processor=__webpack_require__("9+8d"),_Processor2=_interopRequireDefault(_Processor),_index=__webpack_require__("E3q5"),_index2=_interopRequireDefault(_index),_util=__webpack_require__("KmjB"),_servers=__webpack_require__("ppeG"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},CartReminderMessage=function(_React$PureComponent){function CartReminderMessage(e){(0,_classCallCheck3.default)(this,CartReminderMessage);var t=(0,_possibleConstructorReturn3.default)(this,(CartReminderMessage.__proto__||(0,_getPrototypeOf2.default)(CartReminderMessage)).call(this,e));return t.renderItemQuantity=t.renderItemQuantity.bind(t),t.renderFooter=t.renderFooter.bind(t),t.isProductInValid=t.isProductInValid.bind(t),t.needRemeasure=!1,t}return(0,_inherits3.default)(CartReminderMessage,_React$PureComponent),(0,_createClass3.default)(CartReminderMessage,[{key:"componentDidMount",value:function(){this.props.measure()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.textContent,a=void 0===t?[]:t,r=e.textContent,o=void 0===r?[]:r;a.length!==o.length&&(this.needRemeasure=!0)}},{key:"componentDidUpdate",value:function(){this.needRemeasure&&(this.props.measure(),this.needRemeasure=!1)}},{key:"isProductInValid",value:function(e){var t=e.status,a=e.stock;return 1!==t||a<=0}},{key:"renderItemQuantity",value:function(e){var t=this.props.t;return _react2.default.createElement("div",{className:_index2.default.quantity},t("message.cart_reminder.item_quantity"),": ",e)}},{key:"renderFooter",value:function(){var e=this.props,t=e.t,a=e.conversation,r=e.content,o=r.cart_items,s=void 0===o?[]:o,n=r.shop_id,_=s.map((function(e){var t=e.model_id,a=e.item_id,r=e.group_id,o={};return t&&(o.modelId=t),r&&"0"!==r&&(o.itemGroupId=""+r),(0,_extends3.default)({shopId:n,itemId:a},o)})),u=(a||{}).shop,l=(u&&u.country?u.country:"SG").toLowerCase(),i=(0,_util.encode)((0,_stringify2.default)(_)),d="https://"+(0,_servers.getMallUrl)(l)+"/cart?referrerItems="+i+"&source=seller_chat";return _react2.default.createElement("div",{className:_index2.default.footer,onClick:function(){return window.open(d)}},t("message.cart_reminder.go_to_cart"))}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,r=t.isSend,o=t.textContent,s=void 0===o?[]:o,n=t.fetchStatus,_=t.handleReload,u=t.content.cart_items,l=void 0===u?[]:u;if("failed"===n)return _react2.default.createElement(_Processor2.default,{type:"reload",messageType:"shopping_cart",reloadRequest:_});var i=l.length,d=s.every((function(t){return e.isProductInValid(t)})),c=s.slice(0,4),p=_index2.default.root+" "+(r?_index2.default.send:_index2.default.receive),f=i>4?this.renderItemQuantity(i):null,m=c.map((function(t){var r=t.name,o=t.price,s=t.image,n=t.model;n&&(n.model_name&&(r=n.model_name),o=n.price);var _=t.region,u=t.shop_id,l=t.item_id,i=e.isProductInValid(t);return _react2.default.createElement(_ProductItem2.default,{key:t.item_id,t:a,name:r,price:o,image:s,region:_,shopId:u,itemId:l,inValid:i})})),g=d||r?null:this.renderFooter();return _react2.default.createElement("div",{className:p},_react2.default.createElement("div",{className:_index2.default.header},a("message.cart_reminder")),m,f,g)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),CartReminderMessage}(_react2.default.PureComponent);CartReminderMessage.propTypes={t:_propTypes2.default.func,measure:_propTypes2.default.func,isSend:_propTypes2.default.bool,textContent:_propTypes2.default.array,fetchStatus:_propTypes2.default.string,handleReload:_propTypes2.default.func,content:_propTypes2.default.object,conversation:_propTypes2.default.object};var _default=(0,_BaseMessage2.default)(CartReminderMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(CartReminderMessage,"CartReminderMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/CartReminderMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/CartReminderMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},"4Q5n":function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__("QbLZ"),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_ProductItem=__webpack_require__("dm17"),_ProductItem2=_interopRequireDefault(_ProductItem),_index=__webpack_require__("NSnx"),_index2=_interopRequireDefault(_index),_currency=__webpack_require__("EOYI"),_servers=__webpack_require__("ppeG"),_Count=__webpack_require__("azN6"),_Count2=_interopRequireDefault(_Count),_time=__webpack_require__("b5/c"),_reactDotdotdot=__webpack_require__("m2L4"),_reactDotdotdot2=_interopRequireDefault(_reactDotdotdot),_messages=__webpack_require__("3atR"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},UpComing=_messages.PromotionStatus.UpComing,OnGoing=_messages.PromotionStatus.OnGoing,Expired=_messages.PromotionStatus.Expired,FlashSaleMessage=function(_React$PureComponent){function FlashSaleMessage(e){(0,_classCallCheck3.default)(this,FlashSaleMessage);var t=(0,_possibleConstructorReturn3.default)(this,(FlashSaleMessage.__proto__||(0,_getPrototypeOf2.default)(FlashSaleMessage)).call(this,e));return t.renderProductList=t.renderProductList.bind(t),t.isProductInValid=t.isProductInValid.bind(t),t.renderHeaderText=t.renderHeaderText.bind(t),t.renderFooter=t.renderFooter.bind(t),t.countOnSec=t.countOnSec.bind(t),t.tick=t.tick.bind(t),t.formatTime=t.formatTime.bind(t),t.transValue=t.transValue.bind(t),t.needRemeasure=!1,t.timerID=null,t.status="",t.state={date:Math.floor(Date.now()/1e3)},t}return(0,_inherits3.default)(FlashSaleMessage,_React$PureComponent),(0,_createClass3.default)(FlashSaleMessage,[{key:"componentDidMount",value:function(){this.countOnSec(),this.props.measure()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerID)}},{key:"countOnSec",value:function(){var e=this;clearTimeout(this.timerID),this.timerID=setTimeout((function(){e.tick(),e.countOnSec()}),1e3)}},{key:"tick",value:function(){this.setState({date:Math.floor(Date.now()/1e3)})}},{key:"formatTime",value:function(e){return e>=10?e:"0"+e}},{key:"calculateLeftTime",value:function(e){var t=e-this.state.date;if(t<=0)return{isReachEndTime:!0};var a=Math.floor(t/86400),r=Math.floor(t%86400/3600),o=Math.floor(t%3600/60),s=Math.floor(t%3600%60);return{isReachEndTime:!1,day:!!a&&this.formatTime(a),hour:this.formatTime(r),minute:this.formatTime(o),second:this.formatTime(s)}}},{key:"isProductInValid",value:function(e){return e.stock<=0}},{key:"transValue",value:function(e){return e/1e5}},{key:"renderProductList",value:function(e,t,a,r){var o=this,s=this.props.t;return e.map((function(e){var n=e.name,_=e.raw_discount,u=e.price,l=e.hidden_price_display,i=e.image,d=e.item_id,c=o.transValue(u),p=r===UpComing?(0,_currency.transPrice)(l||c,t):(0,_currency.formatPrice)(c,t),f="https://"+(0,_servers.getMallUrl)(t)+"/product/"+a+"/"+d+"/",m=o.isProductInValid(e),g=m?_react2.default.createElement("div",{className:_index2.default.soldout},s("conversation_detail.conversation_origin.product_origin.sold_out")):r!==UpComing&&_<100&&_>0?_react2.default.createElement("div",{className:_index2.default.discount},_,"% ",s("common.label.off")):null;return _react2.default.createElement(_ProductItem2.default,{key:e.item_id,name:n,price:p,image:i,inValid:m,url:f,status:g})}))}},{key:"renderHeaderText",value:function(e){var t=this.props,a=t.t,r=t.content,o=r.start_time,s=r.end_time,n=(0,_time.customizeTime)(1e3*o),_=e===OnGoing?this.calculateLeftTime(s):{},u=e===UpComing?_react2.default.createElement("span",{className:_index2.default.headerText},_react2.default.createElement(_reactDotdotdot2.default,{tagName:"span",clamp:1},a("common.flash_sale.start_at")," ",n)):e!==OnGoing||_.isReachEndTime?_react2.default.createElement("span",{className:_index2.default.headerText,title:a("message.flash_sale.end")},_react2.default.createElement(_reactDotdotdot2.default,{tagName:"span",clamp:1},a("message.flash_sale.end"))):_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("span",{className:_index2.default.textEnd},a("common.flash_sale.end_in")),(0,_Count2.default)((0,_extends3.default)({},_))),l=_index2.default.productHeader+" "+(e===Expired?_index2.default.productHeaderInactive:"");return _react2.default.createElement("div",{className:_index2.default.header},_react2.default.createElement("div",{className:l},a("message.flash_sale")),_react2.default.createElement("div",{className:_index2.default.headerRight},u))}},{key:"renderFooter",value:function(e,t,a){var r=this.props.t,o=e[0].item_id,s="https://"+(0,_servers.getMallUrl)(t)+"/product/"+a+"/"+o+"/";return _react2.default.createElement("div",{className:_index2.default.footer,onClick:function(){window.open(s)}},r("conversation_detail.conversation_origin.view_details"))}},{key:"render",value:function(){var e=this.props,t=e.isSend,a=e.content,r=a.shop_id,o=a.start_time,s=a.end_time,n=a.flash_sale_item,_=void 0===n?[]:n,u=e.conversation,l=this.state.date,i=(u||{}).shop,d=(i&&i.country?i.country:"SG").toLowerCase();this.status=l<o?UpComing:l<s&&l>o?OnGoing:Expired;var c=_.slice(0,4),p=_index2.default.root+" "+(t?_index2.default.send:_index2.default.receive),f=this.renderProductList(c,d,r,this.status),m=this.renderHeaderText(this.status),g=1===_.length&&this.renderFooter(_,d,r);return _react2.default.createElement("div",{className:p},m,f,g)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FlashSaleMessage}(_react2.default.PureComponent);FlashSaleMessage.propTypes={t:_propTypes2.default.func,measure:_propTypes2.default.func,isSend:_propTypes2.default.bool,content:_propTypes2.default.object,conversation:_propTypes2.default.object};var _default=(0,_BaseMessage2.default)(FlashSaleMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(UpComing,"UpComing","/workspace/src/components/MessageSectionLayout/ConversationMessages/FlashSaleMessage/index.js"),reactHotLoader.register(OnGoing,"OnGoing","/workspace/src/components/MessageSectionLayout/ConversationMessages/FlashSaleMessage/index.js"),reactHotLoader.register(Expired,"Expired","/workspace/src/components/MessageSectionLayout/ConversationMessages/FlashSaleMessage/index.js"),reactHotLoader.register(FlashSaleMessage,"FlashSaleMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/FlashSaleMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/FlashSaleMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},"5se9":function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__("QbLZ"),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_Menus=__webpack_require__("SdKD"),_Menus2=_interopRequireDefault(_Menus),_Modal=__webpack_require__("axYV"),_Modal2=_interopRequireDefault(_Modal),_Tooltip=__webpack_require__("eHDM"),_Tooltip2=_interopRequireDefault(_Tooltip),_ToastBubble=__webpack_require__("OTLN"),_ToastBubble2=_interopRequireDefault(_ToastBubble),_ConversationLists=__webpack_require__("g6PX"),_ConversationLists2=_interopRequireDefault(_ConversationLists),_ConversationDetail=__webpack_require__("FO8H"),_ConversationDetail2=_interopRequireDefault(_ConversationDetail),_tracker=__webpack_require__("00nt"),_newbieCheck=__webpack_require__("bUJ5"),_util=__webpack_require__("KmjB"),_goToWebChat=__webpack_require__("OW4m"),_goToWebChat2=_interopRequireDefault(_goToWebChat),_servers=__webpack_require__("ppeG"),_newbie=__webpack_require__("b8Cw"),_blank=__webpack_require__("oWPI"),_blank2=_interopRequireDefault(_blank),_faildload=__webpack_require__("S4Or"),_faildload2=_interopRequireDefault(_faildload),_serverError=__webpack_require__("VTii"),_serverError2=_interopRequireDefault(_serverError),_index=__webpack_require__("vJMG"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},MainLayout=function(_React$PureComponent){function MainLayout(e){(0,_classCallCheck3.default)(this,MainLayout);var t=(0,_possibleConstructorReturn3.default)(this,(MainLayout.__proto__||(0,_getPrototypeOf2.default)(MainLayout)).call(this,e));return t.handleGotIt=t.handleGotIt.bind(t),t.handleMenusOpen=t.handleMenusOpen.bind(t),t.handleMenusClose=t.handleMenusClose.bind(t),t.handleClickEntry=t.handleClickEntry.bind(t),t.handleGoToWebchat=t.handleGoToWebchat.bind(t),t.getToolbarContent=t.getToolbarContent.bind(t),t.state={isStatusHoverd:!1,isStatusMenuOpen:!1},t.openedWindow=null,t.openWebChatTimer=null,t.hasBindMessageEvent=!1,t.goToWebchatConfig={key:"seeAll",tip:"header.tooltip.see_all",customProps:{position:"right",edgeDistance:12},icon:"seeAll",handler:t.handleGoToWebchat},t.minimizeConfig={key:"minimize",tip:"header.tooltip.minimize",icon:"minimize",handler:function(e){var a=t.props,r=a.updateChatWindowStatus,o=a.currentUser;r({shouldShowWindow:!1}),(0,_tracker.tracker)(o,"","close_button")}},t}return(0,_inherits3.default)(MainLayout,_React$PureComponent),(0,_createClass3.default)(MainLayout,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentUser;e.isScChat&&(0,_tracker.tracker)(t,"","chat_icon",{ctx_url:window.location.href},"impression")}},{key:"handleGoToWebchat",value:function(e,t){var a=(0,_servers.getWebChatUrl)(),r=this.props,o=r.currentUser,s=r.currentConversation;(0,_tracker.tracker)(o,"","to_webchat_button"),(0,_goToWebChat2.default)({currentConversation:s,webChatUrl:a})}},{key:"checkNewbie",value:function(e,t){var a=_newbie.SuperCategory[t?"ENTRY":"HEADER"];return!!(0,_newbieCheck.newbieCheck)(e,{superType:a,secondaryType:_newbie.SecondaryCategory.MODAL})}},{key:"handleGotIt",value:function(e){var t=_newbie.SuperCategory[e?"ENTRY":"HEADER"],a=this.props,r=a.newbie;(0,a.updateGuideRequested)({newbieId:(0,_newbieCheck.newbieCheck)(r,{superType:t,secondaryType:_newbie.SecondaryCategory.MODAL}).id})}},{key:"getToolbarContent",value:function(){var e=this.props,t=e.t,a=e.isScChat,r=e.currentUser,o=e.showConversationDetail,s=e.updateConversationDetailStatus,n=[];return o?n.push({key:"hideDialog",tip:"header.tooltip.close_dialog",icon:"hideDialog",handler:function(e){s({shouldShowConversationDetail:!1}),(0,_tracker.tracker)(r,"","fold_button")}}):n.push({key:"showDialog",tip:"header.tooltip.open_dialog",icon:"showDialog",handler:function(e){s({shouldShowConversationDetail:!0,needMark:!0}),(0,_tracker.tracker)(r,"","unfold_button")}}),n.push(this.minimizeConfig),a&&n.push(this.goToWebchatConfig),_react2.default.createElement("div",{className:_index2.default.operatorWrapper},n.map((function(e){return _react2.default.createElement("div",{key:e.key,className:_index2.default.operatorItemWrapper},_react2.default.createElement(_Tooltip2.default,(0,_extends3.default)({title:t(e.tip)},e.customProps||{},{label:_react2.default.createElement("div",{className:_index2.default[e.icon],onClick:e.handler})})))})))}},{key:"getStatusMenuOption",value:function(e){var t=this.props,a=t.updateUserRequested,r=t.t,o=t.currentUser;return[{name:_react2.default.createElement("div",{className:_index2.default.statusOption},_react2.default.createElement("div",{className:_index2.default.selected},e&&_react2.default.createElement("div",{className:_index2.default.currentStatus})),_react2.default.createElement("div",{className:_index2.default.status+" "+_index2.default.working}),_react2.default.createElement("div",{className:e?_index2.default.active:""},r("common.online"))),handleSelect:function(){!e&&a({status:"working"}),!e&&(0,_tracker.tracker)(o,"shop_head_status_dropdown","status_online_button")},meta:{noBorder:!0}},{name:_react2.default.createElement("div",{className:_index2.default.statusOption},_react2.default.createElement("div",{className:_index2.default.selected},!e&&_react2.default.createElement("div",{className:_index2.default.currentStatus})),_react2.default.createElement("div",{className:_index2.default.status+" "+_index2.default.hangup}),_react2.default.createElement("div",{className:e?"":_index2.default.active},r("common.offline"))),handleSelect:function(){e&&a({status:"hang_up"}),e&&(0,_tracker.tracker)(o,"shop_head_status_dropdown","status_hangup")}}]}},{key:"handleMenusOpen",value:function(){var e=this.props,t=e.currentUser,a=e.updateOpenedMenu;(0,_tracker.tracker)(t,"","shop_head_status"),a("user_status"),this.setState({isStatusMenuOpen:!0})}},{key:"handleMenusClose",value:function(){this.setState({isStatusMenuOpen:!1})}},{key:"handleClickEntry",value:function(){var e=this.props,t=e.showChatWindow,a=e.currentUser,r=e.loginSuccess,o=e.socketSuccess,s=e.totalUnreadCount,n=e.updateChatWindowStatus;t||(n({shouldShowWindow:!0}),r&&o&&(0,_tracker.tracker)(a,"","chat_icon",{redbot:s,ctx_url:window.location.href}))}},{key:"makeChatWindowsContent",value:function(){var e=this.props,t=e.t,a=e.toast,r=e.isScChat,o=e.openedMenu,s=e.currentUser,n=e.currentBuyer,_=e.isSubAccount,u=e.loginSuccess,l=e.socketSuccess,i=e.connectSocket,d=e.updateOpenedMenu,c=e.currentConversation,p=e.setToastInformation,f=e.currentConversationId,m=e.showConversationDetail,g={t:t,isScChat:r,openedMenu:o,currentUser:s,isSubAccount:_,currentBuyer:n,loginSuccess:u,socketSuccess:l,updateOpenedMenu:d,setToastInformation:p,currentConversation:c,showConversationDetail:m,changeConversationStatusRequested:e.changeConversationStatusRequested,currentUserId:(s||{}).id};return u?l?_react2.default.createElement(_react2.default.Fragment,null,m&&_react2.default.createElement(_ToastBubble2.default,{toast:a,isScChat:r,setToastInformation:p}),_react2.default.createElement("div",{className:_index2.default.details},f?_react2.default.createElement(_ConversationDetail2.default,g):_react2.default.createElement("div",{className:_index2.default.blank},_react2.default.createElement("img",{src:_blank2.default,className:_index2.default.image}),_react2.default.createElement("div",{className:_index2.default.title},t("blank_page."+(r?"":"mall_")+"title")),r&&_react2.default.createElement("div",{className:_index2.default.subtitle},t("blank_page.tip")))),_react2.default.createElement(_ConversationLists2.default,g),_react2.default.createElement(_Modal2.default,null)):_react2.default.createElement("div",{className:_index2.default.maxBlank},_react2.default.createElement("img",{src:_faildload2.default,className:_index2.default.errorImage}),_react2.default.createElement("div",{className:_index2.default.title},t("socket_error.title")),_react2.default.createElement("div",{className:_index2.default.reload,onClick:i},t("common.error.reload"))):_react2.default.createElement("div",{className:_index2.default.maxBlank},_react2.default.createElement("img",{src:_serverError2.default,className:_index2.default.errorImage}),_react2.default.createElement("div",{className:_index2.default.title},t("common.error.hint_text")),_react2.default.createElement("div",{className:_index2.default.subtitle},t("login_error.tips")))}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,r=t.newbie,o=t.isScChat,s=t.showEntry,n=t.openedMenu,_=t.currentUser,u=t.isSubAccount,l=t.showChatWindow,i=t.totalUnreadCount,d=t.showConversationDetail,c=this.state,p=c.isStatusHoverd,f=c.isStatusMenuOpen,m=_.distribution_status,g=_.locale,v="tw"===(0,_util.handleLocale)(g,!1),y="working"===m,M=this.getStatusMenuOption(y),h=i>0,b=i>99?"99+":i,C=_index2.default.userStatus+" "+_index2.default.hoverStyle+" "+(y?_index2.default.working:_index2.default.hangup),k=this.getToolbarContent(),q=_index2.default.wrapper+" "+(o&&!l?_index2.default.scEntry:"")+" "+(l?d?_index2.default.container:_index2.default.halfContainer:h?_index2.default.hasUnread:""),R=!l;return s&&_react2.default.createElement("div",{className:q,style:o?{borderRadius:"4px"}:{}},_react2.default.createElement("div",{className:_index2.default.root},_react2.default.createElement("div",{className:_index2.default.logoWrapper,onClick:this.handleClickEntry},i>0&&_react2.default.createElement("div",{className:_index2.default.counts},b),u&&m&&!l&&_react2.default.createElement("div",{className:_index2.default.statusDot+" "+_index2.default[m]}),u&&l&&_react2.default.createElement("div",{className:_index2.default.customMenu},_react2.default.createElement(_Menus2.default,{options:M,position:"right",menuKey:"user_status",openedMenu:n,onOpen:this.handleMenusOpen,onClose:this.handleMenusClose,label:_react2.default.createElement(_Tooltip2.default,{title:a("common."+(y?"online":"offline")),label:_react2.default.createElement("div",{className:C,onMouseEnter:function(){return e.setState({isStatusHoverd:!0})},onMouseLeave:function(){return e.setState({isStatusHoverd:!1})}},(f||p)&&_react2.default.createElement("div",{className:_index2.default.arrow}))})})),_react2.default.createElement("div",{className:_index2.default.chat}),_react2.default.createElement("div",{className:v?_index2.default.twLogo:_index2.default.logo}),!!i&&_react2.default.createElement("div",{className:_index2.default.unread},i)),o&&!l&&_react2.default.createElement("div",{className:_index2.default.jumpbar,onClick:function(t){return e.handleGoToWebchat(t,!0)}},_react2.default.createElement(_Tooltip2.default,{position:"right",edgeDistance:10,title:a("header.tooltip.see_all"),label:_react2.default.createElement("div",{className:_index2.default.jump})})),l&&k),_react2.default.createElement("div",{className:_index2.default.windows},this.makeChatWindowsContent()),o&&this.checkNewbie(r,R)&&_react2.default.createElement("div",{className:_index2.default[R?"portal":"headerPortal"]},_react2.default.createElement("div",{className:_index2.default.guideContent},R?_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("div",{className:_index2.default.guideItem},_react2.default.createElement("span",{className:_index2.default.guideIcon+" "+_index2.default.chatLogo}),_react2.default.createElement("span",{className:_index2.default.guideTip},a("newbie.tips.chat_icon"))),_react2.default.createElement("div",{className:_index2.default.guideItem},_react2.default.createElement("span",{className:_index2.default.guideIcon+" "+_index2.default.jump}),_react2.default.createElement("span",{className:_index2.default.guideTip},a("newbie.tips.open_webchat_icon")))):_react2.default.createElement("div",{className:_index2.default.guideItem},_react2.default.createElement("span",{className:_index2.default.guideIcon+" "+_index2.default.hideDialog}),_react2.default.createElement("span",{className:_index2.default.guideTip},a("newbie.tips.hide_conversation")))),_react2.default.createElement("div",{className:_index2.default.guideBtn,onClick:function(){return e.handleGotIt(R)}},a("settings.message_shortcuts.import.confirm"))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),MainLayout}(_react2.default.PureComponent);MainLayout.propTypes={t:_propTypes2.default.func,toast:_propTypes2.default.object,newbie:_propTypes2.default.array,isScChat:_propTypes2.default.bool,showEntry:_propTypes2.default.bool,openedMenu:_propTypes2.default.string,currentUser:_propTypes2.default.object,isSubAccount:_propTypes2.default.bool,loginSuccess:_propTypes2.default.bool,currentBuyer:_propTypes2.default.object,socketSuccess:_propTypes2.default.bool,connectSocket:_propTypes2.default.func,showChatWindow:_propTypes2.default.bool,updateChatParams:_propTypes2.default.func,updateOpenedMenu:_propTypes2.default.func,totalUnreadCount:_propTypes2.default.number,updateUserRequested:_propTypes2.default.func,setToastInformation:_propTypes2.default.func,currentConversation:_propTypes2.default.object,updateGuideRequested:_propTypes2.default.func,currentConversationId:_propTypes2.default.string,updateChatWindowStatus:_propTypes2.default.func,showConversationDetail:_propTypes2.default.bool,resetConversationRequested:_propTypes2.default.func,updateConversationDetailStatus:_propTypes2.default.func,changeConversationStatusRequested:_propTypes2.default.func};var _default=MainLayout,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(MainLayout,"MainLayout","/workspace/src/components/MainLayout/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MainLayout/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},"7Og2":function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_reactI18next=__webpack_require__("9kay"),_Failed=__webpack_require__("YZUc"),_Failed2=_interopRequireDefault(_Failed),_TextItem=__webpack_require__("ktc7"),_TextItem2=_interopRequireDefault(_TextItem),_Translating=__webpack_require__("QWlY"),_Translating2=_interopRequireDefault(_Translating),_status=__webpack_require__("b/qR"),_status2=_interopRequireDefault(_status),_index=__webpack_require__("9B07"),_index2=_interopRequireDefault(_index),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},TranslateResult=function(_React$PureComponent){function TranslateResult(e){(0,_classCallCheck3.default)(this,TranslateResult);var t=(0,_possibleConstructorReturn3.default)(this,(TranslateResult.__proto__||(0,_getPrototypeOf2.default)(TranslateResult)).call(this,e));return t.renderTranslateStatus=t.renderTranslateStatus.bind(t),t.translateMessage=t.translateMessage.bind(t),t.changeTranslateStatus=t.changeTranslateStatus.bind(t),t}return(0,_inherits3.default)(TranslateResult,_React$PureComponent),(0,_createClass3.default)(TranslateResult,[{key:"changeTranslateStatus",value:function(){var e=this.props,t=e.changeTranslateStatus;t({messageId:e.messageId,status:_status2.default.SUCCEED})}},{key:"translateMessage",value:function(){var e=this.props,t=e.content;(0,e.translateMessagesRequested)({text:t,messageId:e.messageId,toUserId:e.toUserId,shopId:e.shopId,from:e.isSend?"seller":"buyer"})}},{key:"renderTranslateStatus",value:function(){var e=this.props,t=e.t,a=e.isSend,r=e.status,o=e.isGoogleSource,s=e.translationText,n=null;switch(r){case _status2.default.PENDING:n=_react2.default.createElement(_Translating2.default,{isSend:a});break;case _status2.default.SUCCEED:var _=_index2.default.success+" "+(a?_index2.default.send:_index2.default.receive),u=_index2.default.result+" "+(a?_index2.default.send:_index2.default.receive);n=_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("div",{className:u},_react2.default.createElement("div",{className:_}),_react2.default.createElement(_TextItem2.default,{content:s})),o&&_react2.default.createElement("div",{className:_index2.default.provider},t("auto_translation.provider")));break;case _status2.default.FAILED:var l=this.props,i=l.isManual,d=l.isScChat,c=l.translationAccess;n=_react2.default.createElement(_Failed2.default,{translationAccess:c,isScChat:d,isSend:a,isManual:i,translateMessagesRequested:this.translateMessage});break;case _status2.default.HISTORY:n=_react2.default.createElement("div",{className:_index2.default.show,onClick:this.translateMessage},t("auto_translation.manual_translate"));break;case _status2.default.SHOW:n=_react2.default.createElement("div",{className:_index2.default.show,onClick:this.changeTranslateStatus},t("auto_translation.show_result"))}return n}},{key:"render",value:function(){return _react2.default.createElement("div",{className:_index2.default.root},this.renderTranslateStatus())}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),TranslateResult}(_react2.default.PureComponent);TranslateResult.propTypes={t:_propTypes2.default.func,messageId:_propTypes2.default.string,content:_propTypes2.default.string.isRequired,isSend:_propTypes2.default.bool,status:_propTypes2.default.string,translateMessagesRequested:_propTypes2.default.func,translationText:_propTypes2.default.string,changeTranslateStatus:_propTypes2.default.func,isManual:_propTypes2.default.string,toUserId:_propTypes2.default.number,shopId:_propTypes2.default.number,isGoogleSource:_propTypes2.default.bool,isScChat:_propTypes2.default.bool,translationAccess:_propTypes2.default.bool};var _default=(0,_reactI18next.withTranslation)()(TranslateResult),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(TranslateResult,"TranslateResult","/workspace/src/components/MessageSectionLayout/ConversationMessages/Common/TranslateResult/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/Common/TranslateResult/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},"7hFk":function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_LoadingSpin=__webpack_require__("Jitt"),_LoadingSpin2=_interopRequireDefault(_LoadingSpin),_Image=__webpack_require__("2Sse"),_Image2=_interopRequireDefault(_Image),_servers=__webpack_require__("ppeG"),_servers2=_interopRequireDefault(_servers),_index=__webpack_require__("s9Es"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},TYPE="stickerMessage",StickerMessage=function(_PureComponent){function StickerMessage(e,t){(0,_classCallCheck3.default)(this,StickerMessage);var a=(0,_possibleConstructorReturn3.default)(this,(StickerMessage.__proto__||(0,_getPrototypeOf2.default)(StickerMessage)).call(this,e,t));return a.replaceCacheKey(),a.state={loadFailed:!1},a}return(0,_inherits3.default)(StickerMessage,_PureComponent),(0,_createClass3.default)(StickerMessage,[{key:"componentDidUpdate",value:function(){this.replaceCacheKey()}},{key:"componentWillUnmount",value:function(){this.unmountd=!0}},{key:"replaceCacheKey",value:function(){var e=this.props,t=e.imgCache,a=e.request_id,r=e.id;if(a&&t[a]&&r!==a){var o=t[a];delete t[a],t[r]=o}}},{key:"loadImage",value:function(e){var t=this,a=this.props,r=a.imgCache,o=a.id,s=new Image;s.onload=function(){r[o]=!0,t.unmountd||t.forceUpdate(),s.onload=null,s.onerror=null},s.onerror=function(){s.onload=null,s.onerror=null,t.setState({loadFailed:!0})},s.src=e}},{key:"render",value:function(){var e=this.props,t=e.content,a=e.imgCache,r=e.id,o=e.isSend,s=e.isSending,n=t.sticker_id,_=t.sticker_package_id,u=t.format,l=void 0===u?"png":u;if(this.state.loadFailed)return _react2.default.createElement(_Image2.default,{type:TYPE,className:_index2.default.sticker});var i="https://"+_servers2.default.STICKERS_URI+"/packs/"+_+"/"+n+"@1x."+l;if(!a[r])return this.loadImage(i),_react2.default.createElement("div",{className:_index2.default.loadingSticker},_react2.default.createElement(_LoadingSpin2.default,{theme:"dark"}));var d=_index2.default.root+" "+(o&&s?_index2.default.sending:"");return _react2.default.createElement("div",{className:d},_react2.default.createElement(_Image2.default,{src:i,type:TYPE,className:_index2.default.sticker}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),StickerMessage}(_react.PureComponent);StickerMessage.propTypes={imgCache:_propTypes2.default.object,request_id:_propTypes2.default.string,id:_propTypes2.default.string,content:_propTypes2.default.object,isSend:_propTypes2.default.bool,isSending:_propTypes2.default.bool};var _default=(0,_BaseMessage2.default)(StickerMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(TYPE,"TYPE","/workspace/src/components/MessageSectionLayout/ConversationMessages/StickerMessage/index.js"),reactHotLoader.register(StickerMessage,"StickerMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/StickerMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/StickerMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},"9uOX":function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_messages=__webpack_require__("3atR"),_messages2=_interopRequireDefault(_messages),_message=__webpack_require__("yDfg"),_index=__webpack_require__("L0UQ"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},YES="yes",NO="no",PROMPT=[YES,NO],FAQFeedbackPromptMessage=function(_React$PureComponent){function FAQFeedbackPromptMessage(e){(0,_classCallCheck3.default)(this,FAQFeedbackPromptMessage);var t=(0,_possibleConstructorReturn3.default)(this,(FAQFeedbackPromptMessage.__proto__||(0,_getPrototypeOf2.default)(FAQFeedbackPromptMessage)).call(this,e));return t.handleSendFeedback=t.handleSendFeedback.bind(t),t}return(0,_inherits3.default)(FAQFeedbackPromptMessage,_React$PureComponent),(0,_createClass3.default)(FAQFeedbackPromptMessage,[{key:"handleSendFeedback",value:function(e){var t=e===YES,a=this.props,r=a.t,o=a.id,s=a.content,n=a.conversation,_=a.sendMessagesRequested,u=s.faq_id,l=s.question_id,i=n.id,d=n.shop_id;_({conversationId:i,conversationUserId:n.to_id,messages:[{shopId:d,type:_messages2.default.MSG_TYPE_FAQ_FEEDBACK,content:{helpful:t,faq_id:u,text:r("common."+e),question_id:l,feedback_msg_id:parseInt(o)}}]})}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,r=t.type;return _react2.default.createElement("div",{className:_index2.default.root},_react2.default.createElement("div",{className:_index2.default.text},(0,_message.getCustomMessageText)(r)),_react2.default.createElement("div",{className:_index2.default.prompt},PROMPT.map((function(t){return _react2.default.createElement("div",{key:t,className:_index2.default.choice,onClick:function(){return e.handleSendFeedback(t)}},a("common."+t))}))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FAQFeedbackPromptMessage}(_react2.default.PureComponent);FAQFeedbackPromptMessage.propTypes={t:_propTypes2.default.func,id:_propTypes2.default.string,type:_propTypes2.default.string,content:_propTypes2.default.object,conversation:_propTypes2.default.object,sendMessagesRequested:_propTypes2.default.func};var _default=(0,_BaseMessage2.default)(FAQFeedbackPromptMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(YES,"YES","/workspace/src/components/MessageSectionLayout/ConversationMessages/FAQFeedbackPromptMessage/index.js"),reactHotLoader.register(NO,"NO","/workspace/src/components/MessageSectionLayout/ConversationMessages/FAQFeedbackPromptMessage/index.js"),reactHotLoader.register(PROMPT,"PROMPT","/workspace/src/components/MessageSectionLayout/ConversationMessages/FAQFeedbackPromptMessage/index.js"),reactHotLoader.register(FAQFeedbackPromptMessage,"FAQFeedbackPromptMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/FAQFeedbackPromptMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/FAQFeedbackPromptMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},DI0R:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__("QbLZ"),_extends3=_interopRequireDefault(_extends2),_objectWithoutProperties2=__webpack_require__("jo6Y"),_objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_index=__webpack_require__("T1DP"),_index2=_interopRequireDefault(_index),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_reactI18next=__webpack_require__("9kay"),_ProductBody=__webpack_require__("XftY"),_ProductBody2=_interopRequireDefault(_ProductBody),_OrderBody=__webpack_require__("FHw+"),_OrderBody2=_interopRequireDefault(_OrderBody),_OfferBody=__webpack_require__("TzY7"),_OfferBody2=_interopRequireDefault(_OfferBody),_Footer=__webpack_require__("ymbT"),_Footer2=_interopRequireDefault(_Footer),_messageCardLabel=__webpack_require__("kiWX"),_messageCardLabel2=_interopRequireDefault(_messageCardLabel),_url=__webpack_require__("Vt/u"),_tracker=__webpack_require__("00nt"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},SpecialMessageCard=function(_React$PureComponent){function SpecialMessageCard(e){(0,_classCallCheck3.default)(this,SpecialMessageCard);var t=(0,_possibleConstructorReturn3.default)(this,(SpecialMessageCard.__proto__||(0,_getPrototypeOf2.default)(SpecialMessageCard)).call(this,e));return t.visitInSC=t.visitInSC.bind(t),t.visitOrderInSC=t.visitOrderInSC.bind(t),t.visitProductInSC=t.visitProductInSC.bind(t),t.renderCardHeader=t.renderCardHeader.bind(t),t}return(0,_inherits3.default)(SpecialMessageCard,_React$PureComponent),(0,_createClass3.default)(SpecialMessageCard,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentUser,a=e.category,r=e.type,o=e.id,s=r+"_message"+("source"===a?"_source":""),n={};"source"===a?n[r+"_id"]=o:"offer"===r?n.itemid=o:n[r+"_id"]=o,(0,_tracker.tracker)(t,"conversation_window",s,n,"impression")}},{key:"renderCardHeader",value:function(){var e=this.props,t=e.t,a=e.type,r=t(_messageCardLabel2.default.message[a]);return _react2.default.createElement("div",{className:_index2.default.header},r)}},{key:"visitInSC",value:function(){var e=this.props,t=e.category,a=e.type;"source"===t&&("product"===a?this.visitProductInSC():"order"===a&&this.visitOrderInSC())}},{key:"visitProductInSC",value:function(){var e=this.props,t=e.currentUser,a=e.extraProps,r=a.isScChat,o=a.isSubAccount,s=a.scProductLink,n=a.mallProductLink,_=a.hasViewProductAccess,u=a.visitShopSellerCenterRequested,l=a.shopId,i=a.itemId;if((0,_tracker.tracker)(t,"conversation_window","product_message_source",{product_id:i}),r){var d=o?function(){u({shopId:l,itemId:i})}:s;(0,_url.viewLinkWithAccess)(_,d)}else window.open(n)}},{key:"visitOrderInSC",value:function(){var e=this.props,t=e.currentUser,a=e.extraProps,r=a.isScChat,o=a.hasViewOrderAccess,s=a.visitShopSellerCenterRequested,n=a.isSubAccount,_=a.shopId,u=a.orderLink,l=a.mallOrderLink,i=a.orderId;if((0,_tracker.tracker)(t,"conversation_window","order_message_source",{order_id:i}),r){var d=n?function(){s({shopId:_,orderId:i})}:u;(0,_url.viewLinkWithAccess)(o,d)}else window.open(l)}},{key:"render",value:function(){var e=this.props,t=e.category,a=e.type,r=e.image,o=(0,_objectWithoutProperties3.default)(e,["category","type","image"]),s=o.extraProps,n=s.hasViewOrderAccess,_=s.hasViewProductAccess,u=s.isSend,l=n||_,i=_index2.default.root+" "+("source"===t?_index2.default.source:_index2.default[a]);return _react2.default.createElement("div",{className:i,onClick:this.visitInSC,style:{cursor:l?"pointer":"default"}},"message"===t&&this.renderCardHeader(),"product"===a&&_react2.default.createElement(_ProductBody2.default,(0,_extends3.default)({category:t,image:r},o)),"order"===a&&_react2.default.createElement(_OrderBody2.default,(0,_extends3.default)({category:t,image:r},o)),"offer"===a&&_react2.default.createElement(_OfferBody2.default,(0,_extends3.default)({category:t,image:r},o)),"message"!==t||"order"!==a&&"product"!==a?_react2.default.createElement(_Footer2.default,(0,_extends3.default)({isSend:u,category:t,type:a},o)):null)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),SpecialMessageCard}(_react2.default.PureComponent);SpecialMessageCard.propTypes={t:_propTypes2.default.func,id:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]),currentUser:_propTypes2.default.object,category:_propTypes2.default.string.isRequired,type:_propTypes2.default.string.isRequired,image:_propTypes2.default.string,extraProps:_propTypes2.default.object.isRequired},SpecialMessageCard.defaultProps={category:"source"};var _default=(0,_reactI18next.withTranslation)()(SpecialMessageCard),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(SpecialMessageCard,"SpecialMessageCard","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},DNEm:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_reactDotdotdot=__webpack_require__("m2L4"),_reactDotdotdot2=_interopRequireDefault(_reactDotdotdot),_Image=__webpack_require__("2Sse"),_Image2=_interopRequireDefault(_Image),_currency=__webpack_require__("EOYI"),_servers=__webpack_require__("ppeG"),_index=__webpack_require__("z+9B"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ProductItem=function(_React$PureComponent){function ProductItem(e){(0,_classCallCheck3.default)(this,ProductItem);var t=(0,_possibleConstructorReturn3.default)(this,(ProductItem.__proto__||(0,_getPrototypeOf2.default)(ProductItem)).call(this,e));return t.renderProductImage=t.renderProductImage.bind(t),t}return(0,_inherits3.default)(ProductItem,_React$PureComponent),(0,_createClass3.default)(ProductItem,[{key:"renderProductImage",value:function(e,t){return _react2.default.createElement("div",{className:_index2.default.image},_react2.default.createElement(_Image2.default,{src:e}),_react2.default.createElement("div",{className:_index2.default.imageBorder}),t&&_react2.default.createElement("div",{className:_index2.default.invalid},_react2.default.createElement("div",{className:_index2.default.invalidIcon})))}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.image,r=e.name,o=e.price,s=e.inValid,n=e.region,_=e.shopId,u=e.itemId,l=this.renderProductImage(a,s),i=(0,_currency.formatPrice)(o,n),d="https://"+(0,_servers.getMallUrl)(n)+"/product/"+_+"/"+u+"/";return _react2.default.createElement("div",{className:_index2.default.detailBlock,onClick:function(){return window.open(d)}},l,_react2.default.createElement("div",{className:_index2.default.content},_react2.default.createElement("div",{className:_index2.default.name,title:r},_react2.default.createElement(_reactDotdotdot2.default,{tagName:"span",className:_index2.default.dot,clamp:1},r)),_react2.default.createElement("div",{className:_index2.default.priceDetail},_react2.default.createElement("div",{className:_index2.default.price,title:o},i),s&&_react2.default.createElement("div",{className:_index2.default.divider}),s&&_react2.default.createElement("div",{className:_index2.default.invalidBrand},_react2.default.createElement("span",null,t("cart_reminder_item_invalid"))))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ProductItem}(_react2.default.PureComponent);ProductItem.propTypes={t:_propTypes2.default.func,image:_propTypes2.default.string,name:_propTypes2.default.string,price:_propTypes2.default.string.isRequired,region:_propTypes2.default.string,inValid:_propTypes2.default.bool,shopId:_propTypes2.default.number,itemId:_propTypes2.default.number};var _default=ProductItem,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(ProductItem,"ProductItem","/workspace/src/components/MessageSectionLayout/ConversationMessages/CartReminderMessage/ProductItem/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/CartReminderMessage/ProductItem/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},DkPT:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_messages=__webpack_require__("3atR"),_messages2=_interopRequireDefault(_messages),_message=__webpack_require__("yDfg"),_index=__webpack_require__("mNPG"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},FAQLiveAgentPromptMessage=function(_React$PureComponent){function FAQLiveAgentPromptMessage(e){(0,_classCallCheck3.default)(this,FAQLiveAgentPromptMessage);var t=(0,_possibleConstructorReturn3.default)(this,(FAQLiveAgentPromptMessage.__proto__||(0,_getPrototypeOf2.default)(FAQLiveAgentPromptMessage)).call(this,e));return t.handleSendFeedback=t.handleSendFeedback.bind(t),t}return(0,_inherits3.default)(FAQLiveAgentPromptMessage,_React$PureComponent),(0,_createClass3.default)(FAQLiveAgentPromptMessage,[{key:"handleSendFeedback",value:function(e){var t=this.props,a=t.conversation,r=t.sendMessagesRequested,o=a.id,s=a.shop_id;r({conversationId:o,conversationUserId:a.to_id,messages:[{shopId:s,type:_messages2.default.MSG_TYPE_FAQ_LIVEAGENT,content:{text:(0,_message.getCustomMessageText)(_messages2.default.MSG_TYPE_FAQ_LIVEAGENT)}}]})}},{key:"render",value:function(){var e=this.props.type;return _react2.default.createElement("div",{className:_index2.default.root},_react2.default.createElement("div",{className:_index2.default.text},(0,_message.getCustomMessageText)(e)),_react2.default.createElement("div",{className:_index2.default.prompt},_react2.default.createElement("span",{className:_index2.default.agent,onClick:this.handleSendFeedback},(0,_message.getCustomMessageText)(_messages2.default.MSG_TYPE_FAQ_LIVEAGENT))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FAQLiveAgentPromptMessage}(_react2.default.PureComponent);FAQLiveAgentPromptMessage.propTypes={type:_propTypes2.default.string,conversation:_propTypes2.default.object,sendMessagesRequested:_propTypes2.default.func};var _default=(0,_BaseMessage2.default)(FAQLiveAgentPromptMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(FAQLiveAgentPromptMessage,"FAQLiveAgentPromptMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/FAQLiveAgentPromptMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/FAQLiveAgentPromptMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},F2Lx:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_LoadingSpin=__webpack_require__("Jitt"),_LoadingSpin2=_interopRequireDefault(_LoadingSpin),_Image=__webpack_require__("2Sse"),_Image2=_interopRequireDefault(_Image),_index=__webpack_require__("3c8t"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},TYPE="imageMessage",MAX_SIZE=11.5,BASE_SIZE=9.03,SIZE_RATIO={max:16/9,min:9/16},IMG_STATUS={INIT:0,LOADING:1,LOADED:2,FAILED:3},ImageMessage=function(_PureComponent){function ImageMessage(e,t){(0,_classCallCheck3.default)(this,ImageMessage);var a=(0,_possibleConstructorReturn3.default)(this,(ImageMessage.__proto__||(0,_getPrototypeOf2.default)(ImageMessage)).call(this,e,t));return a.image=null,a.unmounted=!1,a.status=e.imgCache[e.id]?IMG_STATUS.LOADED:IMG_STATUS.INIT,a.handleLoad=a.handleLoad.bind(a),a.handleError=a.handleError.bind(a),a.handleCalculate=a.handleCalculate.bind(a),a.replaceCacheKey(),a}return(0,_inherits3.default)(ImageMessage,_PureComponent),(0,_createClass3.default)(ImageMessage,[{key:"componentDidUpdate",value:function(){this.replaceCacheKey(),this.needMeasure&&(this.props.measure(),this.measured=!0,this.needMeasure=!1)}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"loadImage",value:function(e){var t=this,a=new Image;a.onload=function(){t.handleCalculate(a)},a.onerror=function(){t.handleError()},a.src=e,this.status=IMG_STATUS.LOADING}},{key:"handleCalculate",value:function(e){if(!this.measured&&!this.unmounted){var t=this.props,a=t.imgCache,r=t.id,o=e.width,s=e.height,n={maxWidth:BASE_SIZE+"em",minHeight:"1.75em"};o>s&&o/s>=SIZE_RATIO.max&&(n={maxWidth:MAX_SIZE+"em"}),o<s&&o/s<=SIZE_RATIO.min&&(n={maxHeight:MAX_SIZE+"em"}),this.status=IMG_STATUS.LOADED,a[r]={imgStyle:n},this.forceUpdate()}}},{key:"handleLoad",value:function(){this.needMeasure=!0,this.forceUpdate()}},{key:"handleError",value:function(){this.status=IMG_STATUS.FAILED,this.forceUpdate()}},{key:"replaceCacheKey",value:function(){var e=this.props,t=e.id,a=e.imgCache,r=e.request_id;r&&a[r]&&t!==r&&(a[t]=a[r],delete a[r])}},{key:"render",value:function(){var e=this,t=this.props,a=t.id,r=t.content,o=t.imgCache,s=t.isSending,n=t.isSend,_=r.url,u=o[a];if(this.status===IMG_STATUS.FAILED)return _react2.default.createElement(_Image2.default,{type:TYPE,className:_index2.default.defaultImage});if(this.status===IMG_STATUS.INIT&&this.loadImage(_),!u){var l=_index2.default.loading+" "+(n?_index2.default.send:_index2.default.receive);return _react2.default.createElement("div",{className:l},_react2.default.createElement(_LoadingSpin2.default,{theme:"dark"}))}var i=""+(s?_index2.default.sending:""),d=_index2.default.root+" "+(n?_index2.default.send:_index2.default.receive),c=(u||{}).imgStyle;return _react2.default.createElement("div",{className:d},_react2.default.createElement("a",{className:_index2.default.block,href:_,target:"_blank"},_react2.default.createElement("img",{ref:function(t){return e.image=t},src:_,style:c,className:i,onLoad:this.handleLoad,onError:this.handleError})))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ImageMessage}(_react.PureComponent);ImageMessage.propTypes={imgCache:_propTypes2.default.object,id:_propTypes2.default.string,request_id:_propTypes2.default.string,content:_propTypes2.default.object,isSending:_propTypes2.default.bool,measure:_propTypes2.default.func,isSend:_propTypes2.default.bool};var _default=(0,_BaseMessage2.default)(ImageMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(TYPE,"TYPE","/workspace/src/components/MessageSectionLayout/ConversationMessages/ImageMessage/index.js"),reactHotLoader.register(MAX_SIZE,"MAX_SIZE","/workspace/src/components/MessageSectionLayout/ConversationMessages/ImageMessage/index.js"),reactHotLoader.register(BASE_SIZE,"BASE_SIZE","/workspace/src/components/MessageSectionLayout/ConversationMessages/ImageMessage/index.js"),reactHotLoader.register(SIZE_RATIO,"SIZE_RATIO","/workspace/src/components/MessageSectionLayout/ConversationMessages/ImageMessage/index.js"),reactHotLoader.register(IMG_STATUS,"IMG_STATUS","/workspace/src/components/MessageSectionLayout/ConversationMessages/ImageMessage/index.js"),reactHotLoader.register(ImageMessage,"ImageMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/ImageMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/ImageMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},"FHw+":function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_index=__webpack_require__("oL4b"),_index2=_interopRequireDefault(_index),_common=__webpack_require__("tIYL"),_common2=_interopRequireDefault(_common),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_Image=__webpack_require__("2Sse"),_Image2=_interopRequireDefault(_Image),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},OrderBody=function(_React$PureComponent){function OrderBody(e){(0,_classCallCheck3.default)(this,OrderBody);var t=(0,_possibleConstructorReturn3.default)(this,(OrderBody.__proto__||(0,_getPrototypeOf2.default)(OrderBody)).call(this,e));return t.renderOrderStatus=t.renderOrderStatus.bind(t),t.renderOrderInfo=t.renderOrderInfo.bind(t),t}return(0,_inherits3.default)(OrderBody,_React$PureComponent),(0,_createClass3.default)(OrderBody,[{key:"renderOrderStatus",value:function(e){var t=e.status,a=e.statusText;return _react2.default.createElement("div",{className:_index2.default.orderStatus},_react2.default.createElement("div",{className:_index2.default.statusIcon+" "+_index2.default[t]}),_react2.default.createElement("div",{className:_index2.default.statusText,title:a},a))}},{key:"renderOrderInfo",value:function(e){var t=e.t,a=e.price;return _react2.default.createElement("div",{className:_index2.default.orderInfo},_react2.default.createElement("div",{className:_index2.default.firstBlock},_react2.default.createElement("div",{className:_index2.default.payment},t("common.order.payment"),": "),_react2.default.createElement("div",{className:_index2.default.income},a)))}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.category,r=e.image,o=e.price,s=e.extraProps,n=s.itemCount,_=this.renderOrderStatus(s),u=t("conversation_detail.message_list.order_total_price",{orderTotalPrice:o}),l=t("conversation_detail.message_list.order_product_count"+(n>1?"s":""),{orderProductCount:n});return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("div",{className:_common2.default.detailBlock},_react2.default.createElement("div",{className:_common2.default.image},_react2.default.createElement(_Image2.default,{src:r}),_react2.default.createElement("div",{className:_common2.default.imageBorder})),_react2.default.createElement("div",{className:_common2.default.content},_,"source"===a?_react2.default.createElement("div",{className:_index2.default.detail},_react2.default.createElement("div",{className:_index2.default.payment,title:u},u),_react2.default.createElement("div",{className:_common2.default.divider}),_react2.default.createElement("div",{className:_index2.default.sourceCount,title:l},l)):_react2.default.createElement("div",{className:_index2.default.count},l))),"message"===a&&this.renderOrderInfo({t:t,price:o,extraProps:s}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),OrderBody}(_react2.default.PureComponent);OrderBody.propTypes={t:_propTypes2.default.func,image:_propTypes2.default.string,price:_propTypes2.default.string,category:_propTypes2.default.string,extraProps:_propTypes2.default.object.isRequired};var _default=OrderBody,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(OrderBody,"OrderBody","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/OrderBody/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/OrderBody/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},GC6J:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_message=__webpack_require__("yDfg"),_index=__webpack_require__("zeYU"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},CustomMessage=function(_React$PureComponent){function CustomMessage(){return(0,_classCallCheck3.default)(this,CustomMessage),(0,_possibleConstructorReturn3.default)(this,(CustomMessage.__proto__||(0,_getPrototypeOf2.default)(CustomMessage)).apply(this,arguments))}return(0,_inherits3.default)(CustomMessage,_React$PureComponent),(0,_createClass3.default)(CustomMessage,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.isSend;return _react2.default.createElement("div",{className:_index2.default.root+" "+(a?_index2.default.send:"")},(0,_message.getCustomMessageText)(t))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),CustomMessage}(_react2.default.PureComponent);CustomMessage.propTypes={type:_propTypes2.default.string,isSend:_propTypes2.default.bool};var _default=(0,_BaseMessage2.default)(CustomMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(CustomMessage,"CustomMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/CustomMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/CustomMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},HSHk:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_Processor=__webpack_require__("9+8d"),_Processor2=_interopRequireDefault(_Processor),_util=__webpack_require__("KmjB"),_index=__webpack_require__("msvF"),_index2=_interopRequireDefault(_index),_voucher=__webpack_require__("dxvL"),_currency=__webpack_require__("EOYI"),_time=__webpack_require__("oB4V"),_time2=_interopRequireDefault(_time),_servers=__webpack_require__("ppeG"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},timeService=new _time2.default,VoucherMessage=function(_PureComponent){function VoucherMessage(e){(0,_classCallCheck3.default)(this,VoucherMessage);var t=(0,_possibleConstructorReturn3.default)(this,(VoucherMessage.__proto__||(0,_getPrototypeOf2.default)(VoucherMessage)).call(this,e));return t.formatTime=t.formatTime.bind(t),t.makeOperatorDom=t.makeOperatorDom.bind(t),t.handleUse=t.handleUse.bind(t),t.handleVisitDetail=t.handleVisitDetail.bind(t),t.needRemeasure=!1,t.handleClaim=t.handleClaim.bind(t),t}return(0,_inherits3.default)(VoucherMessage,_PureComponent),(0,_createClass3.default)(VoucherMessage,[{key:"componentDidUpdate",value:function(e){var t=this.props.textContent,a=void 0===t?{}:t;(0,_util.simpleEqualCheck)(a,e.textContent)||this.props.measure()}},{key:"formatTime",value:function(e){return timeService.create(e).format("MM.DD.YYYY")}},{key:"makeOperatorDom",value:function(e,t,a,r,o,s){var n=this.props,_=n.t,u=n.currentUser,l=(0,_util.handleLocale)(u.locale,!1);if(e){var i=o&&!s;return _react2.default.createElement("div",{className:_index2.default.btn+" "+(i?_index2.default.disabledBtn:""),onClick:i?null:this.handleVisitDetail},_react2.default.createElement("span",{className:_index2.default.btnText+" "+_index2.default[l]},_("common.details")))}return t?_react2.default.createElement("div",{className:_index2.default.statusBackground},_react2.default.createElement("div",{className:_index2.default.status},_("message.voucher.status.expired"))):r&&!a?_react2.default.createElement("div",{className:_index2.default.statusBackground},_react2.default.createElement("div",{className:_index2.default.status},_("message.voucher.status.redeem"))):a?!o&&_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("div",{className:_index2.default.statusBackground+" "+_index2.default.claimedStamp},_react2.default.createElement("div",{className:_index2.default.status+" "+_index2.default.claimedStatus},_("message.voucher.status.claimed"))),_react2.default.createElement("div",{className:_index2.default.useBtn,onClick:this.handleUse},_react2.default.createElement("span",{className:_index2.default.btnText+" "+_index2.default[l]},_("common.use")))):!o&&_react2.default.createElement("div",{className:_index2.default.btn,onClick:this.handleClaim},_react2.default.createElement("span",{className:_index2.default.btnText+" "+_index2.default[l]},_("common.claim")))}},{key:"handleUse",value:function(){var e=this.props,t=e.content.shop_id,a=e.textContent,r=void 0===a?{}:a,o=r.url,s=r.country;o&&(t=(0,_util.getUrlParam)("shop_id",o)),window.open("https://"+(0,_servers.getMallUrl)(s)+"/shop/"+t)}},{key:"handleVisitDetail",value:function(){var e=this.props,t=e.textContent,a=(t=void 0===t?{}:t).country,r=t.id,o=t.url,s=e.isSubAccount,n=e.content.shop_id,_=e.visitShopSellerCenterRequested;o&&(n=(0,_util.getUrlParam)("shop_id",o));var u="https://"+(0,_servers.getSellerCenterUrl)(a)+"/portal/marketing/vouchers/"+r;s?_({url:u,shopId:n}):window.open(u)}},{key:"handleClaim",value:function(){var e=this.props,t=e.id,a=e.content,r=a.shop_id,o=a.source,s=e.textContent,n=(s=void 0===s?{}:s).code,_=s.id,u=s.url,l=e.claimVoucherRequested;u&&(r=(0,_util.getUrlParam)("shop_id",u),o=(0,_util.getUrlParam)("source",u)),l({voucherCode:n,voucherId:_,shopId:r,messageId:t,isWebview:!!u,source:o})}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.isSend,r=e.textContent,o=void 0===r?{}:r,s=e.handleReload,n=e.isSubAccount,_=e.conversation.hasViewVoucherAccess;if(!o.reward)return"pendingCard"===o.fetchStatus?_react2.default.createElement(_Processor2.default,{type:"loading",messageType:"voucher"}):_react2.default.createElement(_Processor2.default,{type:"reload",messageType:"voucher",reloadRequest:s});var u=o.status,l=o.end_time,i=o.min_basket_size,d=o.country,c=o.claimed,p=o.stock_out,f=o.reward,m=f.value,g=f.type,v=f.discount_type,y=_index2.default.container+" "+(a?_index2.default.send:_index2.default.receive)+" ",M=t("message.voucher.rule.min_spend",{spend:(0,_currency.formatPrice)(i,d,{withUnit:!0})}),h="finished"===u,b=this.makeOperatorDom(a,h,c,p,n,_),C=v===_voucher.VOUCHER_TYPE.PERCENTAGE?m+"% "+t("common.label.off"):(0,_currency.formatPrice)(m,d);return g===_voucher.VOUCHER_TYPE.COIN_CASHBACK&&(C=C+" "+t("conversation_detail.workstation.voucher_panel.coins_cashback")),_react2.default.createElement("div",{className:y},_react2.default.createElement("div",{className:_index2.default.bodyWrap},_react2.default.createElement("div",{className:_index2.default.voucherBody},_react2.default.createElement("div",{className:_index2.default.waveWrap},_react2.default.createElement("div",{className:""+(a?_index2.default.waveSend:_index2.default.waveReceive)},_react2.default.createElement("div",{className:_index2.default.waveGap}))),_react2.default.createElement("div",{className:_index2.default.infoContainer},_react2.default.createElement("div",{className:_index2.default.infoWrap},_react2.default.createElement("div",{title:C,className:_index2.default.discount+" "+(h&&!a?_index2.default.expired:"")},C),_react2.default.createElement("div",{title:M,className:_index2.default.condition+" "+(h&&!a?_index2.default.expired:"")}," ",M," "),_react2.default.createElement("div",{className:_index2.default.deadline},t("message.voucher.valid_till")+": "+this.formatTime(l)," "))),_react2.default.createElement("div",{className:_index2.default.operatorContainer},_react2.default.createElement("div",{className:_index2.default.topCircle+" "+(a?_index2.default.send:_index2.default.receive)}),_react2.default.createElement("div",{className:_index2.default.bottomCircle+" "+(a?_index2.default.send:_index2.default.receive)}),b))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),VoucherMessage}(_react.PureComponent);VoucherMessage.propTypes={t:_propTypes2.default.func,content:_propTypes2.default.object,textContent:_propTypes2.default.object,isSend:_propTypes2.default.bool,visitShopSellerCenterRequested:_propTypes2.default.func,claimVoucherRequested:_propTypes2.default.func,isSubAccount:_propTypes2.default.bool,id:_propTypes2.default.string,handleReload:_propTypes2.default.func,measure:_propTypes2.default.func,conversation:_propTypes2.default.object,currentUser:_propTypes2.default.object};var _default=(0,_BaseMessage2.default)(VoucherMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(timeService,"timeService","/workspace/src/components/MessageSectionLayout/ConversationMessages/VoucherMessage/index.js"),reactHotLoader.register(VoucherMessage,"VoucherMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/VoucherMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/VoucherMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},HYQf:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAANlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC3dmhyAAAAEnRSTlMACQQWGxEuOQ0lPkMpNUgiMh8wHwFeAAABh0lEQVRIx43V0W7DIAyFYRsbZlIyyPu/7MBmbSMSyH81TecroVVVGPNHDGXf95Kyd7DIUSx766eXaGq42PwDtu3nuCUUygmYqISvnybV+XiCVnDcYyjWCNohMrw1oWb7kknQORSKCiwa9waynP6f+v71ovPzWCUOR0voYJPv+3ZAcBHXeWv73Dz2vcBl3sBr/1zAQrgJu2Cw0uT1LW9gs8+cDBBMYhPZbpxSSCHDtN2Ea8cpsAtMH+q3xu201DpgUVBQ2pU1XAFfQc2B6D7CMgMEpIDXIChIwDHFlGQNWMEOeX0FyyvYIGpuDVDBqwNY5/RbuD8H4LXhkZZlBfgcsAJ5DkgBPQeYtfXQvS+RYwW4Blq7RG7Rk70ByRo+AvrXUefHwc8OaHkFhzzZW3xoONlj7QNE98zuFqD1HrABxsnr277n2ADLbI/fR3KP3N3c9qNgj+e5iPw/0I0g/cHSdxJF+99fCup58pqRth9yNAFwGdINcHCX0AVAmIX+DNDBMpQ6bECu1n9QnBm+VzlPvwAAAABJRU5ErkJggg=="},HhcG:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_index=__webpack_require__("TRnR"),_index2=_interopRequireDefault(_index),_text=__webpack_require__("UP2C"),_servers=__webpack_require__("ppeG"),_util=__webpack_require__("KmjB"),_url=__webpack_require__("Vt/u"),_Processor=__webpack_require__("9+8d"),_Processor2=_interopRequireDefault(_Processor),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},RateReminderMessage=function(_React$PureComponent){function RateReminderMessage(e){(0,_classCallCheck3.default)(this,RateReminderMessage);var t=(0,_possibleConstructorReturn3.default)(this,(RateReminderMessage.__proto__||(0,_getPrototypeOf2.default)(RateReminderMessage)).call(this,e));return t.renderFooter=t.renderFooter.bind(t),t.needRemeasure=!1,t}return(0,_inherits3.default)(RateReminderMessage,_React$PureComponent),(0,_createClass3.default)(RateReminderMessage,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.order;(0,_util.simpleEqualCheck)(t,e.order)||(this.needRemeasure=!0)}},{key:"componentDidUpdate",value:function(){this.needRemeasure&&(this.props.measure(),this.needRemeasure=!1)}},{key:"renderOrderStatus",value:function(e){var t=e.status,a=e.statusText;return _react2.default.createElement("div",{className:_index2.default.orderStatus},_react2.default.createElement("div",{className:_index2.default.statusIcon+" "+_index2.default[t]}),_react2.default.createElement("div",{className:_index2.default.statusText},a))}},{key:"renderFooter",value:function(){var e=this.props.t;return _react2.default.createElement("div",{className:_index2.default.footer},_react2.default.createElement("div",{className:_index2.default.rateNow},e("message.order_review_reminder.rate_now")))}},{key:"renderNoAccess",value:function(){var e=this.props.t;return _react2.default.createElement("div",{className:_index2.default.actions},_react2.default.createElement("div",{className:_index2.default.noAccess},e("common.no_sc_access")))}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.type,r=e.country,o=e.content,s=o.order_id,n=o.shop_id,_=e.order,u=e.isSend,l=e.handleReload,i=e.conversation.hasViewOrderAccess,d=e.isSubAccount,c=e.visitShopSellerCenterRequested,p=_.productImage,f=_.spciesCount,m=_.orderPrice,g=_.orderStatus;if(_&&(!_.orderId||!_.orderSn))return _react2.default.createElement(_Processor2.default,{type:"reload",messageType:a,reloadRequest:l});var v=t(_text.OrderStatus[g]),y="https://"+(0,_servers.getMallUrl)(r)+"/user/purchase/order/"+s+"/?shopid="+n,M="https://"+(0,_servers.getSellerCenterUrl)()+"/portal/sale/"+s,h=this.renderOrderStatus({status:g,statusText:v}),b=_index2.default.root+" "+(u?_index2.default.send:_index2.default.receive)+" "+(u&&i?_index2.default.sendAccess:"");return _react2.default.createElement("div",{className:b,onClick:function(){if(u){var e=d?function(){return c({shopId:n,orderId:s})}:M;(0,_url.viewLinkWithAccess)(i,e)}else window.open(y)}},_react2.default.createElement("div",{className:_index2.default.header},t("message.order_review_reminder")),_react2.default.createElement("div",{className:_index2.default.orderBody},_react2.default.createElement("div",{className:_index2.default.productImage},_react2.default.createElement("img",{src:p})),_react2.default.createElement("div",{className:_index2.default.productInfo},h,_react2.default.createElement("div",{className:_index2.default.count},t(f<2?"common.product.item":"common.product.items",{itemCount:f})))),_react2.default.createElement("div",{className:_index2.default.orderInfo},_react2.default.createElement("div",{className:_index2.default.orderItem},_react2.default.createElement("div",{className:_index2.default.orderTitle},t("common.total"),": "),_react2.default.createElement("div",{className:_index2.default.orderContent+" "+_index2.default.income},m))),!u&&this.renderFooter(y),u&&!i&&this.renderNoAccess())}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),RateReminderMessage}(_react2.default.PureComponent);RateReminderMessage.propTypes={t:_propTypes2.default.func,type:_propTypes2.default.string,measure:_propTypes2.default.func,isSend:_propTypes2.default.bool,handleReload:_propTypes2.default.func,content:_propTypes2.default.object,order:_propTypes2.default.object,country:_propTypes2.default.string,conversation:_propTypes2.default.object,isSubAccount:_propTypes2.default.bool,visitShopSellerCenterRequested:_propTypes2.default.func},RateReminderMessage.defaultProps={order:{}};var _default=(0,_BaseMessage2.default)(RateReminderMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(RateReminderMessage,"RateReminderMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/RateReminderMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/RateReminderMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},Jitt:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_index=__webpack_require__("5BYv"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},LoadingSpin=function(_PureComponent){function LoadingSpin(){return(0,_classCallCheck3.default)(this,LoadingSpin),(0,_possibleConstructorReturn3.default)(this,(LoadingSpin.__proto__||(0,_getPrototypeOf2.default)(LoadingSpin)).apply(this,arguments))}return(0,_inherits3.default)(LoadingSpin,_PureComponent),(0,_createClass3.default)(LoadingSpin,[{key:"render",value:function(){var e=this.props.theme,t=_index2.default.root+" "+("light"===e?_index2.default.lightLoading:"");return _react2.default.createElement("div",{className:t})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),LoadingSpin}(_react.PureComponent);LoadingSpin.propTypes={theme:_propTypes2.default.string};var _default=LoadingSpin,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(LoadingSpin,"LoadingSpin","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/LoadingSpin/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/BaseMessage/LoadingSpin/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},Mqqo:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__("QbLZ"),_extends3=_interopRequireDefault(_extends2),_values=__webpack_require__("/f1G"),_values2=_interopRequireDefault(_values),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_Checkbox=__webpack_require__("fJx4"),_Checkbox2=_interopRequireDefault(_Checkbox),_util=__webpack_require__("KmjB"),_Processor=__webpack_require__("9+8d"),_Processor2=_interopRequireDefault(_Processor),_messages=__webpack_require__("3atR"),_messages2=_interopRequireDefault(_messages),_index=__webpack_require__("zYIN"),_index2=_interopRequireDefault(_index),_loading=__webpack_require__("HYQf"),_loading2=_interopRequireDefault(_loading),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},BAD="bad",AVERAGE="average",GOOD="good",REASONS=[{id:1,value:"reason_long_response_time"},{id:2,value:"reason_problem_unsolved"},{id:3,value:"reason_rude"}],EvaluationMessage=function(_React$PureComponent){function EvaluationMessage(e){(0,_classCallCheck3.default)(this,EvaluationMessage);var t=(0,_possibleConstructorReturn3.default)(this,(EvaluationMessage.__proto__||(0,_getPrototypeOf2.default)(EvaluationMessage)).call(this,e));return t.state={rating:!1,onBadPage:!1,status:e.content.status,selectedGrade:"",selectedReasons:[]},t.needMeasure=!1,t.handleRate=t.handleRate.bind(t),t.handleSubmit=t.handleSubmit.bind(t),t.handleChooseFeedback=t.handleChooseFeedback.bind(t),t}return(0,_inherits3.default)(EvaluationMessage,_React$PureComponent),(0,_createClass3.default)(EvaluationMessage,[{key:"componentDidMount",value:function(){this.props.measure()}},{key:"componentDidUpdate",value:function(e){var t=e.content,a=this.props.content.status;(this.needMeasure||t.status!==a&&(0,_values2.default)(_messages.EvaluationStatus).includes(a))&&(this.props.measure(),this.needMeasure=!1)}},{key:"handleRate",value:function(e){var t=this,a={selectedGrade:e===AVERAGE?AVERAGE+"d":e},r=e===BAD;r&&(a.onBadPage=!0,this.needMeasure=!0),this.setState((0,_extends3.default)({},a),(function(){!r&&t.handleSubmit()}))}},{key:"handleSubmit",value:function(){var e=this.props,t=e.evaluationRequested,a=e.content,r=this.state,o=r.selectedGrade,s=r.selectedReasons;this.setState({rating:!0}),t({id:a.id,grade:o,reason:s})}},{key:"handleChooseFeedback",value:function(e){var t=[],a=this.state.selectedReasons;t=a.includes(e)?(0,_util.removeItemFromArray)(a,e):a.concat(e),this.setState({selectedReasons:t})}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,r=t.content,o=t.handleReload,s=r.status,n=r.grade,_=r.fetchStatus;if(!s)return"pendingCard"===_?_react2.default.createElement(_Processor2.default,{type:"loading",messageType:_messages2.default.MSG_TYPE_RATE_CARDS}):_react2.default.createElement(_Processor2.default,{type:"reload",messageType:_messages2.default.MSG_TYPE_RATE_CARDS,reloadRequest:o});switch(s){case _messages.EvaluationStatus.Expired:return _react2.default.createElement("div",{className:_index2.default.expired},_react2.default.createElement("div",{className:_index2.default.subtitle},a("rate_card.result.expired_title")),_react2.default.createElement("div",{className:_index2.default.desc},a("rate_card.result.expired_describe")));case _messages.EvaluationStatus.Rated:return _react2.default.createElement("div",{className:_index2.default.rated},_react2.default.createElement("img",{className:_index2.default.image,src:__webpack_require__("ItcH")("./rc_"+(n!==BAD?GOOD:BAD)+".svg")}),_react2.default.createElement("div",null,_react2.default.createElement("div",{className:_index2.default.subtitle},a("rate_card.result."+(n===BAD?BAD:"normal")+"_title")),_react2.default.createElement("div",{className:_index2.default.desc},a("rate_card.result.describe"))));default:var u=this.state,l=u.rating,i=u.onBadPage,d=u.selectedGrade,c=u.selectedReasons,p=a("rate_card."+(i?"bad.reason_title":"rate_out_service")),f=a("rate_card."+(i?"bad.reason_guiding_text":"rate_guiding_text"));return _react2.default.createElement("div",{className:_index2.default.default},l&&_react2.default.createElement("div",{className:_index2.default.rating},_react2.default.createElement("img",{src:_loading2.default,className:_index2.default.loading})),_react2.default.createElement("div",{className:_index2.default.title},p),_react2.default.createElement("div",{className:_index2.default.desc},f),i?_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("div",{className:_index2.default.reasons},REASONS.map((function(t){return _react2.default.createElement("div",{key:t.id,className:_index2.default.reason},_react2.default.createElement(_Checkbox2.default,{disabled:l,checked:c.includes(t.id),onClick:function(){return e.handleChooseFeedback(t.id)}},a("rate_card.bad."+t.value)))}))),_react2.default.createElement("div",{className:_index2.default.submit,onClick:this.handleSubmit},a("common.submit"))):_react2.default.createElement("div",{className:_index2.default.cards},[BAD,AVERAGE,GOOD].map((function(t){return _react2.default.createElement("div",{key:t,className:_index2.default.card+" "+(d===t?_index2.default.selected:""),onClick:function(){return e.handleRate(t)}},_react2.default.createElement("img",{className:_index2.default.image,src:__webpack_require__("ItcH")("./rc_"+t+".svg")}),_react2.default.createElement("div",{className:_index2.default.grade},a("rate_card.type."+t)))}))))}}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.rating,r=t.status,o=t.selectedGrade,s=e.content.status;if(r!==s){var n={status:s};return a&&(n.rating=!1,o!==BAD&&(n.selectedGrade="")),(0,_extends3.default)({},n)}return null}}]),EvaluationMessage}(_react2.default.PureComponent);EvaluationMessage.propTypes={t:_propTypes2.default.func,measure:_propTypes2.default.func,content:_propTypes2.default.object,handleReload:_propTypes2.default.func,evaluationRequested:_propTypes2.default.func};var _default=(0,_BaseMessage2.default)(EvaluationMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(BAD,"BAD","/workspace/src/components/MessageSectionLayout/ConversationMessages/EvaluationMessage/index.js"),reactHotLoader.register(AVERAGE,"AVERAGE","/workspace/src/components/MessageSectionLayout/ConversationMessages/EvaluationMessage/index.js"),reactHotLoader.register(GOOD,"GOOD","/workspace/src/components/MessageSectionLayout/ConversationMessages/EvaluationMessage/index.js"),reactHotLoader.register(REASONS,"REASONS","/workspace/src/components/MessageSectionLayout/ConversationMessages/EvaluationMessage/index.js"),reactHotLoader.register(EvaluationMessage,"EvaluationMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/EvaluationMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/EvaluationMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},QWlY:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_reactI18next=__webpack_require__("9kay"),_index=__webpack_require__("8V0P"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Translating=function(_React$PureComponent){function Translating(){return(0,_classCallCheck3.default)(this,Translating),(0,_possibleConstructorReturn3.default)(this,(Translating.__proto__||(0,_getPrototypeOf2.default)(Translating)).apply(this,arguments))}return(0,_inherits3.default)(Translating,_React$PureComponent),(0,_createClass3.default)(Translating,[{key:"render",value:function(){var e=this.props,t=e.t,a=e.isSend,r=_index2.default.text+" "+(a?_index2.default.send:_index2.default.receive);return _react2.default.createElement("div",{className:_index2.default.root},_react2.default.createElement("div",{className:r},t("auto_translation.translating")))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Translating}(_react2.default.PureComponent);Translating.propTypes={t:_propTypes2.default.func,isSend:_propTypes2.default.bool};var _default=(0,_reactI18next.withTranslation)()(Translating),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(Translating,"Translating","/workspace/src/components/MessageSectionLayout/ConversationMessages/Common/TranslateResult/Translating/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/Common/TranslateResult/Translating/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},Ri42:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_Image=__webpack_require__("2Sse"),_Image2=_interopRequireDefault(_Image),_messages=__webpack_require__("3atR"),_messages2=_interopRequireDefault(_messages),_servers=__webpack_require__("ppeG"),_index=__webpack_require__("82Wm"),_index2=_interopRequireDefault(_index),_currency=__webpack_require__("EOYI"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},MSG_TYPE_CATEGORY=_messages2.default.MSG_TYPE_CATEGORY,MSG_TYPE_PRODUCT_LIST=_messages2.default.MSG_TYPE_PRODUCT_LIST,ProductsMessage=function(_PureComponent){function ProductsMessage(){return(0,_classCallCheck3.default)(this,ProductsMessage),(0,_possibleConstructorReturn3.default)(this,(ProductsMessage.__proto__||(0,_getPrototypeOf2.default)(ProductsMessage)).apply(this,arguments))}return(0,_inherits3.default)(ProductsMessage,_PureComponent),(0,_createClass3.default)(ProductsMessage,[{key:"render",value:function(){var e=this.props,t=e.t,a=e.type,r=e.isSend,o=e.content,s=e.conversation,n=o||{},_=n.shop_id,u=n.collection_id,l=n.category_title,i=n.chat_product_infos,d=void 0===i?[]:i,c=(s||{}).shop,p=(c&&c.country?c.country:"SG").toLowerCase(),f=(0,_servers.getFileServer)(p),m=d.slice(0,4),g=_index2.default.root+" "+(r?_index2.default.send:_index2.default.receive),v=_index2.default.productsWrapper+" "+(a===MSG_TYPE_PRODUCT_LIST||a===MSG_TYPE_CATEGORY&&d.length<=4?_index2.default.products:""),y=a===MSG_TYPE_CATEGORY&&"https://"+(0,_servers.getMallUrl)(p)+"/shop/"+_+"/search?page=0&shopCollection="+u;return _react2.default.createElement("div",{className:g},_react2.default.createElement("div",{className:v},a===MSG_TYPE_CATEGORY&&_react2.default.createElement("div",{title:l,className:_index2.default.header},l),a===MSG_TYPE_PRODUCT_LIST&&_react2.default.createElement("div",{className:_index2.default.header+" "+_index2.default.productHeader},t(r?"common.tips.recommended":"common.tips.recommended_for_you")),m.length>0&&m.map((function(e){var t=e.item_id,a=e.thumb_url,r=e.name,o=e.price,s="https://"+(0,_servers.getMallUrl)(p)+"/product/"+_+"/"+t+"/",n=(0,_currency.formatPrice)(o,p);return _react2.default.createElement("div",{key:t,className:_index2.default.product,onClick:function(){return window.open(s)}},_react2.default.createElement("div",{className:_index2.default.image},_react2.default.createElement(_Image2.default,{src:""+f+a}),_react2.default.createElement("div",{className:_index2.default.imageBorder})),_react2.default.createElement("div",{className:_index2.default.content},_react2.default.createElement("div",{className:_index2.default.name,title:r},r),_react2.default.createElement("div",{className:_index2.default.price},n)))})),a===MSG_TYPE_CATEGORY&&d.length>4&&_react2.default.createElement("div",{className:_index2.default.footer,onClick:function(){return window.open(y)}},t("common.tips.view_all"))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ProductsMessage}(_react.PureComponent);ProductsMessage.propTypes={t:_propTypes2.default.func,type:_propTypes2.default.string,isSend:_propTypes2.default.bool,content:_propTypes2.default.object,conversation:_propTypes2.default.object};var _default=(0,_BaseMessage2.default)(ProductsMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(MSG_TYPE_CATEGORY,"MSG_TYPE_CATEGORY","/workspace/src/components/MessageSectionLayout/ConversationMessages/ProductsMessage/index.js"),reactHotLoader.register(MSG_TYPE_PRODUCT_LIST,"MSG_TYPE_PRODUCT_LIST","/workspace/src/components/MessageSectionLayout/ConversationMessages/ProductsMessage/index.js"),reactHotLoader.register(ProductsMessage,"ProductsMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/ProductsMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/ProductsMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},TzY7:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_Image=__webpack_require__("2Sse"),_Image2=_interopRequireDefault(_Image),_url=__webpack_require__("Vt/u"),_currency=__webpack_require__("EOYI"),_index=__webpack_require__("DGB6"),_index2=_interopRequireDefault(_index),_common=__webpack_require__("tIYL"),_common2=_interopRequireDefault(_common),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},OfferBody=function(_React$PureComponent){function OfferBody(e){(0,_classCallCheck3.default)(this,OfferBody);var t=(0,_possibleConstructorReturn3.default)(this,(OfferBody.__proto__||(0,_getPrototypeOf2.default)(OfferBody)).call(this,e));return t.renderOfferInfo=t.renderOfferInfo.bind(t),t.renderModelName=t.renderModelName.bind(t),t}return(0,_inherits3.default)(OfferBody,_React$PureComponent),(0,_createClass3.default)(OfferBody,[{key:"renderOfferInfo",value:function(e){var t=e.price,a=e.extraProps,r=a.offerPrice,o=a.count,s=a.offerStatus,n=a.country,_=_index2.default.price+" "+("accepted"===s||"pending"===s?_index2.default.accept:""),u=(0,_currency.formatPrice)(t,n),l=(0,_currency.formatPrice)(r,n);return _react2.default.createElement("div",{className:_index2.default.prices},_react2.default.createElement("div",{className:_index2.default.originalPrice},u),_react2.default.createElement("div",{className:_index2.default.offerPrice},_react2.default.createElement("div",{className:_},l),_react2.default.createElement("div",{className:_index2.default.count},"x ",o)))}},{key:"renderModelName",value:function(e){return e&&e.includes(",")?e.split(",").map((function(e,t){return 0===t?_react2.default.createElement("div",{className:_index2.default.singleModel,key:e},e):_react2.default.createElement(_react2.default.Fragment,{key:e},_react2.default.createElement("div",{className:_index2.default.point}),_react2.default.createElement("div",{className:_index2.default.singleModel},e))})):e}},{key:"render",value:function(){var e=this.props,t=e.category,a=e.image,r=e.name,o=e.price,s=e.extraProps,n=s.shopId,_=s.modelName,u=s.productId,l=s.country,i=s.isSubAccount,d=_common2.default.content+" "+(_?"":_common2.default.noModel),c=_common2.default.offerName+" "+(_?"":_common2.default.noModel),p=this.renderModelName(_);return _react2.default.createElement("div",{className:_index2.default.root},_react2.default.createElement("div",{className:_common2.default.detailBlock,onClick:function(){(0,_url.goToPcMall)(i,l,u,n)}},_react2.default.createElement("div",{className:_common2.default.image},_react2.default.createElement(_Image2.default,{src:a}),_react2.default.createElement("div",{className:_common2.default.imageBorder})),_react2.default.createElement("div",{className:d},_react2.default.createElement("div",{className:c,title:r},r),_&&_react2.default.createElement("div",{className:_index2.default.model},p))),"message"===t&&this.renderOfferInfo({price:o,extraProps:s}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),OfferBody}(_react2.default.PureComponent);OfferBody.propTypes={category:_propTypes2.default.string.isRequired,image:_propTypes2.default.string,name:_propTypes2.default.string,country:_propTypes2.default.string,price:_propTypes2.default.string.isRequired,extraProps:_propTypes2.default.object.isRequired};var _default=OfferBody,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(OfferBody,"OfferBody","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/OfferBody/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/OfferBody/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},"X3i/":function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_set=__webpack_require__("jWXv"),_set2=_interopRequireDefault(_set),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_LoadingSpin=__webpack_require__("Jitt"),_LoadingSpin2=_interopRequireDefault(_LoadingSpin),_Processor=__webpack_require__("9+8d"),_Processor2=_interopRequireDefault(_Processor),_index=__webpack_require__("1Gtu"),_index2=_interopRequireDefault(_index),_tracker=__webpack_require__("00nt"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},MAX_HEIGHT=280,MAX_WIDTH=240,BASE_SIZE=13.75,SIZE_RATIO={max:16/9,min:9/16},IMG_STATUS={INIT:0,LOADING:1,LOADED:2,FAILED:3},hasViewedId=new _set2.default,FeedStoryMessage=function(_PureComponent){function FeedStoryMessage(e,t){(0,_classCallCheck3.default)(this,FeedStoryMessage);var a=(0,_possibleConstructorReturn3.default)(this,(FeedStoryMessage.__proto__||(0,_getPrototypeOf2.default)(FeedStoryMessage)).call(this,e,t));a.image=null,a.unmounted=!1,a.status=e.imgCache[e.id]?IMG_STATUS.LOADED:IMG_STATUS.INIT,a.handleError=a.handleError.bind(a),a.handleCalculate=a.handleCalculate.bind(a),a.makeStoryTitleDom=a.makeStoryTitleDom.bind(a),a.measure=a.measure.bind(a),a.handleLoad=a.handleLoad.bind(a),a.handleImageClick=a.handleImageClick.bind(a),a.loadingRef=null;var r={root:document.querySelector("#messagesContainer"),rootMargin:"0px",threshold:1};return a.supportIntersectionObserver="function"==typeof IntersectionObserver,a.supportIntersectionObserver&&(a.observer=new IntersectionObserver((function(e){var t=e[0];t&&t.isIntersecting&&t.intersectionRatio>=1&&(a.observer.disconnect(),hasViewedId.add(a.props.id),a.forceUpdate())}),r)),a.replaceCacheKey(),a}return(0,_inherits3.default)(FeedStoryMessage,_PureComponent),(0,_createClass3.default)(FeedStoryMessage,[{key:"componentWillUpdate",value:function(){this.replaceCacheKey()}},{key:"componentDidUpdate",value:function(){this.measure()}},{key:"componentDidMount",value:function(){this.supportIntersectionObserver?this.loadingRef&&this.observer.observe(this.loadingRef):(hasViewedId.add(this.props.id),this.forceUpdate())}},{key:"measure",value:function(){this.needMeasure&&(this.props.measure(),this.measured=!0,this.needMeasure=!1)}},{key:"handleLoad",value:function(){this.needMeasure=!0,this.forceUpdate()}},{key:"componentWillUnmount",value:function(){this.observer.disconnect(),this.unmounted=!0}},{key:"loadImage",value:function(e){var t=this,a=new Image;a.onload=function(){t.handleCalculate(a)},a.onerror=function(){t.handleError()},a.src=e,this.status=IMG_STATUS.LOADING}},{key:"handleCalculate",value:function(e){if(!this.measured&&!this.unmounted){var t=this.props,a=t.imgCache,r=t.id,o=e.width,s=e.height,n=o/s,_={maxWidth:BASE_SIZE+"em",minHeight:"1.75em"};o>s&&o/s>=SIZE_RATIO.max&&(_={width:MAX_WIDTH+"px",height:o/n+"px"}),o<s&&o/s<=SIZE_RATIO.min&&(_={height:MAX_HEIGHT+"px",width:""+s*n}),this.status=IMG_STATUS.LOADED,a[r]={imgStyle:_},this.forceUpdate()}}},{key:"handleError",value:function(){this.status=IMG_STATUS.FAILED,this.forceUpdate()}},{key:"replaceCacheKey",value:function(){var e=this.props,t=e.id,a=e.imgCache,r=e.request_id;r&&a[r]&&t!==r&&(a[t]=a[r],delete a[r])}},{key:"handleImageClick",value:function(){var e=this.props,t=e.currentUser,a=e.textContent;(0,_tracker.tracker)(t,"conversation_window","story",{story_id:a.id})}},{key:"makeStoryTitleDom",value:function(){var e=this.props,t=e.isSend,a=e.textContent.only_you_can_see,r=e.t,o=r(t?"message.story.title_their":a?"message.story.title_your_expired":"message.story.title_your");return _react2.default.createElement("div",{className:t?_index2.default.storyTitleSend:_index2.default.storyTitleReceive},o)}},{key:"render",value:function(){var e=this,t=this.props,a=t.id,r=t.imgCache,o=t.fetchStatus,s=t.textContent,n=t.handleReload,_=t.isSend,u=r[a],l=s.cover&&!s.deleted&&(!s.expired||s.only_you_can_see),i=this.makeStoryTitleDom();if("done"!==o||l&&!u||!hasViewedId.has(a))return l&&this.status===IMG_STATUS.INIT&&this.loadImage(s.cover),_react2.default.createElement("div",{className:_index2.default.loading,ref:function(t){return e.loadingRef=t}},_react2.default.createElement(_LoadingSpin2.default,{theme:"dark"}));if(!s||!s.id||this.status===IMG_STATUS.FAILED)return _react2.default.createElement(_Processor2.default,{type:"reload",messageType:"feed_story",reloadRequest:n});if(l){var d=s.cover,c=(u||{}).imgStyle;return _react2.default.createElement(_react2.default.Fragment,null,i,_react2.default.createElement("div",{className:_?_index2.default.rightImage:_index2.default.leftImage},_react2.default.createElement("a",{className:_index2.default.block,href:d,target:"_blank"},_react2.default.createElement("img",{ref:function(t){return e.image=t},src:d,style:c,onLoad:this.handleLoad,onError:this.handleError,onClick:this.handleImageClick}))))}return!this.measured&&(this.needMeasure=!0),i}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FeedStoryMessage}(_react.PureComponent);FeedStoryMessage.propTypes={imgCache:_propTypes2.default.object,id:_propTypes2.default.string,request_id:_propTypes2.default.string,measure:_propTypes2.default.func,isSend:_propTypes2.default.bool,t:_propTypes2.default.func,textContent:_propTypes2.default.object,handleReload:_propTypes2.default.func,fetchStatus:_propTypes2.default.string,currentUser:_propTypes2.default.object};var _default=(0,_BaseMessage2.default)(FeedStoryMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(MAX_HEIGHT,"MAX_HEIGHT","/workspace/src/components/MessageSectionLayout/ConversationMessages/StoryMessage/index.js"),reactHotLoader.register(MAX_WIDTH,"MAX_WIDTH","/workspace/src/components/MessageSectionLayout/ConversationMessages/StoryMessage/index.js"),reactHotLoader.register(BASE_SIZE,"BASE_SIZE","/workspace/src/components/MessageSectionLayout/ConversationMessages/StoryMessage/index.js"),reactHotLoader.register(SIZE_RATIO,"SIZE_RATIO","/workspace/src/components/MessageSectionLayout/ConversationMessages/StoryMessage/index.js"),reactHotLoader.register(IMG_STATUS,"IMG_STATUS","/workspace/src/components/MessageSectionLayout/ConversationMessages/StoryMessage/index.js"),reactHotLoader.register(hasViewedId,"hasViewedId","/workspace/src/components/MessageSectionLayout/ConversationMessages/StoryMessage/index.js"),reactHotLoader.register(FeedStoryMessage,"FeedStoryMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/StoryMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/StoryMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},XftY:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_index=__webpack_require__("o1Ud"),_index2=_interopRequireDefault(_index),_common=__webpack_require__("tIYL"),_common2=_interopRequireDefault(_common),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_Image=__webpack_require__("2Sse"),_Image2=_interopRequireDefault(_Image),_productStatus=__webpack_require__("GGlB"),_productStatus2=_interopRequireDefault(_productStatus),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},DELETED=_productStatus2.default.DELETED,BANNED=_productStatus2.default.BANNED,NORMAL=_productStatus2.default.NORMAL,SOLD_OUT=_productStatus2.default.SOLD_OUT,invalidStatus=[DELETED,BANNED,SOLD_OUT],ProductBody=function(_React$PureComponent){function ProductBody(e){(0,_classCallCheck3.default)(this,ProductBody);var t=(0,_possibleConstructorReturn3.default)(this,(ProductBody.__proto__||(0,_getPrototypeOf2.default)(ProductBody)).call(this,e));return t.renderProductImage=t.renderProductImage.bind(t),t.renderProductPrice=t.renderProductPrice.bind(t),t}return(0,_inherits3.default)(ProductBody,_React$PureComponent),(0,_createClass3.default)(ProductBody,[{key:"renderProductStatus",value:function(e,t){var a=t.status,r=void 0===a?"normal":a,o=t.stock,s=void 0===o?0:o,n=_productStatus.statusMap[r],_=null,u=_index2.default.status+" ";return _=r===NORMAL?e(n,{productStock:s}):e(n),u+=r===NORMAL||r===DELETED?""+_index2.default[r]:""+_index2.default.invalid,_react2.default.createElement("div",{className:u,title:_},_)}},{key:"renderProductImage",value:function(e,t,a){var r=a.status,o=void 0===r?"normal":r,s="source"===e&&invalidStatus.includes(o);return _react2.default.createElement("div",{className:_common2.default.image},_react2.default.createElement(_Image2.default,{src:t}),_react2.default.createElement("div",{className:_common2.default.imageBorder}),s&&_react2.default.createElement("div",{className:_common2.default.invalid},_react2.default.createElement("div",{className:_common2.default.invalidIcon})))}},{key:"renderProductPrice",value:function(e){var t=e.split("-");if(2===t.length){var a=null;return e.length<=23?a=_index2.default.priceTextSmall:e.length>23&&(a=_index2.default.priceTextMini),_react2.default.createElement("div",{className:a},_react2.default.createElement("span",{className:_index2.default.inlineBlock},t[0])," - ",_react2.default.createElement("span",{className:_index2.default.inlineBlock},t[1]))}return _react2.default.createElement("span",null,e)}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.category,r=e.image,o=e.name,s=e.price,n=e.extraProps,_=(n||{}).originPrice,u=this.renderProductStatus(t,n),l=this.renderProductImage(a,r,n);return _react2.default.createElement("div",{className:_common2.default.detailBlock},l,_react2.default.createElement("div",{className:_common2.default.content},_react2.default.createElement("div",{className:_common2.default.productName,title:o},o),"source"===a?_react2.default.createElement("div",{className:_common2.default.productDetail+" "+(_?_index2.default.origin:"")},_&&_react2.default.createElement("div",{title:_,className:_index2.default.originalPrice},_),_react2.default.createElement("div",{className:_index2.default.price,title:s},s),_react2.default.createElement("div",{className:_common2.default.divider}),u):_react2.default.createElement("div",{className:_index2.default.rangePrice},this.renderProductPrice(s))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ProductBody}(_react2.default.PureComponent);ProductBody.propTypes={t:_propTypes2.default.func,category:_propTypes2.default.string.isRequired,image:_propTypes2.default.string,name:_propTypes2.default.string,price:_propTypes2.default.string,extraProps:_propTypes2.default.object.isRequired};var _default=ProductBody,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(DELETED,"DELETED","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/ProductBody/index.js"),reactHotLoader.register(BANNED,"BANNED","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/ProductBody/index.js"),reactHotLoader.register(NORMAL,"NORMAL","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/ProductBody/index.js"),reactHotLoader.register(SOLD_OUT,"SOLD_OUT","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/ProductBody/index.js"),reactHotLoader.register(invalidStatus,"invalidStatus","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/ProductBody/index.js"),reactHotLoader.register(ProductBody,"ProductBody","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/ProductBody/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/ProductBody/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},YZUc:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_reactI18next=__webpack_require__("9kay"),_index=__webpack_require__("po4/"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Failed=function(_React$PureComponent){function Failed(){return(0,_classCallCheck3.default)(this,Failed),(0,_possibleConstructorReturn3.default)(this,(Failed.__proto__||(0,_getPrototypeOf2.default)(Failed)).apply(this,arguments))}return(0,_inherits3.default)(Failed,_React$PureComponent),(0,_createClass3.default)(Failed,[{key:"render",value:function(){var e=this.props,t=e.t,a=e.isSend,r=e.isManual,o=e.isScChat,s=e.translationAccess,n=e.translateMessagesRequested,_=o?("failed"===r||!a)&&_react2.default.createElement("span",{onClick:n,className:_index2.default.more},t("auto_translation.try_again")):("failed"===r||!a)&&s&&_react2.default.createElement("span",{onClick:n,className:_index2.default.more},t("auto_translation.try_again"));return _react2.default.createElement("div",{className:_index2.default.root},_react2.default.createElement("div",{className:_index2.default.error}),t("auto_translation.failed")," ",_)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Failed}(_react2.default.PureComponent);Failed.propTypes={t:_propTypes2.default.func,isSend:_propTypes2.default.bool,isManual:_propTypes2.default.string,translateMessagesRequested:_propTypes2.default.func,isScChat:_propTypes2.default.bool,translationAccess:_propTypes2.default.bool};var _default=(0,_reactI18next.withTranslation)()(Failed),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(Failed,"Failed","/workspace/src/components/MessageSectionLayout/ConversationMessages/Common/TranslateResult/Failed/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/Common/TranslateResult/Failed/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},"aF+W":function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends2=__webpack_require__("QbLZ"),_extends3=_interopRequireDefault(_extends2),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_message=__webpack_require__("yDfg"),_index=__webpack_require__("ZzRu"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},SystemMessage=function(_React$PureComponent){function SystemMessage(){return(0,_classCallCheck3.default)(this,SystemMessage),(0,_possibleConstructorReturn3.default)(this,(SystemMessage.__proto__||(0,_getPrototypeOf2.default)(SystemMessage)).apply(this,arguments))}return(0,_inherits3.default)(SystemMessage,_React$PureComponent),(0,_createClass3.default)(SystemMessage,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.content,r=e.to_id,o=e.conversation,s=e.isScChat,n=o.to_id,_=(0,_extends3.default)({},a,{toId:r,buyerId:n,isScChat:s});return _react2.default.createElement("div",{className:_index2.default.root},_react2.default.createElement("div",null,(0,_message.getSystemMessageText)(t,_)))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),SystemMessage}(_react2.default.PureComponent);SystemMessage.propTypes={type:_propTypes2.default.string,to_id:_propTypes2.default.number,isScChat:_propTypes2.default.bool,content:_propTypes2.default.object,conversation:_propTypes2.default.object};var _default=(0,_BaseMessage2.default)(SystemMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(SystemMessage,"SystemMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/SystemMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/SystemMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},azN6:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=_(a("q1tI")),s=_(a("17x9")),n=_(a("a1tu"));function _(e){return e&&e.__esModule?e:{default:e}}(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function u(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return o.default.createElement("div",{className:n.default.time},o.default.createElement("div",{className:n.default.count},e),t&&o.default.createElement("div",{className:n.default.split},":"))}function l(e){var t=e.day,a=e.hour,r=e.minute,s=e.second;return o.default.createElement("div",{className:n.default.countTime},!!t&&u(t),u(a),u(r),u(s,!1))}l.propTypes={hour:s.default.node,minute:s.default.node,second:s.default.node,day:s.default.node};var i,d,c=l;t.default=c,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(u,"Time","/workspace/src/components/MessageSectionLayout/ConversationMessages/FlashSaleMessage/Count/index.js"),i.register(l,"Count","/workspace/src/components/MessageSectionLayout/ConversationMessages/FlashSaleMessage/Count/index.js"),i.register(c,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/FlashSaleMessage/Count/index.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,a("YuTi")(e))},bvpD:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_messages=__webpack_require__("3atR"),_messages2=_interopRequireDefault(_messages),_message=__webpack_require__("yDfg"),_index=__webpack_require__("Bw3y"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},FAQMessage=function(_React$PureComponent){function FAQMessage(e){(0,_classCallCheck3.default)(this,FAQMessage);var t=(0,_possibleConstructorReturn3.default)(this,(FAQMessage.__proto__||(0,_getPrototypeOf2.default)(FAQMessage)).call(this,e));return t.state={opened:""},t.needMeasure=!1,t.handleClickAgent=t.handleClickAgent.bind(t),t.handleSendMessage=t.handleSendMessage.bind(t),t.handleOpenQuestion=t.handleOpenQuestion.bind(t),t.handleSendQuestion=t.handleSendQuestion.bind(t),t}return(0,_inherits3.default)(FAQMessage,_React$PureComponent),(0,_createClass3.default)(FAQMessage,[{key:"componentDidMount",value:function(){this.props.measure()}},{key:"componentDidUpdate",value:function(){this.needMeasure&&(this.props.measure(),this.needMeasure=!1)}},{key:"handleOpenQuestion",value:function(e){var t=this.state.opened;this.setState({opened:t===e?"":e}),this.needMeasure=!0}},{key:"handleSendMessage",value:function(e,t){var a=this.props,r=a.conversation,o=a.sendMessagesRequested,s=r.id,n=r.shop_id;o({conversationId:s,conversationUserId:r.to_id,messages:[{shopId:n,type:e,content:t}]})}},{key:"handleSendQuestion",value:function(e,t){this.handleSendMessage(_messages2.default.MSG_TYPE_FAQ_QUESTION,{faq_id:e,text:t.text,question_id:t.question_id})}},{key:"handleClickAgent",value:function(){this.handleSendMessage(_messages2.default.MSG_TYPE_FAQ_LIVEAGENT,{text:(0,_message.getCustomMessageText)(_messages2.default.MSG_TYPE_FAQ_LIVEAGENT)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,r=t.content,o=this.state.opened,s=r.opening,n=r.faq_id,_=r.categories;return _react2.default.createElement("div",{className:_index2.default.root},_react2.default.createElement("div",{className:_index2.default.message},_react2.default.createElement("div",{className:_index2.default.opening},s),_.map((function(t,a){var r=t.title,s=t.questions,_=o===a;return _react2.default.createElement("div",{className:_index2.default.question,key:a},_react2.default.createElement("div",{className:_index2.default.header,onClick:function(){return e.handleOpenQuestion(a)}},_react2.default.createElement("div",{className:_index2.default.title},r),_react2.default.createElement("div",{className:_index2.default[_?"show":"hide"]})),_&&_react2.default.createElement("div",{className:_index2.default.wrapper},s.map((function(t){return _react2.default.createElement("div",{key:t.question_id,className:_index2.default.item,onClick:function(){return e.handleSendQuestion(n,t)}},t.text)}))))}))),_react2.default.createElement("div",{className:_index2.default.agentMessage,onClick:this.handleClickAgent},a("faq.chat_with_agent")))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FAQMessage}(_react2.default.PureComponent);FAQMessage.propTypes={t:_propTypes2.default.func,measure:_propTypes2.default.func,content:_propTypes2.default.object,conversation:_propTypes2.default.object,sendMessagesRequested:_propTypes2.default.func};var _default=(0,_BaseMessage2.default)(FAQMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(FAQMessage,"FAQMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/FAQMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/FAQMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},dm17:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_reactDotdotdot=__webpack_require__("m2L4"),_reactDotdotdot2=_interopRequireDefault(_reactDotdotdot),_Image=__webpack_require__("2Sse"),_Image2=_interopRequireDefault(_Image),_index=__webpack_require__("51da"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ProductItem=function(_React$PureComponent){function ProductItem(e){(0,_classCallCheck3.default)(this,ProductItem);var t=(0,_possibleConstructorReturn3.default)(this,(ProductItem.__proto__||(0,_getPrototypeOf2.default)(ProductItem)).call(this,e));return t.renderProductImage=t.renderProductImage.bind(t),t}return(0,_inherits3.default)(ProductItem,_React$PureComponent),(0,_createClass3.default)(ProductItem,[{key:"renderProductImage",value:function(e,t){return _react2.default.createElement("div",{className:_index2.default.image},_react2.default.createElement(_Image2.default,{src:e}),_react2.default.createElement("div",{className:_index2.default.imageBorder}),t&&_react2.default.createElement("div",{className:_index2.default.invalid},_react2.default.createElement("div",{className:_index2.default.invalidIcon})))}},{key:"render",value:function(){var e=this.props,t=e.image,a=e.name,r=e.price,o=e.url,s=e.inValid,n=e.status,_=this.renderProductImage(t,s);return _react2.default.createElement("div",{className:_index2.default.detailBlock,onClick:function(){return window.open(o)}},_,_react2.default.createElement("div",{className:_index2.default.content},_react2.default.createElement("div",{className:_index2.default.name,title:a},_react2.default.createElement(_reactDotdotdot2.default,{tagName:"span",className:_index2.default.dot,clamp:1},a)),_react2.default.createElement("div",{className:_index2.default.priceDetail},_react2.default.createElement("div",{className:_index2.default.price,title:r},r),n&&_react2.default.createElement("div",{className:_index2.default.divider}),n&&_react2.default.createElement("div",{className:_index2.default.invalidBrand},n))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ProductItem}(_react2.default.PureComponent);ProductItem.propTypes={image:_propTypes2.default.string,name:_propTypes2.default.string,price:_propTypes2.default.node,inValid:_propTypes2.default.bool,url:_propTypes2.default.string,status:_propTypes2.default.node};var _default=ProductItem,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(ProductItem,"ProductItem","/workspace/src/components/MessageSectionLayout/ConversationMessages/Common/ProductItem/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/Common/ProductItem/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},furG:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o,s=R(a("YEIV")),n=R(a("3atR")),_=R(a("psxi")),u=R(a("F2Lx")),l=R(a("qdUf")),i=R(a("jZvD")),d=R(a("xayA")),c=R(a("7hFk")),p=R(a("aF+W")),f=R(a("HSHk")),m=R(a("Ri42")),g=R(a("X3i/")),v=R(a("/PCz")),y=R(a("bvpD")),M=R(a("GC6J")),h=R(a("9uOX")),b=R(a("DkPT")),C=R(a("q20h")),k=R(a("4Q5n")),q=R(a("HhcG"));function R(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var x,T,S=(r={},(0,s.default)(r,n.default.MSG_TYPE_TEXT,_.default),(0,s.default)(r,n.default.MSG_TYPE_IMAGE,u.default),(0,s.default)(r,n.default.MSG_TYPE_OFFER,l.default),(0,s.default)(r,n.default.MSG_TYPE_ORDER,d.default),(0,s.default)(r,n.default.MSG_TYPE_STICKER,c.default),(0,s.default)(r,n.default.MSG_TYPE_PRODUCT,i.default),(0,s.default)(r,n.default.MSG_TYPE_WEBVIEW,p.default),(0,s.default)(r,n.default.MSG_TYPE_NOTIFICATION,p.default),(0,s.default)(r,n.default.MSG_TYPE_VOUCHER,f.default),(0,s.default)(r,n.default.MSG_TYPE_CATEGORY,m.default),(0,s.default)(r,n.default.MSG_TYPE_PRODUCT_LIST,m.default),(0,s.default)(r,n.default.MSG_TYPE_FEED_STORY,g.default),(0,s.default)(r,n.default.MSG_TYPE_CART_REMINDER,v.default),(0,s.default)(r,n.default.MSG_TYPE_FAQ,y.default),(0,s.default)(r,n.default.MSG_TYPE_FAQ_LIVEAGENT,_.default),(0,s.default)(r,n.default.MSG_TYPE_FAQ_QUESTION,_.default),(0,s.default)(r,n.default.MSG_TYPE_FAQ_FEEDBACK,_.default),(0,s.default)(r,n.default.MSG_TYPE_FAQ_FEEDBACK_PROMPT,h.default),(0,s.default)(r,n.default.MSG_TYPE_FAQ_LIVEAGENT_PROMPT,b.default),(0,s.default)(r,n.default.MSG_TYPE_BUNDEL_DEAL,C.default),(0,s.default)(r,n.default.MSG_TYPE_FLASH_SALE,k.default),(0,s.default)(r,n.default.MSG_TYPE_ORDER_REVIEW_REMINDER,q.default),r),w=function(e){return S[e]||M.default},E=w;t.default=E,(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(x.register(S,"conversationMessagesMap","/workspace/src/components/MessageSectionLayout/ConversationMessages/index.js"),x.register(w,"getConversationMessagesMap","/workspace/src/components/MessageSectionLayout/ConversationMessages/index.js"),x.register(E,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/index.js")),(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&T(e)}).call(this,a("YuTi")(e))},jZvD:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_Processor=__webpack_require__("9+8d"),_Processor2=_interopRequireDefault(_Processor),_SpecialMessageCard=__webpack_require__("DI0R"),_SpecialMessageCard2=_interopRequireDefault(_SpecialMessageCard),_util=__webpack_require__("KmjB"),_url=__webpack_require__("Vt/u"),_servers=__webpack_require__("ppeG"),_index=__webpack_require__("/6Is"),_index2=_interopRequireDefault(_index),_tracker=__webpack_require__("00nt"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},ProductMessage=function(_PureComponent){function ProductMessage(){return(0,_classCallCheck3.default)(this,ProductMessage),(0,_possibleConstructorReturn3.default)(this,(ProductMessage.__proto__||(0,_getPrototypeOf2.default)(ProductMessage)).apply(this,arguments))}return(0,_inherits3.default)(ProductMessage,_PureComponent),(0,_createClass3.default)(ProductMessage,[{key:"componentDidUpdate",value:function(e){var t=this.props.textContent,a=void 0===t?{}:t;(0,_util.simpleEqualCheck)(a,e.textContent)||this.props.measure()}},{key:"render",value:function(){var e=this.props,t=e.isScChat,a=e.country,r=e.textContent,o=void 0===r?{}:r,s=e.isShopProduct,n=e.isSubAccount,_=e.handleReload,u=e.conversation.hasViewProductAccess,l=e.visitShopSellerCenterRequested,i=e.isSend,d=e.currentUser;if(!o.id||!o.actual_price_string)return _react2.default.createElement(_Processor2.default,{type:"reload",messageType:"product",reloadRequest:_});var c=o.id,p=o.shop_id,f=o.name,m=o.status,g=o.actual_price_string,v=o.image,y=o.stock,M=o.original_price_string,h=!n||!s||t,b=h?"https://"+(0,_servers.getMallUrl)(a)+"/product/"+p+"/"+c+"/":"https://"+(0,_servers.getSellerCenterUrl)(a)+"/portal/product/"+c,C={originPrice:M,status:m,stock:y,hasViewProductAccess:u,shouldGoToMall:h},k=_index2.default.root+" "+(i?_index2.default.send:_index2.default.receive)+" "+(u||h?"":_index2.default.banned);return _react2.default.createElement("div",{className:k},_react2.default.createElement("div",{onClick:function(){(0,_tracker.tracker)(d,"conversation_window","product_message",{product_id:c}),h?window.open(b):(0,_url.viewLinkWithAccess)(u,(function(){return l({shopId:p,itemId:c})}))}},_react2.default.createElement(_SpecialMessageCard2.default,{id:c,currentUser:d,category:"message",type:"product",image:v,name:f,price:g,extraProps:C})))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ProductMessage}(_react.PureComponent);ProductMessage.propTypes={isSend:_propTypes2.default.bool,country:_propTypes2.default.string,textContent:_propTypes2.default.object,isShopProduct:_propTypes2.default.bool,visitShopSellerCenterRequested:_propTypes2.default.func,isSubAccount:_propTypes2.default.bool,handleReload:_propTypes2.default.func,measure:_propTypes2.default.func,conversation:_propTypes2.default.object,currentUser:_propTypes2.default.object,isScChat:_propTypes2.default.bool};var _default=(0,_BaseMessage2.default)(ProductMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(ProductMessage,"ProductMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/ProductMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/ProductMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},ktc7:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_formatURL=__webpack_require__("4qTW"),_index=__webpack_require__("8W0c"),_index2=_interopRequireDefault(_index),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},TextItem=function(_React$PureComponent){function TextItem(){return(0,_classCallCheck3.default)(this,TextItem),(0,_possibleConstructorReturn3.default)(this,(TextItem.__proto__||(0,_getPrototypeOf2.default)(TextItem)).apply(this,arguments))}return(0,_inherits3.default)(TextItem,_React$PureComponent),(0,_createClass3.default)(TextItem,[{key:"render",value:function(){var e=this.props,t=e.content,a=e.messageOption,r=e.showModal,o=e.closeModal,s=e.t,n=32&a,_=(0,_formatURL.formatURL)(t);if(Array.isArray(_)){var u=_.map((function(e,t){if("link"===e.type){var a=/^https?/.test(e.content)?e.content:"https://"+e.content;return _react2.default.createElement("a",{key:t,className:_index2.default.link,href:a,target:"_blank",onClick:function(e){n&&(e.nativeEvent.preventDefault(),r({type:"CONFIRM_MODAL",title:{key:"common.navigation.cofirm_titile"},actions:{cancel:{label:s("common.cancel"),handler:function(){o()}},confirm:{label:s("common.navigation.confirm"),handler:function(){o(),window.open(a,"_blank")}}},additions:{content:s("common.navigation.cofirm_content"),modalStyle:{width:"352px"},contentStyle:{paddingTop:"8px",paddingBottom:"13px"}}}))}},e.content)}return e.content}));return _react2.default.createElement("span",null,u)}return t}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),TextItem}(_react2.default.PureComponent);TextItem.propTypes={t:_propTypes2.default.func,content:_propTypes2.default.string,messageOption:_propTypes2.default.number,showModal:_propTypes2.default.func,closeModal:_propTypes2.default.func},TextItem.defaultProps={content:""};var _default=TextItem,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(TextItem,"TextItem","/workspace/src/components/MessageSectionLayout/ConversationMessages/Common/TextItem/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/Common/TextItem/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},psxi:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_TextItem=__webpack_require__("ktc7"),_TextItem2=_interopRequireDefault(_TextItem),_TranslateResult=__webpack_require__("7Og2"),_TranslateResult2=_interopRequireDefault(_TranslateResult),_status=__webpack_require__("b/qR"),_status2=_interopRequireDefault(_status),_index=__webpack_require__("4mM6"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},TextMessage=function(_React$PureComponent){function TextMessage(e){(0,_classCallCheck3.default)(this,TextMessage);var t=(0,_possibleConstructorReturn3.default)(this,(TextMessage.__proto__||(0,_getPrototypeOf2.default)(TextMessage)).call(this,e));return t.decideTranslationStatus=t.decideTranslationStatus.bind(t),t}return(0,_inherits3.default)(TextMessage,_React$PureComponent),(0,_createClass3.default)(TextMessage,[{key:"decideTranslationStatus",value:function(e,t){var a=this.props.translateStatus,r=e.translation,o=void 0;if(r||a)if(a)o=a;else{o=r.text?t?_status2.default.SHOW:_status2.default.SUCCEED:_status2.default.FAILED}else o=_status2.default.HISTORY;return o}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.autoTranslation,r=t.translateStatus;a===e.autoTranslation&&r!==_status2.default.SUCCEED||this.props.measure()}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.id,r=e.content,o=e.isSend,s=e.autoTranslation,n=e.translateMessagesRequested,_=e.changeTranslateStatus,u=e.isSubAccount,l=e.conversation,i=void 0===l?{}:l,d=e.message_option,c=e.send_status,p=e.isScChat,f=e.showModal,m=e.closeModal,g=i.to_id,v=i.auto_translation,y=i.shop_id,M=i.translationAccess,h=void 0;if(p)h=u?v:"enabled"===s;else{var b=r.translation,C=b&&b.text;h=o?"enabled"===s:"enabled"===s||M&&!!C}var k=_index2.default.message+" "+(o?_index2.default.send:""),q=r.translation&&r.translation.manual,R=r.translation&&r.translation.text,x=r.translation&&"google"===r.translation.source,T=2!==c&&h,S=T&&this.decideTranslationStatus(r,o);return r.text&&_react2.default.createElement("pre",{className:k},_react2.default.createElement(_TextItem2.default,{t:t,showModal:f,closeModal:m,messageOption:d,content:r.text}),T&&_react2.default.createElement(_TranslateResult2.default,{messageId:a,isSend:o,status:S,shopId:y,isManual:q,toUserId:g,content:r.text,isGoogleSource:x,translationText:R,translateMessagesRequested:n,changeTranslateStatus:_,isScChat:p,translationAccess:"enabled"===s}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),TextMessage}(_react2.default.PureComponent);TextMessage.propTypes={t:_propTypes2.default.func,id:_propTypes2.default.string,content:_propTypes2.default.object.isRequired,isSend:_propTypes2.default.bool,autoTranslation:_propTypes2.default.string,translateStatus:_propTypes2.default.string,translateMessagesRequested:_propTypes2.default.func,measure:_propTypes2.default.func,changeTranslateStatus:_propTypes2.default.func,conversation:_propTypes2.default.object,isSubAccount:_propTypes2.default.bool,send_status:_propTypes2.default.number,isScChat:_propTypes2.default.bool,message_option:_propTypes2.default.number,showModal:_propTypes2.default.func,closeModal:_propTypes2.default.func};var _default=(0,_BaseMessage2.default)(TextMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(TextMessage,"TextMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/TextMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/TextMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},q20h:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_ProductItem=__webpack_require__("dm17"),_ProductItem2=_interopRequireDefault(_ProductItem),_index=__webpack_require__("FYh3"),_index2=_interopRequireDefault(_index),_currency=__webpack_require__("EOYI"),_servers=__webpack_require__("ppeG"),_time=__webpack_require__("b5/c"),_messages=__webpack_require__("3atR"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},UpComing=_messages.PromotionStatus.UpComing,OnGoing=_messages.PromotionStatus.OnGoing,Expired=_messages.PromotionStatus.Expired,BundelDealMessage=function(_React$PureComponent){function BundelDealMessage(e){(0,_classCallCheck3.default)(this,BundelDealMessage);var t=(0,_possibleConstructorReturn3.default)(this,(BundelDealMessage.__proto__||(0,_getPrototypeOf2.default)(BundelDealMessage)).call(this,e));return t.renderFooter=t.renderFooter.bind(t),t.renderHeaderText=t.renderHeaderText.bind(t),t.renderProductList=t.renderProductList.bind(t),t.countOnSec=t.countOnSec.bind(t),t.transValue=t.transValue.bind(t),t.tick=t.tick.bind(t),t.state={date:Math.floor(new Date/1e3)},t.timerID=null,t.status="",t}return(0,_inherits3.default)(BundelDealMessage,_React$PureComponent),(0,_createClass3.default)(BundelDealMessage,[{key:"componentDidMount",value:function(){this.countOnSec(),this.props.measure()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerID)}},{key:"countOnSec",value:function(){var e=this;clearTimeout(this.timerID),this.timerID=setTimeout((function(){e.tick(),e.countOnSec()}),1e3)}},{key:"tick",value:function(){this.setState({date:Math.floor(new Date/1e3)})}},{key:"renderFooter",value:function(e,t,a,r){var o="https://"+(0,_servers.getMallUrl)(a)+"/bundle-deal/"+r,s=this.props.t,n=(0,_time.customizeTime)(1e3*e),_=t===UpComing?_react2.default.createElement("div",null,s("common.flash_sale.start_at")+" "+n):t===OnGoing?_react2.default.createElement("div",{className:_index2.default.detail},s("conversation_detail.conversation_origin.view_details")):_react2.default.createElement("div",{className:_index2.default.textEnd},s("message.bundel_deal.end"));return _react2.default.createElement("div",{className:_index2.default.footer,onClick:function(){t===OnGoing&&window.open(o)}},_)}},{key:"renderProductList",value:function(e,t,a){return e.map((function(e){var r=e.name,o=e.price,s=e.image,n=e.item_id,_=(0,_currency.formatPrice)(o,a),u="https://"+(0,_servers.getMallUrl)(a)+"/product/"+t+"/"+n+"/";return _react2.default.createElement(_ProductItem2.default,{key:e.item_id,name:r,price:_,image:s,url:u})}))}},{key:"transValue",value:function(e){return e/1e5}},{key:"renderHeaderText",value:function(e,t){var a=this.props.t,r=e.rule_type,o=e.min_amount,s=e.fix_price,n=e.discount_percentage,_=e.discount_value,u=this.transValue(s),l=this.transValue(n),i=this.transValue(_),d=1===r?a("message.bundel_deal.header.special_discount_title",{count:o,price:u}):2===r?a("message.bundel_deal.header.percent_discount_title",{count:o,percent:l}):a("message.bundel_deal.header.amount_discount_title",{count:o,price:i}),c=_index2.default.header+" "+(t!==Expired?_index2.default.active:_index2.default.inactive);return _react2.default.createElement("div",{className:c},d)}},{key:"render",value:function(){var e=this.state.date,t=this.props,a=t.isSend,r=t.content,o=r.bundle_deal_id,s=r.shop_id,n=r.start_time,_=r.end_time,u=r.bundle_rule,l=r.bundle_deal_item_list,i=(t.conversation||{}).shop,d=(i&&i.country?i.country:"SG").toLowerCase();this.status=e<n?UpComing:e<_&&e>n?OnGoing:Expired;var c=l.slice(0,4),p=_index2.default.root+" "+(a?_index2.default.send:_index2.default.receive),f=this.renderProductList(c,s,d),m=this.renderHeaderText(u,this.status),g=this.renderFooter(n,this.status,d,o);return _react2.default.createElement("div",{className:p},m,f,g)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),BundelDealMessage}(_react2.default.PureComponent);BundelDealMessage.propTypes={t:_propTypes2.default.func,measure:_propTypes2.default.func,isSend:_propTypes2.default.bool,content:_propTypes2.default.object,conversation:_propTypes2.default.object};var _default=(0,_BaseMessage2.default)(BundelDealMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(UpComing,"UpComing","/workspace/src/components/MessageSectionLayout/ConversationMessages/BundelDealMessage/index.js"),reactHotLoader.register(OnGoing,"OnGoing","/workspace/src/components/MessageSectionLayout/ConversationMessages/BundelDealMessage/index.js"),reactHotLoader.register(Expired,"Expired","/workspace/src/components/MessageSectionLayout/ConversationMessages/BundelDealMessage/index.js"),reactHotLoader.register(BundelDealMessage,"BundelDealMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/BundelDealMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/BundelDealMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},qdUf:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _keys=__webpack_require__("GQeE"),_keys2=_interopRequireDefault(_keys),_getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_util=__webpack_require__("KmjB"),_tracker=__webpack_require__("00nt"),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_SpecialMessageCard=__webpack_require__("DI0R"),_SpecialMessageCard2=_interopRequireDefault(_SpecialMessageCard),_Processor=__webpack_require__("9+8d"),_Processor2=_interopRequireDefault(_Processor),_index=__webpack_require__("3vw+"),_index2=_interopRequireDefault(_index),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},OfferMessage=function(_PureComponent){function OfferMessage(e){(0,_classCallCheck3.default)(this,OfferMessage);var t=(0,_possibleConstructorReturn3.default)(this,(OfferMessage.__proto__||(0,_getPrototypeOf2.default)(OfferMessage)).call(this,e));return t.handleReplyOffer=t.handleReplyOffer.bind(t),t}return(0,_inherits3.default)(OfferMessage,_PureComponent),(0,_createClass3.default)(OfferMessage,[{key:"componentDidUpdate",value:function(e){var t=this.props.textContent,a=void 0===t?{}:t;(0,_util.simpleEqualCheck)(a,e.textContent)||this.props.measure()}},{key:"handleReplyOffer",value:function(e){var t=this.props,a=t.offer,r=t.id,o=t.replyOfferRequested,s=t.currentUser;(0,_tracker.tracker)(s,"conversation_window",e?"accept_offer":"reject_offer",{itemid:a.id}),o({isAccept:e,messageId:r,offerId:a.id,shopId:a.shop_id})}},{key:"render",value:function(){var e=this,t=this.props,a=t.offer,r=t.country,o=t.isSend,s=t.handleReload,n=t.conversation,_=t.currentUser,u=t.isSubAccount,l=t.textContent,i=void 0===l?{}:l;if(a&&a.error||!(0,_keys2.default)(i).length)return _react2.default.createElement(_Processor2.default,{type:"reload",messageType:"offer",reloadRequest:s});var d=i.products_count,c=i.asking_price,p=i.offer_price,f=i.model_name,m=i.shop_id,g=i.product_id,v=a.product&&a.product.image||"",y=a.product&&a.product.name||"",M={isSend:o,modelName:f,isSubAccount:u,offerPrice:p,offerStatus:a.status,count:d,country:r,shopId:m,productId:g,conversationStatus:n.status,accept:function(){return e.handleReplyOffer(!0)},reject:function(){return e.handleReplyOffer(!1)}},h=_index2.default.root+" "+(o?_index2.default.send:_index2.default.receive);return _react2.default.createElement("div",{className:h},_react2.default.createElement(_SpecialMessageCard2.default,{id:a.id,currentUser:_,category:"message",type:"offer",name:y,image:v,price:c,extraProps:M}))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),OfferMessage}(_react.PureComponent);OfferMessage.propTypes={id:_propTypes2.default.string,offer:_propTypes2.default.object,currentUser:_propTypes2.default.object,textContent:_propTypes2.default.object,isSubAccount:_propTypes2.default.bool,replyOfferRequested:_propTypes2.default.func,conversation:_propTypes2.default.object,country:_propTypes2.default.string,handleReload:_propTypes2.default.func,measure:_propTypes2.default.func,isSend:_propTypes2.default.bool};var _default=(0,_BaseMessage2.default)(OfferMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(OfferMessage,"OfferMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/OfferMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/OfferMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},xayA:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_BaseMessage=__webpack_require__("+iqz"),_BaseMessage2=_interopRequireDefault(_BaseMessage),_Processor=__webpack_require__("9+8d"),_Processor2=_interopRequireDefault(_Processor),_text=__webpack_require__("UP2C"),_SpecialMessageCard=__webpack_require__("DI0R"),_SpecialMessageCard2=_interopRequireDefault(_SpecialMessageCard),_servers=__webpack_require__("ppeG"),_util=__webpack_require__("KmjB"),_url=__webpack_require__("Vt/u"),_index=__webpack_require__("EsfB"),_index2=_interopRequireDefault(_index),_tracker=__webpack_require__("00nt"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},OrderMessage=function(_PureComponent){function OrderMessage(){return(0,_classCallCheck3.default)(this,OrderMessage),(0,_possibleConstructorReturn3.default)(this,(OrderMessage.__proto__||(0,_getPrototypeOf2.default)(OrderMessage)).apply(this,arguments))}return(0,_inherits3.default)(OrderMessage,_PureComponent),(0,_createClass3.default)(OrderMessage,[{key:"componentDidUpdate",value:function(e){var t=this.props.textContent,a=void 0===t?{}:t;(0,_util.simpleEqualCheck)(a,e.textContent)||this.props.measure()}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.order,r=e.country,o=e.isShopOrder,s=e.textContent,n=void 0===s?{}:s,_=e.isSend,u=e.conversation.hasViewOrderAccess,l=e.handleReload,i=e.currentUser,d=e.visitShopSellerCenterRequested;if(a&&(!a.orderId||!a.orderStatus))return _react2.default.createElement(_Processor2.default,{type:"reload",messageType:"order",reloadRequest:l});var c=a||{},p=c.productImage,f=c.itemCount,m=c.orderId,g=c.orderPrice,v=c.orderStatus,y=n.shop_id,M=n.title,h=n.serial_number,b=n.created_at,C=t(_text.OrderStatus[v]),k={t:t,status:v,statusText:C,itemCount:f,serialNumber:h,createdAt:b,hasViewOrderAccess:u};return _react2.default.createElement("div",{className:_index2.default.orderLink+" "+(u?"":_index2.default.banned),onClick:function(){(0,_tracker.tracker)(i,"conversation_window","order_message",{order_id:m}),o?(0,_url.viewLinkWithAccess)(u,(function(){return d({shopId:y,orderId:m})})):window.open("https://"+(0,_servers.getMallUrl)(r)+"/user/purchase/order/"+m+"/?shopid="+y)}},_react2.default.createElement("div",{className:_index2.default.root+" "+(_?_index2.default.send:_index2.default.receive)},_react2.default.createElement(_SpecialMessageCard2.default,{id:m,currentUser:i,category:"message",type:"order",name:M,image:p,price:g,extraProps:k})))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),OrderMessage}(_react.PureComponent);OrderMessage.propTypes={t:_propTypes2.default.func,order:_propTypes2.default.object,isShopOrder:_propTypes2.default.bool,textContent:_propTypes2.default.object,isSend:_propTypes2.default.bool,visitShopSellerCenterRequested:_propTypes2.default.func,country:_propTypes2.default.string,handleReload:_propTypes2.default.func,measure:_propTypes2.default.func,conversation:_propTypes2.default.object,currentUser:_propTypes2.default.object};var _default=(0,_BaseMessage2.default)(OrderMessage),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(OrderMessage,"OrderMessage","/workspace/src/components/MessageSectionLayout/ConversationMessages/OrderMessage/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/OrderMessage/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))},ymbT:function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf=__webpack_require__("Yz+Y"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=__webpack_require__("iCc5"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__("V7oC"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=__webpack_require__("FYw3"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=__webpack_require__("mRg0"),_inherits3=_interopRequireDefault(_inherits2),_react=__webpack_require__("q1tI"),_react2=_interopRequireDefault(_react),_index=__webpack_require__("2mTb"),_index2=_interopRequireDefault(_index),_propTypes=__webpack_require__("17x9"),_propTypes2=_interopRequireDefault(_propTypes),_messageCardLabel=__webpack_require__("kiWX"),_messageCardLabel2=_interopRequireDefault(_messageCardLabel),_offerStatus=__webpack_require__("Nv8w"),_offerStatus2=_interopRequireDefault(_offerStatus),_messages=__webpack_require__("3atR"),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Footer=function(_React$PureComponent){function Footer(e){(0,_classCallCheck3.default)(this,Footer);var t=(0,_possibleConstructorReturn3.default)(this,(Footer.__proto__||(0,_getPrototypeOf2.default)(Footer)).call(this,e));return t.renderFooterActions=t.renderFooterActions.bind(t),t}return(0,_inherits3.default)(Footer,_React$PureComponent),(0,_createClass3.default)(Footer,[{key:"renderFooterActions",value:function(){var e=this.props,t=e.t,a=e.type,r=e.extraProps,o=e.category,s=e.isSend,n=r.sendStatus,_=r.isSendByMe;if("offer"===a){var u=r.offerStatus,l=r.accept,i=r.reject,d=r.conversationStatus,c=_index2.default.rejectBtn+" "+("closed"===d?_index2.default.disabled:""),p=_index2.default.acceptBtn+" "+("closed"===d?_index2.default.disabled:""),f=null,m=null;switch(u){case _offerStatus2.default.PENDING:m=s?_react2.default.createElement("div",{className:_index2.default.statusText},t("common.pending_offer.tips")):_react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement("div",{className:c,onClick:i},t("conversation_detail.workstation.offer_panel.reject")),_react2.default.createElement("div",{className:p,onClick:l},t("conversation_detail.workstation.offer_panel.accept")));break;case _offerStatus2.default.ACCEPTED:f=_react2.default.createElement("div",{className:_index2.default.acceptIcon}),m=_react2.default.createElement("div",{className:_index2.default.statusText},t("conversation_detail.message_list.offer_accepted"));break;case _offerStatus2.default.REJECTED:f=_react2.default.createElement("div",{className:_index2.default.rejectIcon}),m=_react2.default.createElement("div",{className:_index2.default.statusText},t("conversation_detail.message_list.offer_rejected"));break;case _offerStatus2.default.CANCELLED:f=_react2.default.createElement("div",{className:_index2.default.rejectIcon}),m=_react2.default.createElement("div",{className:_index2.default.statusText},t("conversation_detail.message_list.offer_canceled"))}return _react2.default.createElement("div",{className:_index2.default.actions},f,m)}if("source"===o&&n===_messages.MSG_STATUS.SUCCEED&&_)return _react2.default.createElement("div",{className:_index2.default.sendStatus},t("common.order.link_send"))}},{key:"render",value:function(){var e=this.props,t=e.category,a=e.type,r=e.t,o=_index2.default.root+" "+("source"===t?_index2.default.source:"");return _react2.default.createElement("div",{className:o},"source"===t&&_react2.default.createElement("div",{className:_index2.default.label},r(_messageCardLabel2.default.source[a])),this.renderFooterActions())}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Footer}(_react2.default.PureComponent);Footer.propTypes={t:_propTypes2.default.func,extraProps:_propTypes2.default.object,category:_propTypes2.default.string.isRequired,type:_propTypes2.default.string.isRequired,isSend:_propTypes2.default.bool};var _default=Footer,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(Footer,"Footer","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/Footer/index.js"),reactHotLoader.register(_default,"default","/workspace/src/components/MessageSectionLayout/ConversationMessages/SpecialMessageCard/Footer/index.js")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__("YuTi")(module))}}]);
//# sourceMappingURL=app~9b7c0466.261c1800b1ff3d7316e2.js.map