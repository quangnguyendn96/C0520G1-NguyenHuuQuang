!function(e){function t(t){for(var a,c,n=t[0],u=t[1],d=t[2],i=0,f=[];i<n.length;i++)c=n[i],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&f.push(o[c][0]),o[c]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);for(l&&l(t);f.length;)f.shift()();return s.push.apply(s,d||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,n=1;n<r.length;n++){var u=r[n];0!==o[u]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=r[0]))}return e}var a={},o={4:0},s=[];function c(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=a,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(r,a,function(t){return e[t]}.bind(null,a));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="https://deo.shopeemobile.com/shopee/shopee-seller-live-vn/chateasy/";var n=window.miniJsonp=window.miniJsonp||[],u=n.push.bind(n);n.push=t,n=n.slice();for(var d=0;d<n.length;d++)t(n[d]);var l=u;s.push([5,6,8,9,11,7,10,5,1,0,3,2]),r()}({"+acW":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.claimVoucherRequested=void 0;var a=S(r("14Xm")),o=S(r("QbLZ")),s=S(r("gDS+"));t.claimVoucher=w,t.watchClaim=_;var c,n=r("6SzI"),u=r("5rFJ"),d=S(r("kiXb")),l=S(r("jtha")),i=r("763i"),f=r("Spvx"),p=r("0VV5");function S(e){return e&&e.__esModule?e:{default:e}}(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&c(e);var v,h,g=a.default.mark(w),k=a.default.mark(_),b=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(0,n.createActions)({CLAIM_VOUCHER_REQUESTED:function(e){return{shopId:e.shopId,voucherId:e.voucherId,voucherCode:e.voucherCode,messageId:e.messageId,isWebview:e.isWebview,source:e.source}}}).claimVoucherRequested);function w(e){var t,r,c,n,S=e.payload,v=S.shopId,h=S.voucherId,k=S.voucherCode,b=S.messageId,w=S.isWebview,_=S.source;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.select)((0,p.getMessageSelector)(b));case 2:return t=e.sent,r=t.textContent,e.prev=4,e.next=7,(0,u.call)(l.default,{ssl:!0,method:"PUT",resource:"vouchers",suffix:"claim",payload:(0,s.default)({shop_id:v,voucher_code:k,source:_,id:h})});case 7:return e.next=9,(0,u.put)((0,i.updateRecord)({name:"vouchers",id:h,record:{claimed:!0}}));case 9:if(w){e.next=12;break}return e.next=12,(0,u.put)((0,i.updateRecord)({name:"messages",id:b,record:{textContent:(0,o.default)({},r,{claimed:!0})}}));case 12:return e.next=14,(0,u.put)((0,f.setToastInformation)({toast:{show:!0,type:"success",message:d.default.t("voucher.claim.success")}}));case 14:e.next=38;break;case 16:if(e.prev=16,e.t0=e.catch(4),!(c=e.t0.message&&e.t0.message.error_code)){e.next=36;break}n=void 0,e.t1=c,e.next="voucher_expired"===e.t1?24:"voucher_stock_out"===e.t1?26:"voucher_already_claimed"===e.t1?28:30;break;case 24:return n={status:"finished"},e.abrupt("break",30);case 26:return n={stock_out:!0},e.abrupt("break",30);case 28:return n={claimed:!0},e.abrupt("break",30);case 30:if(!n){e.next=36;break}return e.next=33,(0,u.put)((0,i.updateRecord)({name:"vouchers",id:h,record:(0,o.default)({},n)}));case 33:if(w){e.next=36;break}return e.next=36,(0,u.put)((0,i.updateRecord)({name:"messages",id:b,record:{textContent:(0,o.default)({},r,n)}}));case 36:return e.next=38,(0,u.put)((0,f.setToastInformation)({toast:{show:!0,message:d.default.t("voucher.claim.fail")}}));case 38:case"end":return e.stop()}}),g,this,[[4,16]])}function _(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.takeLatest)(b,w);case 2:case"end":return e.stop()}}),k,this)}t.claimVoucherRequested=b,(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(b,"claimVoucherRequested","/workspace/src/reducers/voucher/claim.js"),v.register(w,"claimVoucher","/workspace/src/reducers/voucher/claim.js"),v.register(_,"watchClaim","/workspace/src/reducers/voucher/claim.js")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)}).call(this,r("YuTi")(e))},"/JmB":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=p(r("14Xm"));t.watchSync=g;var o,s=r("5rFJ"),c=p(r("jtha")),n=r("QCYR"),u=r("8TFP"),d=r("8Ryq"),l=r("9jhx"),i=r("WNYn"),f=r("Ae4k");function p(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var S=a.default.mark(g),v=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,6e4),h=!1;function g(){var e,t,r,o,p,g,k,b,w,_,m,y,L,H,G;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,(0,s.delay)(v);case 3:return a.next=5,(0,n.getItem)("mini-session");case 5:if(!(e=a.sent)||!e.token){a.next=54;break}return a.prev=7,a.next=10,(0,s.select)((function(e){return e.conversationReducer}));case 10:return t=a.sent,r=t.maxLatestReceivedMessageId,o=t.maxLatestTimestampNano,a.next=15,(0,s.select)(u.isSubAccountSelector);case 15:return p=a.sent,a.next=18,(0,s.select)(i.filterSelector);case 18:return g=a.sent.toLowerCase(),k=!p&&["all","unread"].includes(g),b=["pinned","unread"].includes(g),w={},k?w.last_timestamp_nano=o:w.last_message_id=r,w.last_unread_count_sync=h,a.next=26,(0,s.fork)(c.default,{method:"POST",resource:"user",suffix:"sync",params:w});case 26:return _=a.sent,a.next=29,(0,s.join)(_);case 29:if(m=a.sent,y=m.have_new_msg,L=m.unread_count,h=!1,!y){a.next=42;break}return a.next=36,(0,s.select)((function(e){return e.conversationReducer}));case 36:if(H=a.sent,G=H.syncFetchException,a.t0=G<3&&!b,!a.t0){a.next=42;break}return a.next=42,(0,s.put)((0,d.fetchConversationsRequested)({direction:"latest",triggerBySync:!0}));case 42:if(!(L>-1)){a.next=50;break}return a.next=45,(0,s.select)(f.totalUnreadConversationsCountSelector);case 45:if(a.sent===L){a.next=50;break}return a.next=49,(0,s.put)((0,l.updateTotalUnreadConversationsCount)({count:L}));case 49:h=!0;case 50:a.next=54;break;case 52:a.prev=52,a.t1=a.catch(7);case 54:a.next=0;break;case 56:case"end":return a.stop()}}),S,this,[[7,52]])}var k,b,w={};t.default=w,(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(v,"delayTime","/workspace/src/reducers/user/sync.js"),k.register(h,"isSync","/workspace/src/reducers/user/sync.js"),k.register(g,"watchSync","/workspace/src/reducers/user/sync.js"),k.register(w,"default","/workspace/src/reducers/user/sync.js")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)}).call(this,r("YuTi")(e))},"/Yj0":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getToastInformation=void 0;var a,o,s=r("kiXb"),c=(a=s)&&a.__esModule?a:{default:a};(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n,u,d=t.getToastInformation=function(e,t){var r={};if(t){switch(t.type){case"auto-reply":e?t.first&&"enabled"===t.action?(r.message=c.default.t("settings.enable_auto_reply_successfully"),r.show=!0):(r.message="",r.show=!1):(t.first&&"enabled"===t.action?r.message=c.default.t("settings.failed_to_enable_auto_reply"):r.message="enabled"===t.action?c.default.t("settings.failed_to_enable"):c.default.t("settings.failed_to_disable"),r.show=!0);break;case"message":r.message=e?"save"===t.action?c.default.t("settings.message.save_successfully"):"delete"===t.action?c.default.t("settings.message.delete_successfully"):c.default.t("settings.message.import_successfully"):"save"===t.action?c.default.t("settings.message.failed_to_save"):"delete"===t.action?c.default.t("settings.message.failed_to_delete"):c.default.t("settings.message.failed_to_import"),r.show=!0;break;case"message-tips":e?(r.message="",r.show=!1):(r.message="enabled"===t.action?c.default.t("settings.failed_to_enable"):c.default.t("settings.failed_to_disable"),r.show=!0);break;case"forward":e||(r.message=403===t.status?c.default.t("forward.exception",{forwardName:""}):c.default.t("forward.server_error"),r.show=!0);break;case"send-feedback":r.message=c.default.t("feedback_modal.error.failed_to_send"),r.show=!0;break;case"server-error-tips":r.message=c.default.t("common.server_error.warning_tips"),r.show=!0;break;case"conversation-closed-tip":r.message=c.default.t("conversation_detail.closed.warning_tips"),r.show=!0;break;case"permission-denied":r.message=c.default.t("common.permission_denied"),r.show=!0;break;default:r.message=t.message,r.show=!0}r.type=e?"success":"fail"}return r};(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(d,"getToastInformation","/workspace/src/services/toast.js"),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,r("YuTi")(e))},"/gpY":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.watchUserSagas=void 0;var a,o=k(r("QbLZ")),s=r("6SzI"),c=r("/JmB"),n=k(r("G6Oy")),u=r("zd/2"),d=k(u),l=r("enZm"),i=k(l),f=r("xcHk"),p=k(f),S=r("Cx/V"),v=k(S),h=r("WFsx"),g=k(h);function k(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var b,w,_=t.watchUserSagas=[c.watchSync,u.watchLogin,l.watchGuides,f.watchUpdate,S.watchUpdateGuides,h.watchBlock],m=(0,s.handleActions)((0,o.default)({},g.default,i.default,d.default,p.default,n.default,v.default),{newbie:[],isScChat:!0,currentUserId:null,openedMenus:"",networkStatus:"online",loginSuccess:!0,socketSuccess:!0,showChatWindow:!1,translateTips:{},showConversationDetail:!0,showEntry:!0});t.default=m,(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(_,"watchUserSagas","/workspace/src/reducers/user/index.js"),b.register(m,"default","/workspace/src/reducers/user/index.js")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)}).call(this,r("YuTi")(e))},"00nt":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.tracker=void 0;var a,o=i(r("P2sY")),s=i(r("QbLZ")),c=i(r("p46w")),n=i(r("LpSC")),u=r("SBND"),d=i(r("XO/Y")),l=r("Vt/u");function i(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var f=null;if(window.BITrack)f=window.BITrack;else{var p="VN".toLowerCase(),S={appId:1,fetch:n.default,source:"pc",platform:"pc",ua:navigator?navigator.userAgent||navigator.vendor:"",storage:d.default,getCookies:c.default.get,sendEventByInterval:!0,enableAutoTrack:!1},v=(0,u.createTrackingV3Sdk)((0,s.default)({locale:p,env:"live"},S));f=v.sync.bind(v)}var h,g,k=(0,l.getChatSource)(),b=t.tracker=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"click",c=arguments[5],n=e||{},u=n.shop_id,d=void 0===u?"":u,l=n.type,i=void 0===l?"":l,p=n.id,S=void 0===p?"":p,v=(0,o.default)({},{shopid:d,account_type:i,account_id:S,platform:k?"minichat":"pc_mall"},a);f({data:{type:"v3",timestamp:Date.now(),info:{page_section:t,target_type:r,page_type:c||"minichat_page",operation:s,data:v}}})};(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(f,"trackerSync","/workspace/src/services/tracker.js"),h.register(k,"isScChat","/workspace/src/services/tracker.js"),h.register(b,"tracker","/workspace/src/services/tracker.js")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)}).call(this,r("YuTi")(e))},"0VV5":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.messagesWithSourceSelector=t.messageSourceIdsSelector=t.messageSourceSelector=t.unreadMessageIdsSelector=t.unreadMessagesSelector=t.reverseMessagesSelector=t.messageOffersSelector=t.messagesSelector=t.messageHasNextSelector=t.failedMessageIdsSelector=t.sendingMessageIdsSelector=t.allMessageIdsSelector=t.conversationMessageIdsSelector=t.getMessagesSelector=t.messageIdsSelector=t.getMessageSelector=t.offlineMessagesSelector=t.messageIdsHashSelector=t.messageHttpStatusSelector=void 0;var a,o=b(r("QbLZ")),s=b(r("P2sY")),c=b(r("GQeE")),n=b(r("rfXi")),u=r("XiPH"),d=r("peh1"),l=r("rN3q"),i=r("8TFP"),f=r("A2+V"),p=r("WNYn"),S=r("KmjB"),v=r("3atR"),h=b(v),g=r("EYEH"),k=r("RjDC");function b(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var w,_,m=h.default.MSG_TYPE_ORDER,y=h.default.MSG_TYPE_PRODUCT,L=h.default.MSG_TYPE_OFFER,H=h.default.MSG_TYPE_WEBVIEW,G=h.default.MSG_TYPE_IMAGE,E=h.default.MSG_TYPE_FAQ_UNSUPPORTED,C=h.default.MSG_TYPE_FAQ_LIVEAGENT_PROMPT,x=h.default.MSG_TYPE_ORDER_REVIEW_REMINDER,I=[m,y],T=function(e,t){if(e){var r=e.id,a=e.image,o=e.status,s=e.products_count,c=void 0===s?0:s,n=e.products,u=void 0===n?[]:n,d=e.serial_number,l=void 0===d?"":d,i=e.sn,f=void 0===i?"":i;return{orderPrice:(0,g.getOrderPayment)(e,t).payment,orderId:r,productImage:a,orderSn:l||f,itemCount:c,spciesCount:u.length,orderStatus:o}}},R=t.messageHttpStatusSelector=function(e){return e.messageReducer.status},j=t.messageIdsHashSelector=function(e){return e.messageReducer.messageIdsHash},M=t.offlineMessagesSelector=function(e){return e.messageReducer.offlineMessages},A=t.getMessageSelector=function(e){return(0,d.createSelector)(f.entitiesSelector,(function(t){return(0,u.denormalize)(e,l.messageSchema,t)}))},O=t.messageIdsSelector=(0,d.createSelector)(p.currentConversationIdSelector,j,(function(e,t){return t[e]||{all:[]}})),P=t.getMessagesSelector=function(e){return(0,d.createSelector)(f.entitiesSelector,(function(t){return(0,u.denormalize)(e,[l.messageSchema],t)}))},U=t.conversationMessageIdsSelector=function(e){return(0,d.createSelector)(j,(function(t){return t[e]||{all:[]}}))},D=t.allMessageIdsSelector=(0,d.createSelector)(O,(function(e){return e.all||[]})),N=t.sendingMessageIdsSelector=(0,d.createSelector)(O,(function(e){return e.sending||[]})),F=t.failedMessageIdsSelector=(0,d.createSelector)(O,(function(e){return e.failed||[]})),Y=t.messageHasNextSelector=(0,d.createSelector)(O,(function(e){return e.hasNext})),q=t.messagesSelector=(0,d.createSelector)(f.entitiesSelector,D,(function(e,t){return(0,u.denormalize)(t,[l.messageSchema],e)||[]})),V=t.messageOffersSelector=(0,d.createSelector)(f.entitiesSelector,q,(function(e,t){var r=t.filter((function(e){return e&&e.type===L})).map((function(e){return e.content.offer_id}));return(0,u.denormalize)(r,[l.offerSchema],e)})),W=t.reverseMessagesSelector=(0,d.createSelector)(q,(function(e){var t=(0,n.default)(e),r=t.filter((function(e){return e&&e.isFaking})),a=t.filter((function(e){return e&&!e.isFaking}));return r.length&&a.unshift(r.shift()),a.reverse()})),z=t.unreadMessagesSelector=(0,d.createSelector)(p.currentConversationSelector,W,(function(e,t){if(!e)return[];var r=e.last_read_message_id,a=t.findIndex((function(e){return e&&e.id===r}));return t.filter((function(t,r){return t&&r>a&&t.to_id!==e.to_id}))})),Q=t.unreadMessageIdsSelector=(0,d.createSelector)(z,(function(e){return e.map((function(e){return e.id}))})),B=t.messageSourceSelector=(0,d.createSelector)(p.currentConversationSelector,W,i.isScChatSelector,(function(e,t,r){return e?t.filter((function(e){return e})).reduce((function(t,a){var o=a.type,s=a.to_id,c=a.source_type,n=a.source_content,u=a.content;if(o===L)return t;if(I.includes(o)&&n){var d=o+"_id";if(u[d]===n[d])return t}if(!c||e&&s===e.to_id&&r)return t;var l=t.lastSourceMessage,i=t.sourceList;if(!i.length)return{sourceList:i.concat(a),lastSourceMessage:a};if(c===y){var f=n.product_id,p=l.source_content&&l.source_content.product_id;if(!f||p===f)return t}else if(c===m){var S=n.order_id,v=l.source_content&&l.source_content.order_id;if(!S||[-1,0,v].includes(S))return t}return{sourceList:i.concat(a),lastSourceMessage:a}}),{sourceList:[],lastSourceMessage:null}).sourceList:[]})),X=t.messageSourceIdsSelector=(0,d.createSelector)(B,(function(e){return e.map((function(e){return e.id}))})),K=t.messagesWithSourceSelector=(0,d.createSelector)(f.entitiesSelector,W,N,F,i.currentUserSelector,X,V,p.currentConversationSelector,(function(e,t,r,a,n,u,d,l){return l?t.filter((function(e){if(!e)return!1;var t=e.content,r=e.type;return!(![E,C].includes(r)&&(!t||t&&0===(0,c.default)(t).length))})).map((function(t){var c=r.includes(t.id)?v.MSG_STATUS.SENDING:a.includes(t.id)?v.MSG_STATUS.FAILED:t.send_status,i=u.includes(t.id),f=(0,s.default)({},t,{send_status:c,hasMessageSource:i}),p=f,h=p.type,g=p.content,b=void 0===g?{}:g,w=p.textContent;switch(h){case L:var _=d.find((function(e){return e&&e.id===b.offer_id}));f=(0,s.default)({},f,{offer:_});break;case y:var E=!1;E=n&&"subaccount"!==n.type?b.shop_id===n.shop_id:b.shop_id===l.shop_id,f=(0,s.default)({},f,{isShopProduct:E});break;case m:var C=!1;C=n&&"subaccount"!==n.type?b.shop_id===n.shop_id:b.shop_id===l.shop_id;var I=T(w,(l.shop||{}).country);f=(0,s.default)({},f,{order:I},{isShopOrder:C});break;case x:var R=T(w,(l.shop||{}).country);f=(0,s.default)({},f,{order:R});break;case H:var j=(e["voucher_web"===b.type?"vouchers":(0,S.camelCase)(b.type)]||{})[b.id];j&&(f.content=(0,o.default)({},f.content,j,{type:f.content.type,fetchStatus:"string"==typeof j.fetchStatus?j.fetchStatus:f.content.fetchStatus}));break;case G:if(c!==v.MSG_STATUS.SENDING){var M=b.url,A=void 0===M?"":M;if((0,k.isVisitingShopeeCN)()&&A&&!A.includes(".shopeesz.com")){var O=new URL(A),P=O.host.split(".");f.content.url=O.protocol+"//s-cf-"+P[P.length-1]+".shopeesz.com"+O.pathname}break}}return f})):[]}));(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(m,"MSG_TYPE_ORDER","/workspace/src/selectors/message.js"),w.register(y,"MSG_TYPE_PRODUCT","/workspace/src/selectors/message.js"),w.register(L,"MSG_TYPE_OFFER","/workspace/src/selectors/message.js"),w.register(H,"MSG_TYPE_WEBVIEW","/workspace/src/selectors/message.js"),w.register(G,"MSG_TYPE_IMAGE","/workspace/src/selectors/message.js"),w.register(E,"MSG_TYPE_FAQ_UNSUPPORTED","/workspace/src/selectors/message.js"),w.register(C,"MSG_TYPE_FAQ_LIVEAGENT_PROMPT","/workspace/src/selectors/message.js"),w.register(x,"MSG_TYPE_ORDER_REVIEW_REMINDER","/workspace/src/selectors/message.js"),w.register(I,"messageSourceTypes","/workspace/src/selectors/message.js"),w.register(T,"transformOrder","/workspace/src/selectors/message.js"),w.register(R,"messageHttpStatusSelector","/workspace/src/selectors/message.js"),w.register(j,"messageIdsHashSelector","/workspace/src/selectors/message.js"),w.register(M,"offlineMessagesSelector","/workspace/src/selectors/message.js"),w.register(A,"getMessageSelector","/workspace/src/selectors/message.js"),w.register(O,"messageIdsSelector","/workspace/src/selectors/message.js"),w.register(P,"getMessagesSelector","/workspace/src/selectors/message.js"),w.register(U,"conversationMessageIdsSelector","/workspace/src/selectors/message.js"),w.register(D,"allMessageIdsSelector","/workspace/src/selectors/message.js"),w.register(N,"sendingMessageIdsSelector","/workspace/src/selectors/message.js"),w.register(F,"failedMessageIdsSelector","/workspace/src/selectors/message.js"),w.register(Y,"messageHasNextSelector","/workspace/src/selectors/message.js"),w.register(q,"messagesSelector","/workspace/src/selectors/message.js"),w.register(V,"messageOffersSelector","/workspace/src/selectors/message.js"),w.register(W,"reverseMessagesSelector","/workspace/src/selectors/message.js"),w.register(z,"unreadMessagesSelector","/workspace/src/selectors/message.js"),w.register(Q,"unreadMessageIdsSelector","/workspace/src/selectors/message.js"),w.register(B,"messageSourceSelector","/workspace/src/selectors/message.js"),w.register(X,"messageSourceIdsSelector","/workspace/src/selectors/message.js"),w.register(K,"messagesWithSourceSelector","/workspace/src/selectors/message.js")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)}).call(this,r("YuTi")(e))},"1tZ5":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.syncUnreadCount=void 0;var a,o=n(r("YEIV")),s=n(r("QbLZ")),c=r("6SzI");function n(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u=(0,c.createActions)({SYNC_UNREAD_COUNT:function(e){return{totalShop:e.totalShop,action:e.action}}}).syncUnreadCount;function d(e,t,r){switch(t){case"increase":e+=r;break;case"decrease":e-=r}return e<0?0:e}function l(e,t,r){return d(e,r,t.num)}t.syncUnreadCount=u;var i,f,p=(0,o.default)({},u,(function(e,t){var r=t.payload,a=r.totalShop,o=r.action,c=l(e.totalUnreadConversationsCount,a,o);return(0,s.default)({},e,{totalUnreadConversationsCount:c})}));t.default=p,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(u,"syncUnreadCount","/workspace/src/reducers/unread/sync.js"),i.register(d,"calculate","/workspace/src/reducers/unread/sync.js"),i.register(l,"calculateTotalUnread","/workspace/src/reducers/unread/sync.js"),i.register(p,"default","/workspace/src/reducers/unread/sync.js")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)}).call(this,r("YuTi")(e))},"2AY/":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.redirectConversationRequested=void 0;var a=k(r("14Xm")),o=k(r("gDS+"));t.watchSCRedirect=H;var s,c=k(r("rN3q")),n=k(r("jtha")),u=r("6SzI"),d=r("5rFJ"),l=r("QCYR"),i=r("WNYn"),f=r("0O3H"),p=r("tpro"),S=r("7nv7"),v=r("gv+x"),h=r("xcHk"),g=r("bqMa");function k(e){return e&&e.__esModule?e:{default:e}}(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&s(e);var b,w,_=a.default.mark(L),m=a.default.mark(H),y=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(0,u.createActions)({REDIRECT_CONVERSATION_REQUESTED:function(e){var t=e.userId,r=e.shopId,a=e.orderId,o=e.productId,s=e.message;return{userId:t,shopId:r,orderId:a,productId:o,message:void 0===s?"":s}}}).redirectConversationRequested);function L(e){var t,r,s,u,k,b,w,m,y=e.payload,L=y.userId,H=y.shopId,G=y.orderId,E=y.productId,C=y.message;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.select)(i.conversationIdsSelector);case 2:return t=e.sent,e.next=5,(0,d.call)(n.default,{method:"POST",resource:"conversation",suffix:"redirection",payload:(0,o.default)({user_id:parseInt(L),shop_id:H})});case 5:if(r=e.sent,s=r.id,u=r.faking,k=r.latest_message_id,!(b=u||!t.includes(s))){e.next=14;break}return w=(0,c.default)("conversations",r),e.next=12,(0,d.put)((0,p.updateEntities)({entities:w.entities}));case 12:return e.next=14,(0,d.put)((0,S.fakeConversationSucceeded)({conversationId:s}));case 14:if(!C){e.next=17;break}return e.next=17,(0,d.put)((0,f.saveDraft)({draft:C,conversationId:s}));case 17:return e.next=19,(0,d.select)(i.currentConversationIdSelector);case 19:if(e.sent===s&&!b){e.next=23;break}return e.next=23,(0,d.put)((0,v.showConversationRequested)({conversation:r,refresh:!0,read:!b||!!k}));case 23:return e.next=25,(0,d.put)((0,h.updateChatWindowStatus)({shouldShowWindow:!0}));case 25:return e.next=27,(0,d.put)((0,h.updateConversationDetailStatus)({shouldShowConversationDetail:!0}));case 27:return m={userId:L,shopId:H,orderId:G,productId:E,conversationId:r.id},e.next=30,(0,d.call)(l.setItem,"mini-sc_redirect",m);case 30:return e.next=32,(0,d.put)((0,g.sendMessagesRequested)({conversationId:r.id,conversationUserId:L,messages:[{type:"text",content:{text:""},isFaking:!0}],isFakingSource:!0}));case 32:case"end":return e.stop()}}),_,this)}function H(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.takeEvery)(y,L);case 2:case"end":return e.stop()}}),m,this)}t.redirectConversationRequested=y,(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(y,"redirectConversationRequested","/workspace/src/reducers/socket/scMessage.js"),b.register(L,"handleFetchConversation","/workspace/src/reducers/socket/scMessage.js"),b.register(H,"watchSCRedirect","/workspace/src/reducers/socket/scMessage.js")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)}).call(this,r("YuTi")(e))},"4BOJ":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=i(r("14Xm")),o=i(r("gDS+"));t.showVoucher=v;var s,c=i(r("jtha")),n=r("5rFJ"),u=r("8TFP"),d=i(r("rN3q")),l=r("tpro");function i(e){return e&&e.__esModule?e:{default:e}}(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&s(e);var f,p,S=a.default.mark(v);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function v(e){var t,r,s,i,f,p,v,h=e.shopId,g=e.ids;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g=g.map((function(e){return parseInt(e)})),e.next=4,(0,n.select)(u.currentUserIdSelector);case 4:return t=e.sent,e.next=7,(0,n.select)(u.isSubAccountSelector);case 7:return r=e.sent,s="vouchers_by_ids",e.next=11,(0,n.call)(c.default,{ssl:!0,parent:"vouchers",resource:s,params:{ids:(0,o.default)(g),shop_id:h,buyer_id:r?0:t}});case 11:if(i=e.sent,!(f=i[s])||!f.length){e.next=21;break}return f.forEach((function(e){return e.fetchStatus="done"})),p=(0,d.default)("vouchers",f),v=p.entities,e.next=18,(0,n.put)((0,l.updateEntities)({entities:v}));case 18:return e.abrupt("return",f);case 21:return e.abrupt("return",g.map((function(e){return{id:e,fetchStatus:""}})));case 22:e.next=27;break;case 24:return e.prev=24,e.t0=e.catch(0),e.abrupt("return",g.map((function(e){return{id:e,fetchStatus:""}})));case 27:case"end":return e.stop()}}),S,this,[[0,24]])}(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&f.register(v,"showVoucher","/workspace/src/reducers/voucher/show.js"),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,r("YuTi")(e))},"5HOM":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.messageShortcutsSelector=t.messageShortcutIdsSelector=t.messageShortcutHttpStatusSelector=void 0;var a,o=r("XiPH"),s=r("peh1"),c=r("A2+V"),n=r("rN3q");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u,d,l=t.messageShortcutHttpStatusSelector=function(e){return e.messageShortcutReducer.status},i=t.messageShortcutIdsSelector=function(e){return e.messageShortcutReducer.messageShortcutIds},f=t.messageShortcutsSelector=(0,s.createSelector)(c.entitiesSelector,i,(function(e,t){return(0,o.denormalize)(t,[n.messageShortcutsSchema],e)}));(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(l,"messageShortcutHttpStatusSelector","/workspace/src/selectors/messageShortcut.js"),u.register(i,"messageShortcutIdsSelector","/workspace/src/selectors/messageShortcut.js"),u.register(f,"messageShortcutsSelector","/workspace/src/selectors/messageShortcut.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r("YuTi")(e))},"7VPt":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.watchUnreadSagas=void 0;var a,o=d(r("QbLZ")),s=r("6SzI"),c=r("9jhx"),n=d(c),u=d(r("1tZ5"));function d(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var l,i,f=t.watchUnreadSagas=[c.watchUnreadCountChangeActionSagas],p=(0,s.handleActions)((0,o.default)({},n.default,u.default),{totalUnreadConversationsCount:0});t.default=p,(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(f,"watchUnreadSagas","/workspace/src/reducers/unread/index.js"),l.register(p,"default","/workspace/src/reducers/unread/index.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r("YuTi")(e))},"88fJ":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.feedbackSucceeded=t.feedbackRequested=void 0;var a=d(r("YEIV")),o=d(r("QbLZ")),s=d(r("14Xm"));t.watchFeedback=h;var c,n=r("6SzI"),u=r("5rFJ");function d(e){return e&&e.__esModule?e:{default:e}}(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&c(e);var l=s.default.mark(v),i=s.default.mark(h),f=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(0,n.createActions)({FEEDBACK_REQUESTED:function(e){return{feedback:e.feedback}},FEEDBACK_SUCCEEDED:function(e){return{feedback:e.feedback}}})),p=f.feedbackRequested,S=f.feedbackSucceeded;function v(e){var t=e.payload.feedback;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.put)(S({feedback:t}));case 2:return e.next=4,(0,u.delay)(2500);case 4:return e.next=6,(0,u.put)(S({feedback:void 0}));case 6:case"end":return e.stop()}}),l,this)}function h(){var e,t,r;return s.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,u.actionChannel)(p);case 2:e=a.sent;case 3:return a.next=6,(0,u.take)(e);case 6:return t=a.sent,r=t.payload,a.next=10,(0,u.call)(v,{payload:r});case 10:a.next=3;break;case 12:case"end":return a.stop()}}),i,this)}t.feedbackRequested=p,t.feedbackSucceeded=S;var g,k,b=(0,a.default)({},S,(function(e,t){var r=t.payload.feedback;return(0,o.default)({},e,{feedback:r})}));t.default=b,(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(g.register(p,"feedbackRequested","/workspace/src/reducers/socket/feedback.js"),g.register(S,"feedbackSucceeded","/workspace/src/reducers/socket/feedback.js"),g.register(v,"feedbackRequestedSaga","/workspace/src/reducers/socket/feedback.js"),g.register(h,"watchFeedback","/workspace/src/reducers/socket/feedback.js"),g.register(b,"default","/workspace/src/reducers/socket/feedback.js")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)}).call(this,r("YuTi")(e))},"8TFP":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.currentUserShopIdSelector=t.isSubAccountSelector=t.currentUserSelector=t.userSelector=t.showEntrySelector=t.socketSuccessSelector=t.loginSuccessSelector=t.isScChatSelector=t.newbieSelector=t.openedMenuSelector=t.tipsSelector=t.networkStatusSelector=t.currentUserIdSelector=t.showConversationDetailSelector=t.showChatWindowSelector=void 0;var a,o=r("XiPH"),s=r("peh1"),c=r("A2+V"),n=r("rN3q");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u,d,l=t.showChatWindowSelector=function(e){return e.userReducer.showChatWindow},i=t.showConversationDetailSelector=function(e){return e.userReducer.showConversationDetail},f=t.currentUserIdSelector=function(e){return e.userReducer.currentUserId},p=t.networkStatusSelector=function(e){return e.userReducer.networkStatus},S=t.tipsSelector=function(e){return e.userReducer.translateTips},v=t.openedMenuSelector=function(e){return e.userReducer.openedMenu},h=t.newbieSelector=function(e){return e.userReducer.newbie},g=t.isScChatSelector=function(e){return e.userReducer.isScChat},k=t.loginSuccessSelector=function(e){return e.userReducer.loginSuccess},b=t.socketSuccessSelector=function(e){return e.userReducer.socketSuccess},w=t.showEntrySelector=function(e){return e.userReducer.showEntry},_=t.userSelector=function(e){return(0,s.createSelector)(c.entitiesSelector,(function(t){return(0,o.denormalize)(e,n.userSchema,t)}))},m=t.currentUserSelector=(0,s.createSelector)(c.entitiesSelector,f,(function(e,t){return(0,o.denormalize)(t,n.userSchema,e)||{}})),y=t.isSubAccountSelector=(0,s.createSelector)(m,(function(e){return!!e&&"subaccount"===e.type})),L=t.currentUserShopIdSelector=(0,s.createSelector)(m,y,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return t?void 0:e.shop_id}));(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(l,"showChatWindowSelector","/workspace/src/selectors/user.js"),u.register(i,"showConversationDetailSelector","/workspace/src/selectors/user.js"),u.register(f,"currentUserIdSelector","/workspace/src/selectors/user.js"),u.register(p,"networkStatusSelector","/workspace/src/selectors/user.js"),u.register(S,"tipsSelector","/workspace/src/selectors/user.js"),u.register(v,"openedMenuSelector","/workspace/src/selectors/user.js"),u.register(h,"newbieSelector","/workspace/src/selectors/user.js"),u.register(g,"isScChatSelector","/workspace/src/selectors/user.js"),u.register(k,"loginSuccessSelector","/workspace/src/selectors/user.js"),u.register(b,"socketSuccessSelector","/workspace/src/selectors/user.js"),u.register(w,"showEntrySelector","/workspace/src/selectors/user.js"),u.register(_,"userSelector","/workspace/src/selectors/user.js"),u.register(m,"currentUserSelector","/workspace/src/selectors/user.js"),u.register(y,"isSubAccountSelector","/workspace/src/selectors/user.js"),u.register(L,"currentUserShopIdSelector","/workspace/src/selectors/user.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r("YuTi")(e))},"9ZRw":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=u(r("14Xm"));t.watchHeartBeatEmit=p;var o,s=r("5rFJ"),c=u(r("5IwO")),n=r("QCYR");function u(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var d,l,i=a.default.mark(p),f=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,3e4);function p(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,(0,s.delay)(f);case 3:return t.next=5,(0,n.getItem)("mini-session");case 5:e=t.sent,e&&e.token&&c.default.socket.connected&&c.default.heartbeatEmit(),t.next=0;break;case 10:case"end":return t.stop()}}),i,this)}(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(f,"heartBeatInterval","/workspace/src/reducers/socket/heartbeat.js"),d.register(p,"watchHeartBeatEmit","/workspace/src/reducers/socket/heartbeat.js")),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}).call(this,r("YuTi")(e))},"9jhx":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.refreshTotalUnreadConversationsCount=t.updateTotalUnreadConversationsCount=t.updateUnreadCount=t.unreadCountActions=void 0;var a=f(r("YEIV")),o=f(r("QbLZ")),s=f(r("14Xm"));t.watchUnreadCountChangeActionSagas=H;var c,n=r("6SzI"),u=r("Ae4k"),d=r("5rFJ"),l=r("763i"),i=f(r("jtha"));function f(e){return e&&e.__esModule?e:{default:e}}(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&c(e);var p=s.default.mark(m),S=s.default.mark(y),v=s.default.mark(L),h=s.default.mark(H),g=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,t.unreadCountActions={MARK_AS_READ:"markAsRead",MARK_AS_UNREAD:"markASUnread",CLOSE_CONVERSATION:"closeConversation",RESTART_CONVERSATION:"restartConversation",DELETE_CONVERSATION:"deleteConversation",FORWARD_CONVERSATION:"forwardConversation",RECEIVE_UNREADABLE_MESSAGE:"receiveUnreadableMessage",REFRESH_TOTAL_UNREAD_CONVERSATION_COUNT:"refreshTotalUnreadConversationCount"}),k=(0,n.createActions)({UPDATE_UNREAD_COUNT:function(e){return{type:e.type,conversation:e.conversation}},UPDATE_TOTAL_UNREAD_CONVERSATIONS_COUNT:function(e){return{count:e.count}},REFRESH_TOTAL_UNREAD_CONVERSATIONS_COUNT:function(){return{}}}),b=k.updateUnreadCount,w=k.updateTotalUnreadConversationsCount,_=k.refreshTotalUnreadConversationsCount;function m(e,t){return s.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,d.put)((0,l.updateRecord)({name:"conversations",id:e,record:{unread_count:t}}));case 2:case"end":return r.stop()}}),p,this)}function y(){var e,t;return s.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,d.call)(i.default,{parent:"conversation",resource:"unread-count"});case 3:return e=r.sent,t=e.total_unread_count,r.next=7,(0,d.put)(w({count:t}));case 7:r.next=11;break;case 9:r.prev=9,r.t0=r.catch(0);case 11:case"end":return r.stop()}}),S,this,[[0,9]])}function L(e){var t,r,a,o=e.payload,c=o.type,n=o.conversation,l=void 0===n?{}:n;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.id,r=l.unread_count,e.next=3,(0,d.select)(u.totalUnreadConversationsCountSelector);case 3:a=e.sent,e.t0=c,e.next=e.t0===g.FORWARD_CONVERSATION?7:e.t0===g.CLOSE_CONVERSATION?7:e.t0===g.DELETE_CONVERSATION?7:e.t0===g.MARK_AS_READ?13:e.t0===g.MARK_AS_UNREAD?19:e.t0===g.RECEIVE_UNREADABLE_MESSAGE?24:e.t0===g.RESTART_CONVERSATION?30:e.t0===g.REFRESH_TOTAL_UNREAD_CONVERSATION_COUNT?30:33;break;case 7:if(0===r){e.next=12;break}return e.next=10,(0,d.put)(w({count:a-1}));case 10:return e.next=12,(0,d.call)(m,t,0);case 12:return e.abrupt("break",34);case 13:if(!(r>0)){e.next=18;break}return e.next=16,(0,d.put)(w({count:a-1}));case 16:return e.next=18,(0,d.call)(m,t,0);case 18:return e.abrupt("break",34);case 19:return e.next=21,(0,d.put)(w({count:a+1}));case 21:return e.next=23,(0,d.call)(m,t,r+1);case 23:return e.abrupt("break",34);case 24:if(0!==r){e.next=27;break}return e.next=27,(0,d.put)(w({count:a+1}));case 27:return e.next=29,(0,d.call)(m,t,r+1);case 29:return e.abrupt("break",34);case 30:return e.next=32,(0,d.put)(_());case 32:case 33:return e.abrupt("break",34);case 34:case"end":return e.stop()}}),v,this)}function H(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.takeEvery)(b,L);case 2:return e.next=4,(0,d.takeEvery)(_,y);case 4:case"end":return e.stop()}}),h,this)}t.updateUnreadCount=b,t.updateTotalUnreadConversationsCount=w,t.refreshTotalUnreadConversationsCount=_;var G,E,C=(0,a.default)({},w,(function(e,t){var r=t.payload.count;return(0,o.default)({},e,{totalUnreadConversationsCount:r<0?0:r})}));t.default=C,(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(G.register(g,"unreadCountActions","/workspace/src/reducers/unread/update.js"),G.register(b,"updateUnreadCount","/workspace/src/reducers/unread/update.js"),G.register(w,"updateTotalUnreadConversationsCount","/workspace/src/reducers/unread/update.js"),G.register(_,"refreshTotalUnreadConversationsCount","/workspace/src/reducers/unread/update.js"),G.register(m,"updateConversationUnreadCount","/workspace/src/reducers/unread/update.js"),G.register(y,"doRefreshTotalUnreadConversationsCount","/workspace/src/reducers/unread/update.js"),G.register(L,"handleUnreadCountChangeAction","/workspace/src/reducers/unread/update.js"),G.register(H,"watchUnreadCountChangeActionSagas","/workspace/src/reducers/unread/update.js"),G.register(C,"default","/workspace/src/reducers/unread/update.js")),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&E(e)}).call(this,r("YuTi")(e))},"A2+V":function(e,t,r){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,o,s=t.entitiesSelector=function(e){return e.entityReducer};(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(s,"entitiesSelector","/workspace/src/selectors/entity.js"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,r("YuTi")(e))},AGE5:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSettingsStatus=t.fetchSettingsSucceeded=void 0;var a,o=f(r("YEIV")),s=f(r("QbLZ")),c=f(r("14Xm"));t.fetchSettings=g;var n,u=r("6SzI"),d=r("5rFJ"),l=f(r("jtha")),i=f(r("b/qR"));function f(e){return e&&e.__esModule?e:{default:e}}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var p=c.default.mark(g),S=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(0,u.createActions)({FETCH_SETTINGS_SUCCEEDED:function(e){return{settings:e.settings,fetchStatus:e.fetchStatus}},FETCH_SETTINGS_STATUS:function(e){return{fetchStatus:e.fetchStatus}}})),v=S.fetchSettingsSucceeded,h=S.fetchSettingsStatus;function g(){var e;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,d.put)(h({fetchStatus:i.default.PENDING}));case 3:return t.next=5,(0,d.call)(l.default,{parent:"user",resource:"setting"});case 5:return e=t.sent,t.next=8,(0,d.put)(v({settings:e,fetchStatus:i.default.SUCCEED}));case 8:return t.abrupt("return",e);case 11:return t.prev=11,t.t0=t.catch(0),t.next=15,(0,d.put)(h({fetchStatus:i.default.FAILED}));case 15:return t.abrupt("return",{});case 16:case"end":return t.stop()}}),p,this,[[0,11]])}t.fetchSettingsSucceeded=v,t.fetchSettingsStatus=h;var k,b,w=(a={},(0,o.default)(a,v,(function(e,t){var r=t.payload,a=r.settings,o=r.fetchStatus;return(0,s.default)({},e,{settings:a,fetchStatus:o})})),(0,o.default)(a,h,(function(e,t){var r=t.payload.fetchStatus;return(0,s.default)({},e,{fetchStatus:r})})),a);t.default=w,(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(v,"fetchSettingsSucceeded","/workspace/src/reducers/settings/fetch.js"),k.register(h,"fetchSettingsStatus","/workspace/src/reducers/settings/fetch.js"),k.register(g,"fetchSettings","/workspace/src/reducers/settings/fetch.js"),k.register(w,"default","/workspace/src/reducers/settings/fetch.js")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)}).call(this,r("YuTi")(e))},Ae4k:function(e,t,r){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,o,s=t.totalUnreadConversationsCountSelector=function(e){return e.unreadCountReducer.totalUnreadConversationsCount};(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(s,"totalUnreadConversationsCountSelector","/workspace/src/selectors/unreadCount.js"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,r("YuTi")(e))},Bk9M:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.currentBuyerShopSelector=t.myShopSelector=t.shopSelector=t.totalShopUnreadCountSelector=void 0;var a,o=r("rN3q"),s=r("XiPH"),c=r("peh1"),n=r("A2+V"),u=r("WNYn"),d=r("WNYn");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var l,i,f=t.totalShopUnreadCountSelector=function(e){return e.shopReducer.totalShopUnreadCount},p=t.shopSelector=function(e){return(0,c.createSelector)(n.entitiesSelector,(function(t){return(0,s.denormalize)(e,o.shopSchema,t)}))},S=t.myShopSelector=(0,c.createSelector)(u.currentConversationSelector,(function(e){return e.shop||{}})),v=t.currentBuyerShopSelector=(0,c.createSelector)(d.currentBuyerShopIdSelector,n.entitiesSelector,(function(e,t){return(0,s.denormalize)(e,o.shopSchema,t)||{}}));(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(f,"totalShopUnreadCountSelector","/workspace/src/selectors/shop.js"),l.register(p,"shopSelector","/workspace/src/selectors/shop.js"),l.register(S,"myShopSelector","/workspace/src/selectors/shop.js"),l.register(v,"currentBuyerShopSelector","/workspace/src/selectors/shop.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r("YuTi")(e))},"Cx/V":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.updateGuideSucceeded=t.updateGuideRequested=void 0;var a=p(r("YEIV")),o=p(r("QbLZ")),s=p(r("14Xm")),c=p(r("FyfS")),n=p(r("m1cH"));t.updateGuide=w,t.watchUpdateGuides=_;var u,d=r("6SzI"),l=r("5rFJ"),i=p(r("jtha")),f=r("8TFP");function p(e){return e&&e.__esModule?e:{default:e}}(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&u(e);var S=s.default.mark(w),v=s.default.mark(_),h=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(0,d.createActions)({UPDATE_GUIDE_REQUESTED:function(e){return{newbieId:e.newbieId}},UPDATE_GUIDE_SUCCEEDED:function(e){return{newbie:e.newbie}}})),g=h.updateGuideRequested,k=h.updateGuideSucceeded;function b(e,t){var r=[].concat((0,n.default)(e)),a=!0,o=!1,s=void 0;try{for(var u,d=(0,c.default)(r);!(a=(u=d.next()).done);a=!0){var l=u.value,i=l.children.findIndex((function(e){return e.id===t}));if(-1!==i){l.children.splice(i,1);break}}}catch(e){o=!0,s=e}finally{try{!a&&d.return&&d.return()}finally{if(o)throw s}}return r}function w(e){var t,r,a=e.payload.newbieId;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.select)(f.newbieSelector);case 2:return t=e.sent,r=b(t,a),e.next=6,(0,l.put)(k({newbie:r}));case 6:return e.prev=6,e.next=9,(0,l.call)(i.default,{method:"PUT",resource:"newbie",id:a});case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(6);case 13:case"end":return e.stop()}}),S,this,[[6,11]])}function _(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.takeEvery)(g,w);case 2:case"end":return e.stop()}}),v,this)}t.updateGuideRequested=g,t.updateGuideSucceeded=k;var m,y,L=(0,a.default)({},k,(function(e,t){var r=t.payload.newbie;return(0,o.default)({},e,{newbie:r})}));t.default=L,(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(g,"updateGuideRequested","/workspace/src/reducers/user/updateGuide.js"),m.register(k,"updateGuideSucceeded","/workspace/src/reducers/user/updateGuide.js"),m.register(b,"deleteItem","/workspace/src/reducers/user/updateGuide.js"),m.register(w,"updateGuide","/workspace/src/reducers/user/updateGuide.js"),m.register(_,"watchUpdateGuides","/workspace/src/reducers/user/updateGuide.js"),m.register(L,"default","/workspace/src/reducers/user/updateGuide.js")),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&y(e)}).call(this,r("YuTi")(e))},EYEH:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getOrderPayment=t.getLogisticsLog=t.getCancelOrderDisplayStatus=t.getCancelReason=t.getPayMethod=void 0;var a,o,s=r("kiXb"),c=(a=s)&&a.__esModule?a:{default:a},n=r("EOYI"),u=r("hRrX");(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var d,l,i=t.getPayMethod=function(e){switch(e){case u.method.PAY_CREDIT_CARD:return c.default.t("common.order.pay_method.cc");case u.method.PAY_BANK_TRANSFER:return c.default.t("common.order.pay_method.bank_transfer");case u.method.PAY_OFFLINE_PAYMENT:return c.default.t("common.order.pay_method.offline");case u.method.PAY_IPAY88:return c.default.t("common.order.pay_method.online");case u.method.PAY_FREE:return c.default.t("common.order.pay_method.waived");case u.method.PAY_COD:return c.default.t("common.order.pay_method.cod");case u.method.PAY_ESUN:return c.default.t("common.order.pay_method.esun");case u.method.PAY_BILL_PAYMENT:return c.default.t("common.order.pay_method.bill_payment");case u.method.PAY_INDOMARET:return c.default.t("common.order.pay_method.indomaret");case u.method.PAY_KREDIVO:return c.default.t("common.order.pay_method.kredivo");case u.method.PAY_NICEPAY_CC:return c.default.t("common.order.pay_method.cc_installment");case u.method.PAY_AIRPAY:return c.default.t("common.order.pay_method.airpay");case u.method.PAY_SHOPEE_WALLET:return c.default.t("common.order.pay_method.shopee_wallet");case u.method.PAY_SHOPEE_WALLET_V2:return c.default.t("common.order.pay_method.shopee_wallet_v2");case u.method.PAY_AKULAKU:return c.default.t("common.order.pay_method.akulaku");case u.method.PAY_INSTALLMENT:return c.default.t("common.order.pay_method.installment");case u.method.PAY_IBANKING:return c.default.t("common.order.pay_method.ibanking");default:return""}},f=t.getCancelReason=function(e){switch(e){case u.reason.NONE:return c.default.t("common.order.cancel_reason.none");case u.reason.OUT_OF_STOCK:return c.default.t("common.order.cancel_reason.out_of_stock");case u.reason.CUSTOMER_REQUEST:return c.default.t("common.order.cancel_reason.customer_request");case u.reason.UNDELIVERABLE_AREA:return c.default.t("common.order.cancel_reason.undeliverable_area");case u.reason.CANNOT_SUPPORT_COD:return c.default.t("common.order.cancel_reason.cannot_support_cod");case u.reason.LOST_PARCEL:return c.default.t("common.order.cancel_reason.lost_parcel");case u.reason.SYSTEM_UNPAID:return c.default.t("common.order.cancel_reason.system_unpaid");case u.reason.SYSTEM_UNDERPAID:return c.default.t("common.order.cancel_reason.underpaid");case u.reason.SYSTEM_PAYMENT_REJECTED:return c.default.t("common.order.cancel_reason.payment_rejected");default:return c.default.t("common.order.cancel_reason.system")}},p=t.getCancelOrderDisplayStatus=function(e,t){var r=e.list_type,a=e.status_ext,o=e.order_type,s=e.payment_method,c=e.shipping_method,n=e.logistics_status,d=e.pickup_cutoff_time;if(a===u.statusExt.ORDER_EXT_CANCEL_PENDING)return!1;var l=["MY","TW","VN","PH"].includes(t),i=!!d&&Date.now()>=new Date(d).getTime(),f=!0;switch(r){case u.listType.TOPAY:if(s===u.method.PAY_OFFLINE_PAYMENT)return f;break;case u.listType.TOSHIP:return i&&l&&s===u.method.PAY_COD&&n===u.logisticsStatus.LOGISTICS_REQUEST_CREATED?f:(o===u.orderType.ESCROW?(a===u.statusExt.ORDER_EXT_RETURN_PROCESSING||c>0&&n===u.logisticsStatus.LOGISTICS_REQUEST_CREATED&&i)&&(f=!1):o===u.orderType.SIMPLE&&(f=!1),f)}},S=t.getLogisticsLog=function(e,t,r){if(2===t)return r;switch(e){case u.logisticsLog.ORDER_DETAIL_SHIPPING_CONFIRMED:return c.default.t("common.order.logistics_log.detail_received");case u.logisticsLog.ORDER_DETAIL_SHIPPED:return c.default.t("common.order.logistics_log.shipped");case u.logisticsLog.ORDER_DETAIL_RECEIVED:return c.default.t("common.order.logistics_log.received_by_buyer");case u.logisticsLog.ORDER_DETAIL_CANCELED:return c.default.t("common.order.logistics_log.cancelled");case u.logisticsLog.ORDER_DETAIL_NOTIFY_SHIP:return c.default.t("common.order.logistics_log.notify_ship");default:return""}},v=t.getOrderPayment=function(e,t){var r=e.products,a=void 0===r?[]:r,o=e.voucher_price,s=void 0===o?0:o,c=e.price_before_discount,u=void 0===c?0:c,d=e.credit_card_promotion,l=void 0===d?0:d,i=a.reduce((function(e,t){return e+(t.coin_offset||0)}),0),f=u-s-l-i;return{shopeeCoin:i,payment:(0,n.formatPrice)(f,t)}};(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(i,"getPayMethod","/workspace/src/services/orders.js"),d.register(f,"getCancelReason","/workspace/src/services/orders.js"),d.register(p,"getCancelOrderDisplayStatus","/workspace/src/services/orders.js"),d.register(S,"getLogisticsLog","/workspace/src/services/orders.js"),d.register(v,"getOrderPayment","/workspace/src/services/orders.js")),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}).call(this,r("YuTi")(e))},FHl1:function(e,t,r){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,o,s=t.feedbackSelector=function(e){return e.socketReducer.feedback},c=t.reconnectFlagSelector=function(e){return e.socketReducer.reconnectFlag};(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(a.register(s,"feedbackSelector","/workspace/src/selectors/socket.js"),a.register(c,"reconnectFlagSelector","/workspace/src/selectors/socket.js")),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,r("YuTi")(e))},G6Oy:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.updateTranslateTips=void 0;var a,o=n(r("YEIV")),s=n(r("QbLZ")),c=r("6SzI");function n(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u=(0,c.createActions)({UPDATE_TRANSLATE_TIPS:function(e){return{shopId:e.shopId,flag:e.flag}}}).updateTranslateTips;t.updateTranslateTips=u;var d,l,i=(0,o.default)({},u,(function(e,t){var r=t.payload,a=r.shopId,c=r.flag;return(0,s.default)({},e,{translateTips:(0,s.default)({},e.translateTips,(0,o.default)({},a,c))})}));t.default=i,(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(u,"updateTranslateTips","/workspace/src/reducers/user/tips.js"),d.register(i,"default","/workspace/src/reducers/user/tips.js")),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}).call(this,r("YuTi")(e))},GXei:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.watchToastSagas=void 0;var a,o=l(r("QbLZ")),s=r("6SzI"),c=r("Spvx"),n=l(c),u=r("ZGUL"),d=l(u);function l(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,f,p=t.watchToastSagas=[c.watchSet,u.watchError],S=(0,s.handleActions)((0,o.default)({},n.default,d.default),{toast:{type:"",message:"",show:!1}});t.default=S,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(p,"watchToastSagas","/workspace/src/reducers/toast/index.js"),i.register(S,"default","/workspace/src/reducers/toast/index.js")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)}).call(this,r("YuTi")(e))},Gld0:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.autoTranslation=t.settingsFetchStatusSelector=t.settingsStatusSelector=t.settingsSelector=void 0;var a,o=r("peh1");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var s,c,n=t.settingsSelector=function(e){return e.settingsReducer.settings},u=t.settingsStatusSelector=function(e){return e.settingsReducer.status},d=t.settingsFetchStatusSelector=function(e){return e.settingsReducer.fetchStatus},l=t.autoTranslation=(0,o.createSelector)(n,(function(e){return e.auto_translation_status||""}));(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(s.register(n,"settingsSelector","/workspace/src/selectors/settings.js"),s.register(u,"settingsStatusSelector","/workspace/src/selectors/settings.js"),s.register(d,"settingsFetchStatusSelector","/workspace/src/selectors/settings.js"),s.register(l,"autoTranslation","/workspace/src/selectors/settings.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)}).call(this,r("YuTi")(e))},JbkK:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.resetReducers=t.reduxReset=void 0;var a,o=d(r("YEIV")),s=d(r("QbLZ")),c=d(r("sk9p")),n=d(r("oF3Q")),u=r("6SzI");function d(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var l=(0,u.createActions)({REDUX_RESET:function(){return{}}}).reduxReset;t.reduxReset=l;var i,f,p=t.resetReducers=function(e,t){return(0,n.default)(t).reduce((function(t,r){var a=(0,c.default)(r,2),n=a[0],u=a[1];return(0,s.default)({},t,(0,o.default)({},n,(function(t,r){return r.type!==""+l||e.blacklist.includes(n)||(t=void 0),u(t,r)})))}),{})};(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(l,"reduxReset","/workspace/src/reducers/reset.js"),i.register(p,"resetReducers","/workspace/src/reducers/reset.js")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)}).call(this,r("YuTi")(e))},MEv3:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.updateFetchVouchersRequestedStatus=t.fetchVouchersSucceeded=t.fetchVouchersRequested=void 0;var a,o=S(r("YEIV")),s=S(r("QbLZ")),c=S(r("14Xm"));t.fetchVouchers=m,t.watchFetch=y;var n,u=r("6SzI"),d=r("5rFJ"),l=r("tpro"),i=S(r("rN3q")),f=S(r("jtha")),p=S(r("b/qR"));function S(e){return e&&e.__esModule?e:{default:e}}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var v=c.default.mark(m),h=c.default.mark(y),g=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,10),k=(0,u.createActions)({FETCH_VOUCHERS_REQUESTED:function(e){var t=e.shopId,r=e.type,a=void 0===r?"ongoing":r,o=e.reset;return{shopId:t,type:a,reset:void 0!==o&&o}},FETCH_VOUCHERS_SUCCEEDED:function(e){return{page:e.page,hasMore:e.hasMore,voucherIds:e.voucherIds,status:e.status}},UPDATE_FETCH_VOUCHERS_REQUESTED_STATUS:function(e){return{status:e.status}}}),b=k.fetchVouchersRequested,w=k.fetchVouchersSucceeded,_=k.updateFetchVouchersRequestedStatus;function m(e){var t,r,a,o,s,n,u,S,h,k,b=e.payload,m=b.shopId,y=b.type,L=b.reset;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=1,r=!0,a=[],L){e.next=10;break}return e.next=6,(0,d.select)((function(e){return e.voucherReducer}));case 6:o=e.sent,t=o.page+1,r=o.hasMore,a=o.voucherIds;case 10:if(r){e.next=12;break}return e.abrupt("return");case 12:if(e.prev=12,!L){e.next=18;break}return e.next=16,(0,d.put)(w({page:t,hasMore:r,voucherIds:a,status:p.default.INIT_PENDING}));case 16:e.next=20;break;case 18:return e.next=20,(0,d.put)(_({status:p.default.PENDING}));case 20:return e.next=22,(0,d.call)(f.default,{ssl:!0,resource:"vouchers",params:{page:t,type:y,shop_id:m,per_page:g}});case 22:return s=e.sent,n=s.vouchers,u=(0,i.default)("vouchers",n),S=u.entities,h=u.result,k=void 0===h?[]:h,e.next=27,(0,d.put)((0,l.updateEntities)({entities:S}));case 27:return e.next=29,(0,d.put)(w({page:t,hasMore:n.length>=g,voucherIds:a.concat(k),status:p.default.SUCCEED}));case 29:e.next=35;break;case 31:return e.prev=31,e.t0=e.catch(12),e.next=35,(0,d.put)(_({status:L?p.default.INIT_FAILED:p.default.FAILED}));case 35:case"end":return e.stop()}}),v,this,[[12,31]])}function y(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.takeLatest)(b,m);case 2:case"end":return e.stop()}}),h,this)}t.fetchVouchersRequested=b,t.fetchVouchersSucceeded=w,t.updateFetchVouchersRequestedStatus=_;var L,H,G=(a={},(0,o.default)(a,w,(function(e,t){var r=t.payload,a=r.page,o=r.hasMore,c=r.voucherIds,n=r.status;return(0,s.default)({},e,{page:a,hasMore:o,voucherIds:c,status:n})})),(0,o.default)(a,_,(function(e,t){var r=t.payload.status;return(0,s.default)({},e,{status:r})})),a);t.default=G,(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(L.register(g,"PER_PAGE","/workspace/src/reducers/voucher/fetch.js"),L.register(b,"fetchVouchersRequested","/workspace/src/reducers/voucher/fetch.js"),L.register(w,"fetchVouchersSucceeded","/workspace/src/reducers/voucher/fetch.js"),L.register(_,"updateFetchVouchersRequestedStatus","/workspace/src/reducers/voucher/fetch.js"),L.register(m,"fetchVouchers","/workspace/src/reducers/voucher/fetch.js"),L.register(y,"watchFetch","/workspace/src/reducers/voucher/fetch.js"),L.register(G,"default","/workspace/src/reducers/voucher/fetch.js")),(H="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&H(e)}).call(this,r("YuTi")(e))},OVuk:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchShopDetailInfo=void 0;var a=f(r("14Xm"));t.showShop=k,t.watchShow=b;var o,s=f(r("rN3q")),c=f(r("jtha")),n=r("lInC"),u=r("5rFJ"),d=r("Bk9M"),l=r("tpro"),i=r("6SzI");function f(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var p,S,v=a.default.mark(k),h=a.default.mark(b),g=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(0,i.createActions)({FETCH_SHOP_DETAIL_INFO:function(e){return{shopId:e.shopId}}}).fetchShopDetailInfo);function k(e){var t,r,o,i=e.payload.shopId;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.select)((0,d.shopSelector)(i));case 3:if(t=e.sent,(0,n.shouldPersistItem)(t,!1)){e.next=12;break}return e.next=7,(0,u.call)(c.default,{resource:"shop",id:i});case 7:return(t=e.sent).storedTimestamp=Date.now(),r=(0,s.default)("shops",t),o=r.entities,e.next=12,(0,u.put)((0,l.updateEntities)({entities:o}));case 12:return e.abrupt("return",t);case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{});case 18:case"end":return e.stop()}}),v,this,[[0,15]])}function b(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.takeEvery)(g,k);case 2:case"end":return e.stop()}}),h,this)}t.fetchShopDetailInfo=g,(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(g,"fetchShopDetailInfo","/workspace/src/reducers/shop/show.js"),p.register(k,"showShop","/workspace/src/reducers/shop/show.js"),p.register(b,"watchShow","/workspace/src/reducers/shop/show.js")),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&S(e)}).call(this,r("YuTi")(e))},QCYR:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.removeItem=t.setItem=t.getItem=void 0;var a,o,s=r("oAJy"),c=(a=s)&&a.__esModule?a:{default:a};(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n,u,d=t.getItem=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?window.localStorage.getItem(e):c.default.getItem(e)},l=t.setItem=function(e,t){return c.default.setItem(e,t)},i=t.removeItem=function(e,t){return t?window.localStorage.removeItem(e):c.default.removeItem(e)};(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(d,"getItem","/workspace/src/services/localStorage.js"),n.register(l,"setItem","/workspace/src/services/localStorage.js"),n.register(i,"removeItem","/workspace/src/services/localStorage.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,r("YuTi")(e))},QJ1Q:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(r("QbLZ")),s=r("6SzI"),c=n(r("AGE5"));function n(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u,d,l=(0,s.handleActions)((0,o.default)({},c.default),{settings:{},fetchStatus:""});t.default=l,(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&u.register(l,"default","/workspace/src/reducers/settings/index.js"),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r("YuTi")(e))},RArh:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.watchVoucherSagas=void 0;var a,o=d(r("QbLZ")),s=r("6SzI"),c=r("MEv3"),n=d(c),u=r("+acW");function d(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var l,i,f=t.watchVoucherSagas=[c.watchFetch,u.watchClaim],p=(0,s.handleActions)((0,o.default)({},n.default),{page:0,total:0,voucherIds:[],status:"succeed"});t.default=p,(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(f,"watchVoucherSagas","/workspace/src/reducers/voucher/index.js"),l.register(p,"default","/workspace/src/reducers/voucher/index.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r("YuTi")(e))},RKms:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.updateFetchStickersRequestedStatus=t.updateFetchPacksRequestedStatus=t.fetchSingleStickerSucceeded=t.fetchSingleStickerRequested=t.fetchStickersRequested=t.updateCurrentSticker=t.selectSticker=t.initStickers=t.initPacks=void 0;var a,o=g(r("YEIV")),s=g(r("QbLZ")),c=g(r("14Xm"));t.watchFetch=O;var n,u=r("6SzI"),d=r("5rFJ"),l=g(r("jtha")),i=g(r("ppeG")),f=g(r("rN3q")),p=r("tpro"),S=r("8TFP"),v=r("cheP"),h=g(r("b/qR"));function g(e){return e&&e.__esModule?e:{default:e}}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var k=c.default.mark(j),b=c.default.mark(M),w=c.default.mark(A),_=c.default.mark(O),m=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(0,u.createActions)({INIT_PACKS:function(e){return{packs:e.packs,status:e.status}},INIT_STICKERS:function(e){return{sticker:e.sticker,icon:e.icon}},SELECT_STICKER:function(e){return{sticker:e.sticker,page:e.page}},UPDATE_CURRENT_STICKER:function(e){return{sticker:e.sticker,page:e.page}},FETCH_STICKERS_REQUESTED:function(){return{}},FETCH_SINGLE_STICKER_REQUESTED:function(e){return{sticker:e.sticker}},FETCH_SINGLE_STICKER_SUCCEEDED:function(e){return{sticker:e.sticker,stickerIds:e.stickerIds,status:e.status}},UPDATE_FETCH_PACKS_REQUESTED_STATUS:function(e){return{status:e.status}},UPDATE_FETCH_STICKERS_REQUESTED_STATUS:function(e){return{sticker:e.sticker,status:e.status}}})),y=m.initPacks,L=m.initStickers,H=m.selectSticker,G=m.updateCurrentSticker,E=m.fetchStickersRequested,C=m.fetchSingleStickerRequested,x=m.fetchSingleStickerSucceeded,I=m.updateFetchPacksRequestedStatus,T=m.updateFetchStickersRequestedStatus;t.initPacks=y,t.initStickers=L,t.selectSticker=H,t.updateCurrentSticker=G,t.fetchStickersRequested=E,t.fetchSingleStickerRequested=C,t.fetchSingleStickerSucceeded=x,t.updateFetchPacksRequestedStatus=I,t.updateFetchStickersRequestedStatus=T;var R="VN";function j(){var e,t,r,a,o,s;return c.default.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,(0,d.put)(I({status:h.default.INIT_PENDING}));case 3:return c.next=5,(0,d.call)(l.default,{server:i.default.STICKERS_URI,namespace:"",version:"",credentials:"omit",resource:"manifest",extension:"json"});case 5:if(e=c.sent,t=e.packs,!((r=t.reduce((function(e,t){return e.concat(t.reg.includes(R)?t.pid:[])}),[])).length>0)){c.next=18;break}return a=r.map((function(e){return(0,d.put)(L({sticker:e}))})),c.next=12,(0,d.all)(a);case 12:return o=r.map((function(e){return{id:e,icon:"https://"+i.default.STICKERS_URI+"/packs/"+e+"/icon@2x.png"}})),c.next=15,(0,d.put)(y({packs:o,status:h.default.SUCCEED}));case 15:return s=r[0],c.next=18,(0,d.put)(H({sticker:s}));case 18:c.next=24;break;case 20:return c.prev=20,c.t0=c.catch(0),c.next=24,(0,d.put)(I({status:h.default.INIT_FAILED}));case 24:case"end":return c.stop()}}),k,this,[[0,20]])}function M(e){var t,r,a,o,s,n,u=e.payload.sticker;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.put)(T({sticker:u,status:h.default.INIT_PENDING}));case 3:return e.next=5,(0,d.call)(l.default,{server:i.default.STICKERS_URI,namespace:"",version:"",credentials:"omit",resource:"packs",id:u+"/"+u,extension:"json"});case 5:return t=e.sent,e.t0=S.currentUserSelector,e.next=9,(0,d.select)((function(e){return e}));case 9:return e.t1=e.sent,r=(0,e.t0)(e.t1),a=r.locale,o=t.locales.indexOf(a),s=u,t.stickers.forEach((function(e){e.src="https://"+i.default.STICKERS_URI+"/packs/"+s+"/"+e.sid+"@1x."+e.ext,e.locale=e.name[o],e.pid=s,e.id=e.pid+"_"+e.sid})),n=(0,f.default)("stickers",t.stickers),e.next=18,(0,d.put)((0,p.updateEntities)({entities:n.entities}));case 18:return e.next=20,(0,d.put)(x({sticker:u,stickerIds:n.result,status:h.default.SUCCEED}));case 20:e.next=26;break;case 22:return e.prev=22,e.t2=e.catch(0),e.next=26,(0,d.put)(T({sticker:u,status:h.default.INIT_FAILED}));case 26:case"end":return e.stop()}}),b,this,[[0,22]])}function A(e){var t,r=e.payload,a=r.sticker,o=r.page;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.put)(G({sticker:a,page:o}));case 3:return e.next=5,(0,d.select)(v.stickerHttpStatusSelector);case 5:if((t=e.sent)!==h.default.INIT_PENDING&&t!==h.default.SUCCEED){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,(0,d.put)(C({sticker:a}));case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),w,this,[[0,12]])}function O(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.takeEvery)(E,j);case 2:return e.next=4,(0,d.takeEvery)(C,M);case 4:return e.next=6,(0,d.takeEvery)(H,A);case 6:case"end":return e.stop()}}),_,this)}var P,U,D=(a={},(0,o.default)(a,L,(function(e,t){var r=t.payload,a=r.sticker,c=r.icon,n=e.stickers||{};return(0,s.default)({},e,{stickers:(0,s.default)({},n,(0,o.default)({},a,{icon:c,stickerIds:[],status:h.default.NORMAL}))})})),(0,o.default)(a,x,(function(e,t){var r=t.payload,a=r.sticker,c=r.stickerIds,n=r.status,u=e.stickers||{},d=u[a]||{};return(0,s.default)({},e,{stickers:(0,s.default)({},u,(0,o.default)({},a,(0,s.default)({},d,{stickerIds:c,status:n})))})})),(0,o.default)(a,T,(function(e,t){var r=t.payload,a=r.sticker,c=r.status,n=e.stickers||{},u=n[a]||{};return(0,s.default)({},e,{stickers:(0,s.default)({},n,(0,o.default)({},a,(0,s.default)({},u,{status:c})))})})),(0,o.default)(a,G,(function(e,t){var r=t.payload,a=r.sticker,o=r.page,c=void 0===o?1:o;return(0,s.default)({},e,{currentSticker:a,currentStickerPage:c})})),(0,o.default)(a,y,(function(e,t){var r=t.payload,a=r.packs,o=void 0===a?[]:a,c=r.status;return(0,s.default)({},e,{packs:o,packHttpStatus:c})})),(0,o.default)(a,I,(function(e,t){var r=t.payload.status;return(0,s.default)({},e,{packHttpStatus:r})})),a);t.default=D,(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(P.register(y,"initPacks","/workspace/src/reducers/sticker/fetch.js"),P.register(L,"initStickers","/workspace/src/reducers/sticker/fetch.js"),P.register(H,"selectSticker","/workspace/src/reducers/sticker/fetch.js"),P.register(G,"updateCurrentSticker","/workspace/src/reducers/sticker/fetch.js"),P.register(E,"fetchStickersRequested","/workspace/src/reducers/sticker/fetch.js"),P.register(C,"fetchSingleStickerRequested","/workspace/src/reducers/sticker/fetch.js"),P.register(x,"fetchSingleStickerSucceeded","/workspace/src/reducers/sticker/fetch.js"),P.register(I,"updateFetchPacksRequestedStatus","/workspace/src/reducers/sticker/fetch.js"),P.register(T,"updateFetchStickersRequestedStatus","/workspace/src/reducers/sticker/fetch.js"),P.register(R,"country","/workspace/src/reducers/sticker/fetch.js"),P.register(j,"fetchStickersRequestedSaga","/workspace/src/reducers/sticker/fetch.js"),P.register(M,"fetchSingleStickerRequestedSaga","/workspace/src/reducers/sticker/fetch.js"),P.register(A,"selectStickerSaga","/workspace/src/reducers/sticker/fetch.js"),P.register(O,"watchFetch","/workspace/src/reducers/sticker/fetch.js"),P.register(D,"default","/workspace/src/reducers/sticker/fetch.js")),(U="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&U(e)}).call(this,r("YuTi")(e))},Spvx:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.setToastInformationSucceeded=t.setToastInformation=void 0;var a=l(r("YEIV")),o=l(r("QbLZ")),s=l(r("14Xm"));t.setToastInformationSaga=h,t.watchSet=g;var c,n=r("6SzI"),u=r("5rFJ"),d=r("8TFP");function l(e){return e&&e.__esModule?e:{default:e}}(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&c(e);var i=s.default.mark(h),f=s.default.mark(g),p=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(0,n.createActions)({SET_TOAST_INFORMATION:function(e){return{toast:e.toast}},SET_TOAST_INFORMATION_SUCCEEDED:function(e){return{toast:e.toast}}})),S=p.setToastInformation,v=p.setToastInformationSucceeded;function h(e){var t=e.payload.toast;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.select)(d.showConversationDetailSelector);case 2:if(!e.sent){e.next=6;break}return e.next=6,(0,u.put)(v({toast:t}));case 6:case"end":return e.stop()}}),i,this)}function g(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.takeEvery)(S,h);case 2:case"end":return e.stop()}}),f,this)}t.setToastInformation=S,t.setToastInformationSucceeded=v;var k,b,w=(0,a.default)({},v,(function(e,t){var r=t.payload.toast;return(0,o.default)({},e,{toast:r})}));t.default=w,(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(S,"setToastInformation","/workspace/src/reducers/toast/set.js"),k.register(v,"setToastInformationSucceeded","/workspace/src/reducers/toast/set.js"),k.register(h,"setToastInformationSaga","/workspace/src/reducers/toast/set.js"),k.register(g,"watchSet","/workspace/src/reducers/toast/set.js"),k.register(w,"default","/workspace/src/reducers/toast/set.js")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)}).call(this,r("YuTi")(e))},"Vt/u":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getChatSource=t.viewLinkWithAccess=t.goToPcMall=void 0;var a,o=r("ppeG");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var s,c,n=t.goToPcMall=function(e,t,r,a){window.open("https://"+(e?(0,o.getMallUrl)(t):(0,o.getMallUrl)())+"/product/"+a+"/"+r+"/")},u=t.viewLinkWithAccess=function(e,t){e&&("function"==typeof t?t():window.open(t))},d=t.getChatSource=function(){var e=window.location.hostname;return["seller","banhang","localhost"].some((function(t){return e.includes(t)}))};(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(s.register(n,"goToPcMall","/workspace/src/services/url.js"),s.register(u,"viewLinkWithAccess","/workspace/src/services/url.js"),s.register(d,"getChatSource","/workspace/src/services/url.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)}).call(this,r("YuTi")(e))},WFsx:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.blockUserFailed=t.blockUserSucceeded=t.blockUserRequested=void 0;var a=i(r("14Xm"));t.watchBlock=b;var o,s=r("6SzI"),c=r("5rFJ"),n=r("763i"),u=r("FsNy"),d=i(r("jtha")),l=i(r("P0rt"));function i(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var f=a.default.mark(k),p=a.default.mark(b),S=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(0,s.createActions)({BLOCK_USER_REQUESTED:function(e){var t=e.buyerName,r=e.buyerId,a=e.block;return{buyerName:t,buyerId:r,block:void 0===a||a,shopId:e.shopId,conversationId:e.conversationId}}})),v=S.blockUserRequested,h=S.blockUserSucceeded,g=S.blockUserFailed;function k(e){var t,r,o=e.payload,s=o.buyerName,i=o.buyerId,p=o.block,S=o.shopId,v=o.conversationId;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=p?"PUT":"DELETE",e.next=4,(0,c.call)(d.default,{method:t,parent:"user",resource:"blocks",id:i,params:{shop_id:S}});case 4:return e.next=6,(0,c.put)((0,n.updateRecord)({name:"users",id:i,record:{is_blocked:p}}));case 6:return e.next=8,(0,c.put)((0,n.updateRecord)({name:"conversations",id:v,record:{is_blocked:p}}));case 8:e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(0),r={type:"CONFIRM_MODAL",title:{key:p?"conversation_detail.workstation.block_fail_modal.title":"conversation_detail.workstation.unblock_fail_modal.title",vars:{username:s}},actions:{confirm:{label:{key:"common.confirm"}}}},e.t0 instanceof l.default&&(r.content={key:p?"conversation_detail.workstation.block_fail_modal.content":"conversation_detail.workstation.unblock_fail_modal.content"}),e.next=16,(0,c.put)((0,u.showModal)(r));case 16:case"end":return e.stop()}}),f,this,[[0,10]])}function b(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeEvery)(v,k);case 2:case"end":return e.stop()}}),p,this)}t.blockUserRequested=v,t.blockUserSucceeded=h,t.blockUserFailed=g;var w,_,m={};t.default=m,(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(v,"blockUserRequested","/workspace/src/reducers/user/block.js"),w.register(h,"blockUserSucceeded","/workspace/src/reducers/user/block.js"),w.register(g,"blockUserFailed","/workspace/src/reducers/user/block.js"),w.register(k,"blockUserRequestedSaga","/workspace/src/reducers/user/block.js"),w.register(b,"watchBlock","/workspace/src/reducers/user/block.js"),w.register(m,"default","/workspace/src/reducers/user/block.js")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)}).call(this,r("YuTi")(e))},WN6i:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.chatEasySentry=void 0;var a,o=r("QbLZ"),s=(a=o)&&a.__esModule?a:{default:a};t.initSentry=p;var c,n=r("WSEr");(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&c(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u,d,l={dnsKey:"2bb27851127c4ccf9913bf76b60fcc98",dnsNumber:"33",apiToken:""},i=["live","staging","uat","test"],f=t.chatEasySentry=null;function p(){if(!(i.indexOf("live")<0)){var e={environment:"live",sampleRate:.4,release:"1.11.1"};if(n.BrowserClient){var r=new n.BrowserClient((0,s.default)({dsn:"https://"+l.dnsKey+"@wsa-sentry.shopeemobile.com/"+l.dnsNumber},e));t.chatEasySentry=f=new n.Hub(r)}}}(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(l,"sentryConfig","/workspace/src/services/sentryService.js"),u.register(i,"ENVIRONMENTS","/workspace/src/services/sentryService.js"),u.register(f,"chatEasySentry","/workspace/src/services/sentryService.js"),u.register(p,"initSentry","/workspace/src/services/sentryService.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r("YuTi")(e))},WNYn:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.currentBuyerShopIdSelector=t.currentBuyerSelector=t.currentShopIdSelector=t.currentBuyerIdSelector=t.getConversations=t.getConversation=t.currentConversationTranslationAccessSelector=t.currentConversationSelector=t.keywordSelector=t.sortedConversationsSelector=t.filteredConversationsSelector=t.closedConversationsSelector=t.pinnedConversationsSelector=t.unreadConversationsSelector=t.conversationsSelector=t.listsHashSelector=t.conversationDirectionSelector=t.searchConversationHttpStatusSelector=t.resultsSelector=t.filterSelector=t.conversationHttpStatusSelector=t.currentConversationCanReadSelector=t.currentConversationIdSelector=t.totalUnreadCountSelector=t.conversationIdsMapSelector=t.conversationIdsSelector=void 0;var a,o=r("XiPH"),s=r("peh1"),c=r("A2+V"),n=r("rN3q");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u,d,l=t.conversationIdsSelector=function(e){return e.conversationReducer.conversationIds},i=t.conversationIdsMapSelector=function(e){return e.conversationReducer.conversationIdsMap},f=t.totalUnreadCountSelector=function(e){return e.conversationReducer.totalUnreadCount},p=t.currentConversationIdSelector=function(e){return e.conversationReducer.currentConversationId},S=t.currentConversationCanReadSelector=function(e){return e.conversationReducer.currentConversationCanRead},v=t.conversationHttpStatusSelector=function(e){return e.conversationReducer.status},h=t.filterSelector=function(e){return e.conversationReducer.filter},g=t.resultsSelector=function(e){return e.conversationReducer.results},k=t.searchConversationHttpStatusSelector=function(e){return e.conversationReducer.searchStatus},b=t.conversationDirectionSelector=function(e){return e.conversationReducer.direction},w=t.listsHashSelector=function(e){return e.conversationReducer.listsHash},_=t.conversationsSelector=(0,s.createSelector)(c.entitiesSelector,l,(function(e,t){return((0,o.denormalize)(t,[n.conversationSchema],e)||[]).filter((function(e){return e}))})),m=t.unreadConversationsSelector=(0,s.createSelector)(_,p,(function(e,t){return e.filter((function(e){var r=e.id,a=e.unread_count;return e&&(a>0||r===t)}))})),y=t.pinnedConversationsSelector=(0,s.createSelector)(_,(function(e){return e.filter((function(e){return e.pinned}))})),L=t.closedConversationsSelector=(0,s.createSelector)(_,(function(e){return e.filter((function(e){return e.status&&"closed"===e.status}))})),H=t.filteredConversationsSelector=(0,s.createSelector)(h,_,m,y,L,(function(e,t,r,a,o){return{All:t,Unread:r,Pinned:a,Closed:o}[e]})),G=t.sortedConversationsSelector=(0,s.createSelector)(H,(function(e){return e.sort((function(e,t){return t.latest_message_id-e.latest_message_id})).filter((function(e){return!e.faking}))})),E=t.keywordSelector=function(e){return e.conversationReducer.keyword},C=t.currentConversationSelector=(0,s.createSelector)(_,p,(function(e,t){return e.find((function(e){return e.id===t}))||{}})),x=t.currentConversationTranslationAccessSelector=(0,s.createSelector)(C,(function(e){return e.translationAccess})),I=t.getConversation=function(e){return(0,s.createSelector)(_,(function(t){return t.find((function(t){return t.id===e}))||{}}))},T=t.getConversations=function(e){return(0,s.createSelector)(_,(function(t){return e.map((function(e){return t.find((function(t){return t.id===e}))})).filter((function(e){return e}))}))},R=t.currentBuyerIdSelector=(0,s.createSelector)(C,(function(e){return(e||{}).to_id||null})),j=t.currentShopIdSelector=(0,s.createSelector)(C,(function(e){return(e||{}).shop_id||null})),M=t.currentBuyerSelector=(0,s.createSelector)(c.entitiesSelector,C,(function(e,t){return t&&(0,o.denormalize)(t.to_id,n.userSchema,e)||{}})),A=t.currentBuyerShopIdSelector=(0,s.createSelector)(C,(function(e){return(e||{}).to_shop_id||null}));(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(l,"conversationIdsSelector","/workspace/src/selectors/conversation.js"),u.register(i,"conversationIdsMapSelector","/workspace/src/selectors/conversation.js"),u.register(f,"totalUnreadCountSelector","/workspace/src/selectors/conversation.js"),u.register(p,"currentConversationIdSelector","/workspace/src/selectors/conversation.js"),u.register(S,"currentConversationCanReadSelector","/workspace/src/selectors/conversation.js"),u.register(v,"conversationHttpStatusSelector","/workspace/src/selectors/conversation.js"),u.register(h,"filterSelector","/workspace/src/selectors/conversation.js"),u.register(g,"resultsSelector","/workspace/src/selectors/conversation.js"),u.register(k,"searchConversationHttpStatusSelector","/workspace/src/selectors/conversation.js"),u.register(b,"conversationDirectionSelector","/workspace/src/selectors/conversation.js"),u.register(w,"listsHashSelector","/workspace/src/selectors/conversation.js"),u.register(_,"conversationsSelector","/workspace/src/selectors/conversation.js"),u.register(m,"unreadConversationsSelector","/workspace/src/selectors/conversation.js"),u.register(y,"pinnedConversationsSelector","/workspace/src/selectors/conversation.js"),u.register(L,"closedConversationsSelector","/workspace/src/selectors/conversation.js"),u.register(H,"filteredConversationsSelector","/workspace/src/selectors/conversation.js"),u.register(G,"sortedConversationsSelector","/workspace/src/selectors/conversation.js"),u.register(E,"keywordSelector","/workspace/src/selectors/conversation.js"),u.register(C,"currentConversationSelector","/workspace/src/selectors/conversation.js"),u.register(x,"currentConversationTranslationAccessSelector","/workspace/src/selectors/conversation.js"),u.register(I,"getConversation","/workspace/src/selectors/conversation.js"),u.register(T,"getConversations","/workspace/src/selectors/conversation.js"),u.register(R,"currentBuyerIdSelector","/workspace/src/selectors/conversation.js"),u.register(j,"currentShopIdSelector","/workspace/src/selectors/conversation.js"),u.register(M,"currentBuyerSelector","/workspace/src/selectors/conversation.js"),u.register(A,"currentBuyerShopIdSelector","/workspace/src/selectors/conversation.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r("YuTi")(e))},ZGUL:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.showOperationFailureToastRequested=void 0;var a=i(r("14Xm"));t.showOperationFailureToast=g,t.watchError=k;var o,s=r("6SzI"),c=r("5rFJ"),n=i(r("rFoj")),u=i(r("vaWs")),d=r("/Yj0"),l=r("Spvx");function i(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var f,p,S=a.default.mark(g),v=a.default.mark(k),h=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(0,s.createActions)({SHOW_OPERATION_FAILURE_TOAST_REQUESTED:function(e){return{error:e.error}}}).showOperationFailureToastRequested);function g(e){var t,r=e.payload.error;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,t=r instanceof u.default||r instanceof n.default?r.handler():(0,d.getToastInformation)(!1,{type:"server-error-tips"}),e.next=4,(0,c.put)((0,l.setToastInformation)({toast:t}));case 4:case"end":return e.stop()}}),S,this)}function k(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeEvery)(h,g);case 2:case"end":return e.stop()}}),v,this)}t.showOperationFailureToastRequested=h,(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(h,"showOperationFailureToastRequested","/workspace/src/reducers/toast/error.js"),f.register(g,"showOperationFailureToast","/workspace/src/reducers/toast/error.js"),f.register(k,"watchError","/workspace/src/reducers/toast/error.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,r("YuTi")(e))},aPRc:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=i(r("14Xm")),o=i(r("/f1G"));t.watchCSChatChannel=w,t.watchCSChatReconnect=_;var s,c=r("rRWa"),n=r("5rFJ"),u=r("fiCN"),d=i(r("5UmI")),l=r("QCYR");function i(e){return e&&e.__esModule?e:{default:e}}(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&s(e);var f,p,S=a.default.mark(b),v=a.default.mark(w),h=a.default.mark(_),g=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,!1),k=function(e){return(0,c.eventChannel)((function(t){return e.socket&&(0,o.default)(d.default).forEach((function(r){e.on(r,(function(){t({value:r,socket:e})}))})),function(){}}))};function b(e){var t,r,o=e.value,s=e.socket;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=17;break}e.t0=o,e.next=e.t0===d.default.CONNECT?4:e.t0===d.default.DISCONNECT?9:17;break;case 4:return e.next=6,(0,l.getItem)("mini-session");case 6:return(t=e.sent)&&t.user&&(r=t.user.country,s.csLoginEmit(r)),e.abrupt("break",17);case 9:if(g){e.next=15;break}return e.next=12,(0,n.delay)(3e3);case 12:s.socket.open(),e.next=16;break;case 15:g=!1;case 16:return e.abrupt("break",17);case 17:case"end":return e.stop()}}),S,this)}function w(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.call)(k,u.csChatSocket);case 2:return e=t.sent,t.next=5,(0,n.takeEvery)(e,b);case 5:case"end":return t.stop()}}),v,this)}function _(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=60*Math.floor(10*Math.random()+20)*1e3,t.next=4,(0,n.delay)(e);case 4:if(!u.csChatSocket.socket){t.next=10;break}return g=!0,u.csChatSocket.socket.close(),t.next=9,(0,n.delay)(1e3);case 9:u.csChatSocket.socket.open();case 10:t.next=0;break;case 12:case"end":return t.stop()}}),h,this)}(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(g,"isMannualDisconnect","/workspace/src/reducers/socket/csChannel.js"),f.register(k,"createChannel","/workspace/src/reducers/socket/csChannel.js"),f.register(b,"handleCSChatChannel","/workspace/src/reducers/socket/csChannel.js"),f.register(w,"watchCSChatChannel","/workspace/src/reducers/socket/csChannel.js"),f.register(_,"watchCSChatReconnect","/workspace/src/reducers/socket/csChannel.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,r("YuTi")(e))},"b5/c":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getCustomizeTime=t.getFormattedTime=t.customizeTime=t.updateTimeLocale=void 0;var a,o=c(r("oB4V")),s=c(r("kiXb"));function c(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n,u,d=new o.default,l=["Mon","Tue","Web","Thu","Fri","Sat","Sun"],i=t.updateTimeLocale=function(e){return d.locale.set(e)},f=t.customizeTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.noTodayFlag,a=t.noTimeFlag,o=t.needFullFormat,c=new Date,n=new Date(e),u=d.create(e),l=n.getFullYear(),i=n.getMonth()+1,f=n.getDate(),p=u.format("hh:mm"),S=s.default.t("conversation_detail.message_list.today"),v=s.default.t("conversation_detail.message_list.yesterday");if(o)return u.format("LHD")+", "+p;if(c.getFullYear()===l){if(c.getMonth()+1===i){if(c.getDate()===f)return r?""+p:S+"  "+p;if(c.getDate()-1===f)return a?""+v:v+"  "+p}return a?""+u.format("LHDS"):u.format("LHDS")+", "+p}return a?""+u.format("LHD"):u.format("LHD")+", "+p},p=t.getFormattedTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r="YYYY-MM-DD hh:mm",a=d.create(e);return a.format(t||r)},S=function(e){return{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate(),day:e.getDay()}},v=t.getCustomizeTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onlyTime,a=t.onlyDate,o=d.create(e),s=o.format("hh:mm"),c=o.format("YYYY-MM-DD");if(r)return s;if(a)return c;var n=new Date,u=new Date(e),i=S(n),f=i.year,p=i.month,v=i.date,h=S(u),g=h.year,k=h.month,b=h.date,w=h.day;if(g===f&&k===p){if(u===v)return s;var _=Math.abs(b-v),m=_+w<=7||w>_;return m?l[w]:c}return c};(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(d,"timeService","/workspace/src/services/time.js"),n.register(l,"weekMap","/workspace/src/services/time.js"),n.register(i,"updateTimeLocale","/workspace/src/services/time.js"),n.register(f,"customizeTime","/workspace/src/services/time.js"),n.register(p,"getFormattedTime","/workspace/src/services/time.js"),n.register(S,"splitDate","/workspace/src/services/time.js"),n.register(v,"getCustomizeTime","/workspace/src/services/time.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,r("YuTi")(e))},cOd3:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.hisOrderDataSelector=t.myOrderDataSelector=t.currentOrderFetchResultSelector=t.orderFetchResultSelector=t.orderSelector=t.fetchHisOrdersStatusSelector=t.fetchMyOrdersStatusSelector=t.fetchOrdersStatusSelector=void 0;var a,o=r("XiPH"),s=r("peh1"),c=r("A2+V"),n=r("WNYn"),u=r("rN3q");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var d,l,i={currentPage:0,perPage:20,total:0,hasMore:!0},f=t.fetchOrdersStatusSelector=function(e){return e.orderReducer.status},p=t.fetchMyOrdersStatusSelector=function(e){return e.orderReducer.fetchMyOrdersStatus},S=t.fetchHisOrdersStatusSelector=function(e){return e.orderReducer.fetchHisOrdersStatus},v=t.orderSelector=function(e){return(0,s.createSelector)(c.entitiesSelector,(function(t){return(0,o.denormalize)(e,u.orderSchema,t)}))},h=t.orderFetchResultSelector=function(e){return e.orderReducer.fetchResult},g=t.currentOrderFetchResultSelector=function(e,t){return(0,s.createSelector)(h,(function(r){var a=r[e+"_"+t];return a||{pagination:i,result:[]}}))},k=t.myOrderDataSelector=(0,s.createSelector)(h,n.currentShopIdSelector,n.currentBuyerIdSelector,c.entitiesSelector,(function(e,t,r,a){var s=e[t+"_"+r];if(!s)return[];var c=s.result||[];return(0,o.denormalize)(c,[u.orderSchema],a)})),b=t.hisOrderDataSelector=(0,s.createSelector)(h,n.currentBuyerShopIdSelector,n.currentBuyerIdSelector,c.entitiesSelector,(function(e,t,r,a){var s=e[t+"_"+r];if(!s)return[];var c=s.result||[];return(0,o.denormalize)(c,[u.orderSchema],a)}));(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(i,"defaultPagination","/workspace/src/selectors/order.js"),d.register(f,"fetchOrdersStatusSelector","/workspace/src/selectors/order.js"),d.register(p,"fetchMyOrdersStatusSelector","/workspace/src/selectors/order.js"),d.register(S,"fetchHisOrdersStatusSelector","/workspace/src/selectors/order.js"),d.register(v,"orderSelector","/workspace/src/selectors/order.js"),d.register(h,"orderFetchResultSelector","/workspace/src/selectors/order.js"),d.register(g,"currentOrderFetchResultSelector","/workspace/src/selectors/order.js"),d.register(k,"myOrderDataSelector","/workspace/src/selectors/order.js"),d.register(b,"hisOrderDataSelector","/workspace/src/selectors/order.js")),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}).call(this,r("YuTi")(e))},cheP:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.allStickersArraySelector=t.stickerHttpStatusSelector=t.stickersSelector=t.packHttpStatusSelector=t.currentStickerPageSelector=t.currentStickerSelector=t.packsSelector=t.allStickersSelector=void 0;var a,o,s=r("QbLZ"),c=(a=s)&&a.__esModule?a:{default:a},n=r("XiPH"),u=r("peh1"),d=r("A2+V"),l=r("rN3q");(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,f,p=t.allStickersSelector=function(e){return e.stickerReducer.stickers},S=t.packsSelector=function(e){return e.stickerReducer.packs},v=t.currentStickerSelector=function(e){return e.stickerReducer.currentSticker},h=t.currentStickerPageSelector=function(e){return e.stickerReducer.currentStickerPage},g=t.packHttpStatusSelector=function(e){return e.stickerReducer.packHttpStatus},k=t.stickersSelector=(0,u.createSelector)(d.entitiesSelector,p,v,(function(e,t,r){if(!r)return[];var a=t[r].stickerIds;return(0,n.denormalize)(a,[l.stickerSchema],e)})),b=t.stickerHttpStatusSelector=(0,u.createSelector)(p,v,(function(e,t){return t?e[t].status:""})),w=t.allStickersArraySelector=(0,u.createSelector)(S,p,(function(e,t){return e.map((function(e){var r=t[e.sticker];return(0,c.default)({},e,r)}))}));(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(p,"allStickersSelector","/workspace/src/selectors/sticker.js"),i.register(S,"packsSelector","/workspace/src/selectors/sticker.js"),i.register(v,"currentStickerSelector","/workspace/src/selectors/sticker.js"),i.register(h,"currentStickerPageSelector","/workspace/src/selectors/sticker.js"),i.register(g,"packHttpStatusSelector","/workspace/src/selectors/sticker.js"),i.register(k,"stickersSelector","/workspace/src/selectors/sticker.js"),i.register(b,"stickerHttpStatusSelector","/workspace/src/selectors/sticker.js"),i.register(w,"allStickersArraySelector","/workspace/src/selectors/sticker.js")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)}).call(this,r("YuTi")(e))},eYUK:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=l(r("14Xm")),o=l(r("QbLZ"));t.updateOrReplaceAction=S;var s,c=l(r("rN3q")),n=r("5rFJ"),u=r("763i"),d=r("tpro");function l(e){return e&&e.__esModule?e:{default:e}}(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&s(e);var i,f,p=a.default.mark(S);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function S(e,t,r){var s,l,i;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=e,l=[],i=[],Array.isArray(e)&&(s=((0,c.default)(r,e).entities||{})[r]||{}),t.forEach((function(e){var t=e.id,a=s[t];a?"conversations"===r&&(void 0!==a.faking||a.latestMessageStatus)?(delete(e=(0,o.default)({},a,e)).faking,delete e.latestMessageStatus,i.push(e)):l.push((0,n.put)((0,u.updateRecord)({name:r,id:t,record:(0,o.default)({},e)}))):i.push(e)})),i.length&&l.push((0,n.put)((0,d.updateEntities)({entities:(0,c.default)(r,i).entities}))),a.next=8,(0,n.all)(l);case 8:case"end":return a.stop()}}),p,this)}(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(S,"updateOrReplaceAction","/workspace/src/services/actions.js"),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)}).call(this,r("YuTi")(e))},empP:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.visitMallRequested=t.visitShopSellerCenterRequested=void 0;var a=i(r("14Xm"));t.visitShopSellerCenter=w,t.visitMall=_,t.watchVisit=m;var o,s=r("6SzI"),c=r("5rFJ"),n=i(r("jtha")),u=r("/Yj0"),d=r("Spvx"),l=r("ppeG");function i(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var f,p,S=a.default.mark(w),v=a.default.mark(_),h=a.default.mark(m),g=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(0,s.createActions)({VISIT_SHOP_SELLER_CENTER_REQUESTED:function(e){return{url:e.url,shopId:e.shopId,orderId:e.orderId,itemId:e.itemId}},VISIT_SHOP_SELLER_CENTER_FAILED:function(e){return{error:e.error}},VISIT_MALL_REQUESTED:function(e){return{shopId:e.shopId,country:e.country}}})),k=g.visitShopSellerCenterRequested,b=g.visitMallRequested;function w(e){var t,r,o,s,i,f,p,v,h,g,k,b,w,_,m,y,L,H=e.payload,G=H.url,E=H.shopId,C=H.orderId,x=H.itemId;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.call)(n.default,{resource:"shop",id:E,suffix:"sc"});case 3:if(t=e.sent,!(r=t.sc_url)){e.next=18;break}if(o=r.split("?"),s=o[1].split("&").find((function(e){return e.startsWith("sig=")})),i=s.substring(4),f=o[0].split("."),p=f[f.length-1],v=window.open(),!G){e.next=15;break}return v.location=G.includes("?")?G+"&sig="+i:G+"?sig="+i,e.abrupt("return");case 15:C||x?C?(h="https://"+(0,l.getSellerCenterUrl)(p)+"/portal/sale/"+C+"?sig="+i,v.location=h):x&&(g="https://"+(0,l.getSellerCenterUrl)(p)+"/portal/product/"+x+"?sig="+i,v.location=g):(k="https://"+(0,l.getSellerCenterUrl)(p)+"?sig="+i,v.location=k),e.next=21;break;case 18:return b=(0,u.getToastInformation)(!1,{type:"permission-denied"}),e.next=21,(0,c.put)((0,d.setToastInformation)({toast:b}));case 21:e.next=33;break;case 23:return e.prev=23,e.t0=e.catch(0),e.next=27,(0,c.select)((function(e){return e.entityReducer}));case 27:w=e.sent,_=w.shops,m=_[E],y="https://"+(0,l.getSellerCenterUrl)(m.country)+"/portal/",L=C?"sale/"+C:x?"product/"+x:"",window.open(y+L);case 33:case"end":return e.stop()}}),S,this,[[0,23]])}function _(e){var t,r=e.payload,o=r.shopId,s=r.country;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="https://"+(0,l.getMallUrl)(s)+"/shop/"+o,window.open(t);case 2:case"end":return e.stop()}}),v,this)}function m(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeEvery)(k,w);case 2:return e.next=4,(0,c.takeEvery)(b,_);case 4:case"end":return e.stop()}}),h,this)}t.visitShopSellerCenterRequested=k,t.visitMallRequested=b,(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(k,"visitShopSellerCenterRequested","/workspace/src/reducers/shop/visit.js"),f.register(b,"visitMallRequested","/workspace/src/reducers/shop/visit.js"),f.register(w,"visitShopSellerCenter","/workspace/src/reducers/shop/visit.js"),f.register(_,"visitMall","/workspace/src/reducers/shop/visit.js"),f.register(m,"watchVisit","/workspace/src/reducers/shop/visit.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,r("YuTi")(e))},enZm:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getGuideFailed=t.getGuideSucceeded=t.getGuideRequested=void 0;var a,o=i(r("YEIV")),s=i(r("QbLZ")),c=i(r("14Xm"));t.getGuide=k,t.watchGuides=b;var n,u=r("6SzI"),d=r("5rFJ"),l=i(r("jtha"));function i(e){return e&&e.__esModule?e:{default:e}}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var f=c.default.mark(k),p=c.default.mark(b),S=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(0,u.createActions)({GET_GUIDE_REQUESTED:function(){return{}},GET_GUIDE_SUCCEEDED:function(e){return{newbie:e.newbie}},GET_GUIDE_FAILED:function(){return{}}})),v=S.getGuideRequested,h=S.getGuideSucceeded,g=S.getGuideFailed;function k(){var e,t;return c.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,d.call)(l.default,{resource:"newbie",suffix:"uncompleted"});case 3:return e=r.sent,t=e.newbie,r.next=7,(0,d.put)(h({newbie:t}));case 7:return r.abrupt("return",t);case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,(0,d.put)(g());case 14:return r.abrupt("return",[]);case 15:case"end":return r.stop()}}),f,this,[[0,10]])}function b(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.takeEvery)(v,k);case 2:case"end":return e.stop()}}),p,this)}t.getGuideRequested=v,t.getGuideSucceeded=h,t.getGuideFailed=g;var w,_,m=(a={},(0,o.default)(a,h,(function(e,t){var r=t.payload.newbie;return(0,s.default)({},e,{newbie:r})})),(0,o.default)(a,g,(function(e){return(0,s.default)({},e,{newbie:[]})})),a);t.default=m,(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(v,"getGuideRequested","/workspace/src/reducers/user/guide.js"),w.register(h,"getGuideSucceeded","/workspace/src/reducers/user/guide.js"),w.register(g,"getGuideFailed","/workspace/src/reducers/user/guide.js"),w.register(k,"getGuide","/workspace/src/reducers/user/guide.js"),w.register(b,"watchGuides","/workspace/src/reducers/user/guide.js"),w.register(m,"default","/workspace/src/reducers/user/guide.js")),(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&_(e)}).call(this,r("YuTi")(e))},esz8:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.feedStorySelector=void 0;var a,o=r("XiPH"),s=r("peh1"),c=r("A2+V"),n=r("rN3q");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u,d,l=t.feedStorySelector=function(e){return(0,s.createSelector)(c.entitiesSelector,(function(t){return(0,o.denormalize)(e,n.feedStorySchema,t)}))};(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&u.register(l,"feedStorySelector","/workspace/src/selectors/feedStory.js"),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r("YuTi")(e))},gXnt:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchShopsByIds=t.fetchShopAuthRequested=t.updateFetchShopsStatus=void 0;var a=f(r("YEIV")),o=f(r("QbLZ")),s=f(r("14Xm")),c=f(r("gDS+")),n=f(r("4d7F"));t.fetchShopAuth=b,t.watchFetch=w;var u,d=f(r("jtha")),l=r("6SzI"),i=r("5rFJ");function f(e){return e&&e.__esModule?e:{default:e}}(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&u(e);var p=s.default.mark(b),S=s.default.mark(w),v=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(0,l.createActions)({UPDATE_FETCH_SHOPS_STATUS:function(e){return{status:e.status}},FETCH_SHOP_AUTH_REQUESTED:function(e){return{shopId:e.shopId}}})),h=v.updateFetchShopsStatus,g=v.fetchShopAuthRequested;t.updateFetchShopsStatus=h,t.fetchShopAuthRequested=g;var k=t.fetchShopsByIds=function(e){var t=e.shopIds;return new n.default((function(e){(0,d.default)({resource:"shops",params:{ids:(0,c.default)(t)}}).then((function(t){var r=t.shops;e(void 0===r?[]:r)})).catch((function(){e([])}))}))};function b(e){var t,r=e.payload.shopId;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.call)(d.default,{parent:"shop",parentId:r,resource:"auth"});case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{});case 10:case"end":return e.stop()}}),p,this,[[0,7]])}function w(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(g,b);case 2:case"end":return e.stop()}}),S,this)}var _,m,y=(0,a.default)({},h,(function(e,t){var r=t.payload.status;return(0,o.default)({},e,{status:r})}));t.default=y,(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(_.register(h,"updateFetchShopsStatus","/workspace/src/reducers/shop/fetch.js"),_.register(g,"fetchShopAuthRequested","/workspace/src/reducers/shop/fetch.js"),_.register(k,"fetchShopsByIds","/workspace/src/reducers/shop/fetch.js"),_.register(b,"fetchShopAuth","/workspace/src/reducers/shop/fetch.js"),_.register(w,"watchFetch","/workspace/src/reducers/shop/fetch.js"),_.register(y,"default","/workspace/src/reducers/shop/fetch.js")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)}).call(this,r("YuTi")(e))},hZz5:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.updateReconnectFlag=void 0;var a=L(r("YEIV")),o=L(r("QbLZ")),s=L(r("/f1G")),c=L(r("14Xm"));t.handleConnect=x,t.watchConnect=T;var n,u=L(r("kiXb")),d=L(r("5IwO")),l=r("rRWa"),i=r("5rFJ"),f=L(r("5UmI")),p=r("QCYR"),S=r("6SzI"),v=r("JbkK"),h=r("88fJ"),g=r("xcHk"),k=r("bqMa"),b=r("zd/2"),w=r("8Ryq"),_=r("gv+x"),m=r("WNYn"),y=r("FHl1");function L(e){return e&&e.__esModule?e:{default:e}}(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var H=c.default.mark(x),G=c.default.mark(T),E=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,function(e){return(0,h.feedbackRequested)({feedback:{status:e,network:!0,content:u.default.t("common.toast."+e)}})}),C=(0,S.createActions)({UPDATE_RECONNECT_FLAG:function(e){return{flag:e.flag}}}).updateReconnectFlag;function x(e){var t,r,a,o,s,n,u,d,l,S,L,G,x,I=e.value;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=I,e.next=e.t0===f.default.CONNECT?3:e.t0===f.default.DISCONNECT?79:e.t0===f.default.RECONNECT_ERROR?84:e.t0===f.default.RECONNECTING?91:e.t0===f.default.RECONNECT?94:"succeed"===e.t0?97:"failed"===e.t0?98:"logout"===e.t0?98:103;break;case 3:return e.next=5,(0,i.select)(y.reconnectFlagSelector);case 5:if(!e.sent){e.next=10;break}return t=1e3*Math.floor(30*Math.random()+1),e.next=10,(0,i.delay)(t);case 10:return e.next=12,(0,i.put)((0,h.feedbackSucceeded)({feedback:void 0}));case 12:return e.next=14,(0,p.getItem)("mini-session");case 14:if(r=e.sent,a=r&&r.p_token,o=r&&r.user,s=o&&"subaccount"!==o.type,!a||!o){e.next=76;break}return e.next=21,(0,i.call)(b.loginSocket,{token:a,account_id:o.uid});case 21:if(!e.sent){e.next=74;break}return e.next=25,(0,i.put)((0,g.updateSocketSuccessStatus)({socketSuccess:!0}));case 25:return e.next=27,(0,i.select)((function(e){return e.conversationReducer}));case 27:if(n=e.sent,u=n.conversationIds,d=n.latestTimestamp,l=n.latestReceivedMessageId,S=n.latestTimestampNano,!s){e.next=46;break}if(-1!==d||S){e.next=38;break}return e.next=36,(0,i.spawn)(w.fetchConversationsRequestedSaga,{payload:{direction:"reset"}});case 36:e.next=44;break;case 38:if(-1===d&&!S||0===u.length){e.next=43;break}return e.next=41,(0,i.spawn)(w.fetchConversationsRequestedSaga,{payload:{direction:"latest"}});case 41:e.next=44;break;case 43:console.log("*** WebChat Exception Here ***");case 44:e.next=57;break;case 46:if(l){e.next=51;break}return e.next=49,(0,i.spawn)(w.fetchConversationsRequestedSaga,{payload:{direction:"reset"}});case 49:e.next=57;break;case 51:if(!l||0===u.length){e.next=56;break}return e.next=54,(0,i.spawn)(w.fetchConversationsRequestedSaga,{payload:{direction:"latest"}});case 54:e.next=57;break;case 56:console.log("*** WebChat Exception Here ***");case 57:return e.next=59,(0,i.select)(m.currentConversationSelector);case 59:return L=e.sent,e.next=62,(0,i.select)(m.conversationIdsSelector);case 62:if(G=e.sent,!(x=L&&G.includes(L.id))){e.next=69;break}return e.next=67,(0,i.put)((0,_.showConversationRequested)({conversation:L,refresh:!0,read:!0}));case 67:e.next=72;break;case 69:if(x){e.next=72;break}return e.next=72,(0,i.put)((0,_.resetConversationRequested)());case 72:e.next=76;break;case 74:return e.next=76,(0,i.put)((0,g.updateSocketSuccessStatus)({socketSuccess:!1}));case 76:return e.next=78,(0,i.put)(C({flag:!1}));case 78:return e.abrupt("break",103);case 79:return e.next=81,(0,i.put)(C({flag:!0}));case 81:return e.next=83,(0,i.put)(E("error"));case 83:return e.abrupt("break",103);case 84:return e.next=86,(0,i.put)((0,k.abortAllSendingMessages)());case 86:return e.next=88,(0,i.put)(E("error"));case 88:return e.next=90,(0,i.put)((0,g.updateSocketSuccessStatus)({socketSuccess:!1}));case 90:return e.abrupt("break",103);case 91:return e.next=93,(0,i.put)(E("pending"));case 93:return e.abrupt("break",103);case 94:return e.next=96,(0,i.put)(E("resolved"));case 96:case 97:return e.abrupt("break",103);case 98:return e.next=100,(0,i.put)((0,b.logoutSucceeded)());case 100:return e.next=102,(0,i.put)((0,v.reduxReset)());case 102:return e.abrupt("break",103);case 103:case"end":return e.stop()}}),H,this)}t.updateReconnectFlag=C;var I=function(e){return(0,l.eventChannel)((function(t){return(0,s.default)(f.default).forEach((function(r){e.on(r,(function(){t({value:r,socket:e})}))})),function(){}}))};function T(){var e;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.call)(I,d.default);case 2:return e=t.sent,t.next=5,(0,i.takeEvery)(e,x);case 5:case"end":return t.stop()}}),G,this)}var R,j,M=(0,a.default)({},C,(function(e,t){var r=t.payload.flag;return(0,o.default)({},e,{reconnectFlag:r})}));t.default=M,(R="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(R.register(E,"getFeedbackAction","/workspace/src/reducers/socket/connect.js"),R.register(C,"updateReconnectFlag","/workspace/src/reducers/socket/connect.js"),R.register(x,"handleConnect","/workspace/src/reducers/socket/connect.js"),R.register(I,"createConnectChannel","/workspace/src/reducers/socket/connect.js"),R.register(T,"watchConnect","/workspace/src/reducers/socket/connect.js"),R.register(M,"default","/workspace/src/reducers/socket/connect.js")),(j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&j(e)}).call(this,r("YuTi")(e))},igIW:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.watchShopSagas=void 0;var a,o=l(r("QbLZ")),s=r("6SzI"),c=r("empP"),n=r("gXnt"),u=l(n),d=r("OVuk");function l(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,f,p=t.watchShopSagas=[n.watchFetch,c.watchVisit,d.watchShow],S=(0,s.handleActions)((0,o.default)({},u.default),{});t.default=S,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(p,"watchShopSagas","/workspace/src/reducers/shop/index.js"),i.register(S,"default","/workspace/src/reducers/shop/index.js")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)}).call(this,r("YuTi")(e))},jgzM:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=H(r("14Xm"));t.handleSubscribe=I,t.watchSubscribe=A;var o,s=H(r("5IwO")),c=r("rRWa"),n=r("5rFJ"),u=r("QCYR"),d=r("kXhk"),l=r("8TFP"),i=r("WNYn"),f=r("zd/2"),p=r("vqUA"),S=r("763i"),v=r("gv+x"),h=r("8Ryq"),g=r("mzZX"),k=r("5rLn"),b=r("Q8fy"),w=r("osg/"),_=r("9jhx"),m=r("4fYm"),y=H(r("Lro1")),L=r("wuwN");function H(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var G=a.default.mark(I),E=a.default.mark(T),C=a.default.mark(A),x=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,function(e,t){var r=t.conversation,a=t.read,o=t.pinned,s=t.offer,c=t.status,n=t.userId,u=t.flag,d=t.cardId,l=void 0,i=void 0;switch(e){case"conversations":l=u?{flag:u}:c?{status:c}:a?{last_read_message_id:r.latest_message_id,unread_count:0}:{unread_count:r.unread_count+1},void 0!==o&&(l={pinned:o}),i=r.id;break;case"offers":l={status:c},i=s.id;break;case"users":l={distribution_status:c},i=n;break;case"rateCards":l={status:c},i=d}return(0,S.updateRecord)({name:e,id:i,record:l})});function I(e){var t,r,o,s,c,u,L,H,E,C,I,R,j,M,A,O,P,U,D,N=e.type,F=e.payload;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.select)(l.currentUserIdSelector);case 2:return t=e.sent,e.next=5,(0,n.select)(i.currentConversationIdSelector);case 5:if(r=e.sent,"notification"!==N){e.next=152;break}if(o=F.type,s=F.content,c=s.conversation_id,u=s.offer_id,L=s.status,H=s.flag,E=s.card_id,C=F.user_id,I=void 0,R=void 0,!c){e.next=19;break}return e.next=12,(0,n.select)(i.conversationsSelector);case 12:if(e.t1=function(e){return e.id===c},e.t0=e.sent.find(e.t1),e.t0){e.next=16;break}e.t0=null;case 16:I=e.t0,e.next=26;break;case 19:if(!u){e.next=26;break}return e.t2=d.offersSelector,e.next=23,(0,n.select)((function(e){return e}));case 23:e.t3=e.sent,e.t4=u,R=(0,e.t2)(e.t3)[e.t4];case 26:return j=I&&t===C,e.next=29,(0,n.select)(i.filterSelector);case 29:M=e.sent,A="Unread"===M,e.t5=o,e.next=e.t5===y.default.MARK_AS_READ?34:e.t5===y.default.MARK_AS_UNREAD?50:e.t5===y.default.DELETE_CONVERSATION?70:e.t5===y.default.UPDATE_OFFER_STATUS?90:e.t5===y.default.UPDATE_CONVERSATION?94:e.t5===y.default.UPDATE_USER_STATUS?125:e.t5===y.default.UPDATE_CONVERSATION_FLAG?130:e.t5===y.default.FORCE_LOGOUT?135:e.t5===y.default.UPDATE_RATING_CARD_STATUS?138:e.t5===y.default.PIN_CONVERSATION?141:e.t5===y.default.UNPIN_CONVERSATION?144:150;break;case 34:if(!j){e.next=49;break}return e.next=37,(0,n.select)((function(e){return e.conversationReducer}));case 37:return O=e.sent,P=O.conversationMark,U="api"===P[c],e.next=42,(0,n.put)((0,m.markMessagesSucceed)({conversationId:c,markType:U?"":"socket"}));case 42:if(U){e.next=49;break}if(!I.unread_count){e.next=49;break}return e.next=47,(0,n.put)(x("conversations",{conversation:I,read:!0}));case 47:return e.next=49,(0,n.put)((0,_.updateUnreadCount)({type:_.unreadCountActions.MARK_AS_READ,conversation:I}));case 49:return e.abrupt("break",150);case 50:if(!A){e.next=61;break}return e.t7=i.conversationsSelector,e.next=54,(0,n.select)((function(e){return e}));case 54:if(e.t8=e.sent,e.t9=function(e){return e.id===c},e.t6=(0,e.t7)(e.t8).find(e.t9),e.t6){e.next=59;break}e.t6=null;case 59:I=e.t6,j=I&&t===C;case 61:if(e.t10=j&&0===I.unread_count,!e.t10){e.next=65;break}return e.next=65,(0,n.put)(x("conversations",{conversation:I,read:!1}));case 65:if(e.t11=j,!e.t11){e.next=69;break}return e.next=69,(0,n.put)((0,_.updateUnreadCount)({type:_.unreadCountActions.MARK_AS_UNREAD,conversation:I}));case 69:return e.abrupt("break",150);case 70:if(!j){e.next=85;break}return e.next=73,(0,n.put)((0,w.removeSingleDraft)({conversationId:c}));case 73:return e.next=75,(0,n.put)((0,g.deleteConversationSucceeded)({conversationId:c}));case 75:return e.next=77,(0,n.put)((0,S.deleteRecord)({name:"conversations",id:c}));case 77:return e.t12=i.conversationIdsSelector,e.next=80,(0,n.select)((function(e){return e}));case 80:if(e.t13=e.sent,!((0,e.t12)(e.t13).length<20)){e.next=85;break}return e.next=85,(0,n.put)((0,h.fetchConversationsRequested)({direction:"older"}));case 85:if(e.t14=I,!e.t14){e.next=89;break}return e.next=89,(0,n.put)((0,_.updateUnreadCount)({type:_.unreadCountActions.DELETE_CONVERSATION,conversation:I}));case 89:return e.abrupt("break",150);case 90:if(!R||!L||"pending"===L){e.next=93;break}return e.next=93,(0,n.put)(x("offers",{offer:R,status:L}));case 93:return e.abrupt("break",150);case 94:if(!j){e.next=124;break}return D=I.shop_id,e.next=98,(0,n.put)(x("conversations",{conversation:I,status:L}));case 98:if("closed"!==L){e.next=109;break}return e.next=101,(0,n.put)((0,w.removeSingleDraft)({conversationId:c}));case 101:return e.next=103,(0,n.put)((0,_.updateUnreadCount)({type:_.unreadCountActions.CLOSE_CONVERSATION,conversation:I}));case 103:return e.next=105,(0,n.put)(x("conversations",{conversation:I,read:!0}));case 105:return e.next=107,(0,n.put)((0,b.resetMessagesFetchOffset)({conversationId:c,offset:0}));case 107:e.next=124;break;case 109:if("activated"!==L){e.next=124;break}if(r){e.next=115;break}return e.next=113,(0,n.put)((0,_.updateUnreadCount)({type:_.unreadCountActions.RESTART_CONVERSATION,conversation:I}));case 113:e.next=122;break;case 115:if(r!==c){e.next=120;break}return e.next=118,(0,n.put)((0,b.fetchMessagesRequested)({conversation:I,reset:!0}));case 118:e.next=122;break;case 120:return e.next=122,(0,n.put)((0,_.updateUnreadCount)({type:_.unreadCountActions.RESTART_CONVERSATION,conversation:I}));case 122:return e.next=124,(0,n.put)((0,k.getConversationDetailRequested)({conversationId:c,shopId:D,needRead:r===c}));case 124:return e.abrupt("break",150);case 125:if(e.t15=t===C,!e.t15){e.next=129;break}return e.next=129,(0,n.put)(x("users",{userId:C,status:L}));case 129:return e.abrupt("break",150);case 130:if(e.t16=j,!e.t16){e.next=134;break}return e.next=134,(0,n.put)(x("conversations",{conversation:I,flag:H}));case 134:return e.abrupt("break",150);case 135:return e.next=137,(0,n.call)(f.logoutHandler);case 137:return e.abrupt("break",150);case 138:return e.next=140,(0,n.put)(x("rateCards",{cardId:E,status:L}));case 140:return e.abrupt("break",150);case 141:return e.next=143,(0,n.put)(x("conversations",{conversation:I,pinned:!0}));case 143:return e.abrupt("break",150);case 144:return e.next=146,(0,n.put)(x("conversations",{conversation:I,pinned:!1}));case 146:if(r!==c||"Pinned"!==M){e.next=149;break}return e.next=149,(0,n.put)((0,v.resetConversationRequested)());case 149:return e.abrupt("break",150);case 150:e.next=157;break;case 152:if("message"!==N){e.next=157;break}return e.next=155,(0,n.spawn)(T,F.request_id);case 155:return e.next=157,(0,n.put)((0,p.receiveMessageRequested)({message:F}));case 157:case"end":return e.stop()}}),G,this)}function T(e){var t,r,o,s,c;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,u.getItem)(e);case 2:return t=a.sent,a.next=5,(0,n.select)(l.currentUserSelector)||{};case 5:r=a.sent,o=r.type,t&&(s=new Date,c=s-t,(0,L.reportApiTime)(c,"message_socket",o),(0,u.removeItem)(e));case 8:case"end":return a.stop()}}),E,this)}var R,j,M=function(e){return(0,c.eventChannel)((function(t){return e.on("message",(function(e){if(e){var r=e.message_type,a=e.message_content;t({type:r,payload:JSON.parse(a)})}})),function(){}}))};function A(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.call)(M,s.default);case 2:return e=t.sent,t.next=5,(0,n.takeEvery)(e,I);case 5:case"end":return t.stop()}}),C,this)}(R="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(R.register(x,"getUpdateAction","/workspace/src/reducers/socket/subscribe.js"),R.register(I,"handleSubscribe","/workspace/src/reducers/socket/subscribe.js"),R.register(T,"reportMessageApiTimer","/workspace/src/reducers/socket/subscribe.js"),R.register(M,"createSubscribeChannel","/workspace/src/reducers/socket/subscribe.js"),R.register(A,"watchSubscribe","/workspace/src/reducers/socket/subscribe.js")),(j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&j(e)}).call(this,r("YuTi")(e))},kXhk:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.currentBuyerOffersSelector=t.currentOfferPaginationSelector=t.currentOffersFetchResultSelector=t.offerFetchResultSelector=t.offerSelector=t.relatedOfferIdsSelector=t.offersSelector=t.currentPendingOffersCountSelector=t.pendingOffersCountSelector=t.offerHttpStatusSelector=void 0;var a,o,s=r("/f1G"),c=(a=s)&&a.__esModule?a:{default:a},n=r("peh1"),u=r("A2+V"),d=r("XiPH"),l=r("rN3q"),i=r("WNYn");(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var f,p,S={currentPage:0,perPage:20,total:0,hasMore:!0},v=t.offerHttpStatusSelector=function(e){return e.offerReducer.status},h=t.pendingOffersCountSelector=function(e){return e.offerReducer.pendingOffersCount},g=t.currentPendingOffersCountSelector=(0,n.createSelector)(i.currentShopIdSelector,i.currentBuyerIdSelector,h,(function(e,t,r){return r[e+"_"+t]||0})),k=t.offersSelector=(0,n.createSelector)(u.entitiesSelector,(function(e){return e.offers||{}})),b=t.relatedOfferIdsSelector=function(e,t,r,a){return(0,n.createSelector)(k,(function(o){return(0,c.default)(o).filter((function(o){return o.product_id===a&&o.model_id===t&&o.conversation_id===e&&o.id!==r&&"pending"===o.status}))}))},w=t.offerSelector=function(e){return(0,n.createSelector)(u.entitiesSelector,(function(t){return(0,d.denormalize)(e,l.offerSchema,t)}))},_=t.offerFetchResultSelector=function(e){return e.offerReducer.fetchResult},m=t.currentOffersFetchResultSelector=function(e,t){return(0,n.createSelector)(_,(function(r){var a=r[e+"_"+t];return a||{pagination:S,result:[]}}))},y=t.currentOfferPaginationSelector=(0,n.createSelector)(_,i.currentShopIdSelector,i.currentBuyerIdSelector,(function(e,t,r){var a=e[t+"_"+r];return a?a.pagination:S})),L=t.currentBuyerOffersSelector=(0,n.createSelector)(_,i.currentShopIdSelector,i.currentBuyerIdSelector,u.entitiesSelector,(function(e,t,r,a){var o=e[t+"_"+r];if(!o)return[];var s=o.result||[];return(0,d.denormalize)(s,[l.offerSchema],a)}));(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(S,"defaultPagination","/workspace/src/selectors/offer.js"),f.register(v,"offerHttpStatusSelector","/workspace/src/selectors/offer.js"),f.register(h,"pendingOffersCountSelector","/workspace/src/selectors/offer.js"),f.register(g,"currentPendingOffersCountSelector","/workspace/src/selectors/offer.js"),f.register(k,"offersSelector","/workspace/src/selectors/offer.js"),f.register(b,"relatedOfferIdsSelector","/workspace/src/selectors/offer.js"),f.register(w,"offerSelector","/workspace/src/selectors/offer.js"),f.register(_,"offerFetchResultSelector","/workspace/src/selectors/offer.js"),f.register(m,"currentOffersFetchResultSelector","/workspace/src/selectors/offer.js"),f.register(y,"currentOfferPaginationSelector","/workspace/src/selectors/offer.js"),f.register(L,"currentBuyerOffersSelector","/workspace/src/selectors/offer.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,r("YuTi")(e))},lInC:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.shouldPersistItem=t.generatePersist=void 0;var a,o,s=r("QbLZ"),c=(a=s)&&a.__esModule?a:{default:a},n=r("cokx"),u=r("KmjB");(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var d,l,i=t.generatePersist=function(e,t,r){if(e){var a={};return e.forEach((function(e){a[e]=!0})),(0,u.simpleEqualCheck)(r.slice(0,n.persistLimit),e)?(0,c.default)({},t,{changed:!1}):{changed:!0,conversationIds:e,conversationIdsMap:a,lastConversationId:e[e.length-1]}}return null},f=t.shouldPersistItem=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e||"number"!=typeof e.storedTimestamp)return!1;var r=18e4,a=18e5;return Date.now()<e.storedTimestamp+(t?r:a)};(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(i,"generatePersist","/workspace/src/services/persist.js"),d.register(f,"shouldPersistItem","/workspace/src/services/persist.js")),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}).call(this,r("YuTi")(e))},nbEg:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.currentTotalProductsSelector=t.myShopProductsSelector=t.otherShopProductsSelector=t.currentFetchResultSelector=t.productSelector=t.otherShopSearchKeywordSelector=t.myShopSearchKeywordSelector=t.productFetchResultSelector=t.allShopSearchStatusSelector=t.selectedProductTabSelector=t.otherShopSearchStatusSelector=t.myShopSearchStatusSelector=void 0;var a,o=r("XiPH"),s=r("peh1"),c=r("A2+V"),n=r("WNYn"),u=r("rN3q");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var d,l,i={currentPage:0,perPage:20,total:0,hasMore:!0},f=t.myShopSearchStatusSelector=function(e){return e.productReducer.myShopSearchStatus},p=t.otherShopSearchStatusSelector=function(e){return e.productReducer.otherShopSearchStatus},S=t.selectedProductTabSelector=function(e){return e.productReducer.selectedProductTab},v=t.allShopSearchStatusSelector=function(e){return e.productReducer.allShopSearchStatus},h=t.productFetchResultSelector=function(e){return e.productReducer.fetchResult},g=t.myShopSearchKeywordSelector=function(e){return e.productReducer.myShopSearchKeyword},k=t.otherShopSearchKeywordSelector=function(e){return e.productReducer.otherShopSearchKeyword},b=t.productSelector=function(e){return(0,s.createSelector)(c.entitiesSelector,(function(t){return(0,o.denormalize)(e,u.productSchema,t)}))},w=t.currentFetchResultSelector=function(e){return(0,s.createSelector)(h,(function(t){var r=t[e];return r||{pagination:i,result:[]}}))},_=t.otherShopProductsSelector=(0,s.createSelector)(h,n.currentBuyerShopIdSelector,c.entitiesSelector,(function(e,t,r){var a=e[t];if(!a)return[];var s=a.result||[];return(0,o.denormalize)(s,[u.productSchema],r)})),m=t.myShopProductsSelector=(0,s.createSelector)(h,n.currentShopIdSelector,c.entitiesSelector,(function(e,t,r){var a=e[t];if(!a)return[];var s=a.result||[];return(0,o.denormalize)(s,[u.productSchema],r)})),y=t.currentTotalProductsSelector=(0,s.createSelector)(h,n.currentShopIdSelector,(function(e,t){var r=e[t];return r?r.pagination.total:0}));(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(i,"defaultPagination","/workspace/src/selectors/product.js"),d.register(f,"myShopSearchStatusSelector","/workspace/src/selectors/product.js"),d.register(p,"otherShopSearchStatusSelector","/workspace/src/selectors/product.js"),d.register(S,"selectedProductTabSelector","/workspace/src/selectors/product.js"),d.register(v,"allShopSearchStatusSelector","/workspace/src/selectors/product.js"),d.register(h,"productFetchResultSelector","/workspace/src/selectors/product.js"),d.register(g,"myShopSearchKeywordSelector","/workspace/src/selectors/product.js"),d.register(k,"otherShopSearchKeywordSelector","/workspace/src/selectors/product.js"),d.register(b,"productSelector","/workspace/src/selectors/product.js"),d.register(w,"currentFetchResultSelector","/workspace/src/selectors/product.js"),d.register(_,"otherShopProductsSelector","/workspace/src/selectors/product.js"),d.register(m,"myShopProductsSelector","/workspace/src/selectors/product.js"),d.register(y,"currentTotalProductsSelector","/workspace/src/selectors/product.js")),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}).call(this,r("YuTi")(e))},o5BT:function(e,t,r){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,o,s=t.toastSelector=function(e){return e.toastReducer.toast};(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(s,"toastSelector","/workspace/src/selectors/toast.js"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,r("YuTi")(e))},oKYE:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.watchSocketSagas=void 0;var a,o=S(r("QbLZ")),s=r("6SzI"),c=r("hZz5"),n=S(c),u=r("jgzM"),d=r("2AY/"),l=r("9ZRw"),i=r("88fJ"),f=S(i),p=r("aPRc");function S(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var v,h,g=t.watchSocketSagas=[c.watchConnect,d.watchSCRedirect,u.watchSubscribe,i.watchFeedback,l.watchHeartBeatEmit,p.watchCSChatChannel,p.watchCSChatReconnect],k=(0,s.handleActions)((0,o.default)({},f.default,n.default),{feedback:null,reconnectFlag:!1});t.default=k,(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(g,"watchSocketSagas","/workspace/src/reducers/socket/index.js"),v.register(k,"default","/workspace/src/reducers/socket/index.js")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)}).call(this,r("YuTi")(e))},q9Y5:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.currentDraftSelector=t.draftHashSelector=void 0;var a,o=r("peh1"),s=r("WNYn");(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c,n,u=t.draftHashSelector=function(e){return e.draftReducer.draftHash},d=t.currentDraftSelector=(0,o.createSelector)(s.currentConversationIdSelector,u,(function(e,t){return t[e]}));(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(u,"draftHashSelector","/workspace/src/selectors/draft.js"),c.register(d,"currentDraftSelector","/workspace/src/selectors/draft.js")),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)}).call(this,r("YuTi")(e))},r2BC:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=g(r("jWXv")),o=g(r("rfXi")),s=g(r("m1cH")),c=g(r("sk9p")),n=g(r("oF3Q")),u=g(r("GQeE")),d=g(r("14Xm"));t.populateMessageWithSourceAndContent=L,t.populateRoughMessage=H,t.populateWebviewContent=G,t.populateCartReminder=E;var l,i=g(r("rN3q")),f=r("5rFJ"),p=r("tpro"),S=r("0fB8"),v=r("KmjB"),h=r("Avzq");function g(e){return e&&e.__esModule?e:{default:e}}(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&l(e);var k,b,w=d.default.mark(L),_=d.default.mark(H),m=d.default.mark(G),y=d.default.mark(E);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function L(e,t,r){var a,o,s,c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return d.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,f.select)((function(e){return e.entityReducer}));case 2:return a=n.sent,o=a.messages,n.next=6,(0,f.call)(h.optimizePopulate,o,e,t,r);case 6:if(s=n.sent,!c){n.next=12;break}return n.next=10,(0,f.call)(H,e,s);case 10:n.next=14;break;case 12:return n.next=14,(0,f.spawn)(H,e,s);case 14:case"end":return n.stop()}}),w,this)}function H(e,t){var r,l,v,g,k,b,w,m,y,L,H;arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d.default.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(r=t.merge,l=t.source,v=t.content,g=t.sourceShops,k=t.webviews,b=t.cartReminders,d.t0=(0,u.default)(k).length,!d.t0){d.next=5;break}return d.next=5,(0,f.fork)(G,k);case 5:return w=[],(0,n.default)(r).forEach((function(e){var t=(0,c.default)(e,2),r=t[0],a=t[1];w=[].concat((0,s.default)(w),(0,s.default)(a.map((function(e){return(0,f.call)(S.getPopulateContent,r,e)}))))})),m=(0,o.default)(new a.default(g)).map((function(e){return(0,f.call)(S.getPopulateContent,"shops",e)})),w=w.concat(m),d.next=11,(0,f.all)(w);case 11:if(y=d.sent,L=(0,h.populateMessage)(e,y,l,v),e.filter((function(e,t){return L.includes(t)})).forEach((function(e){e.fetchStatus="done"})),d.t1=(0,u.default)(b).length,!d.t1){d.next=18;break}return d.next=18,(0,f.call)(E,e,b);case 18:return H=(0,i.default)("messages",e),d.next=21,(0,f.put)((0,p.updateEntities)({name:"messages",entities:H.entities}));case 21:case"end":return d.stop()}}),_,this)}function G(e){var t,r;return d.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=[],r=[],(0,n.default)(e).forEach((function(e){var t=(0,c.default)(e,2),o=t[0],u=t[1];Array.isArray(u)?r.push((0,f.call)(S.getPopulateContent,o,[].concat((0,s.default)(new a.default(u))))):(0,n.default)(u).forEach((function(e){var t=(0,c.default)(e,2),n=t[0],u=t[1];r.push((0,f.call)(S.getPopulateContent,o,{shopId:n,id:[].concat((0,s.default)(new a.default(u)))}))}))})),o.next=5,(0,f.all)(r);case 5:return o.sent.forEach((function(e){var r=(0,i.default)("voucher_web"===e.type?"vouchers":(0,v.camelCase)(e.type),e.content);t.push((0,f.put)((0,p.updateEntities)({entities:r.entities})))})),o.next=9,(0,f.all)(t);case 9:case"end":return o.stop()}}),m,this)}function E(e,t){var r,a,o,s,u,l;return d.default.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return r=[],(0,n.default)(t).forEach((function(e){var t=(0,c.default)(e,2),a=t[0],o=t[1];r.push((0,f.call)(S.getPopulateContent,"shopping_cart",{id:a,cartItems:o}))})),d.next=4,(0,f.all)(r);case 4:a=d.sent,o=(0,h.populateCartReminderMessage)(e,a),s=(0,c.default)(o,2),u=s[0],l=s[1],e.forEach((function(e,t){u.includes(t)&&(e.fetchStatus="done"),l.includes(t)&&(e.fetchStatus="failed")}));case 7:case"end":return d.stop()}}),y,this)}(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(L,"populateMessageWithSourceAndContent","/workspace/src/services/populate.js"),k.register(H,"populateRoughMessage","/workspace/src/services/populate.js"),k.register(G,"populateWebviewContent","/workspace/src/services/populate.js"),k.register(E,"populateCartReminder","/workspace/src/services/populate.js")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)}).call(this,r("YuTi")(e))},rN3q:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.messageShortcutsSchema=t.feedStorySchema=t.shopSchema=t.stickerSchema=t.productSchema=t.orderSchema=t.offerSchema=t.conversationSchema=t.messageSchema=t.userSchema=t.selectHydrated=void 0;var a,o,s=r("QbLZ"),c=(a=s)&&a.__esModule?a:{default:a},n=r("XiPH");(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u=function(e,t){return new n.schema.Entity(e,(0,c.default)({},t))},d=u("users"),l=u("messages"),i=u("conversations"),f=u("orders"),p=u("products"),S=u("offers",{product:p}),v=u("stickers"),h=u("shops"),g=u("feedStories"),k=u("messageShortcuts"),b={users:d,messages:l,conversations:i,orders:f,offers:S,products:p,stickers:v,shops:h,feedStories:g,messageShortcuts:k},w=function(e,t){var r=b[e]||u(e);return t instanceof Array?(0,n.normalize)(t,[r]):(0,n.normalize)(t,r)};t.default=w;var _,m,y=t.selectHydrated=function(e,t,r){try{var a=b[e];return t instanceof Array?(0,n.denormalize)(t,[a],r.entityReducer):null==t?void 0:(0,n.denormalize)(t,a,r.entityReducer)}catch(e){return}};t.userSchema=d,t.messageSchema=l,t.conversationSchema=i,t.offerSchema=S,t.orderSchema=f,t.productSchema=p,t.stickerSchema=v,t.shopSchema=h,t.feedStorySchema=g,t.messageShortcutsSchema=k,(_="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(_.register(u,"getDefaultSchemas","/workspace/src/schemas.js"),_.register(d,"userSchema","/workspace/src/schemas.js"),_.register(l,"messageSchema","/workspace/src/schemas.js"),_.register(i,"conversationSchema","/workspace/src/schemas.js"),_.register(f,"orderSchema","/workspace/src/schemas.js"),_.register(p,"productSchema","/workspace/src/schemas.js"),_.register(S,"offerSchema","/workspace/src/schemas.js"),_.register(v,"stickerSchema","/workspace/src/schemas.js"),_.register(h,"shopSchema","/workspace/src/schemas.js"),_.register(g,"feedStorySchema","/workspace/src/schemas.js"),_.register(k,"messageShortcutsSchema","/workspace/src/schemas.js"),_.register(b,"schemasMap","/workspace/src/schemas.js"),_.register(y,"selectHydrated","/workspace/src/schemas.js"),_.register(w,"default","/workspace/src/schemas.js")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)}).call(this,r("YuTi")(e))},wNa6:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.persistor=t.store=void 0;var a,o,s=r("ANjH"),c=r("5HXA"),n=r("rRWa"),u=(a=n)&&a.__esModule?a:{default:a},d=r("SVmU"),l=r("cokx");(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i=(0,u.default)(),f=(0,s.applyMiddleware)(i),p=(0,s.createStore)(l.reducers,(0,c.composeWithDevTools)(f)),S=(0,d.persistStore)(p),v=i.run(l.sagas);i.run(l.preload);var h,g,k=function e(){v.toPromise().catch((function(t){v.cancel(),v=i.run(l.sagas),e()}))};k(),t.store=p,t.persistor=S,(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(i,"sagaMiddleware","/workspace/src/store.js"),h.register(f,"middlewares","/workspace/src/store.js"),h.register(p,"store","/workspace/src/store.js"),h.register(S,"persistor","/workspace/src/store.js"),h.register(v,"tasks","/workspace/src/store.js"),h.register(k,"onTasksException","/workspace/src/store.js")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)}).call(this,r("YuTi")(e))},wuwN:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.reportApiTime=void 0;var a,o,s=r("B6+r"),c=(a=s)&&a.__esModule?a:{default:a},n=r("yqSZ");(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u,d,l=new c.default({project:n.ReportProject,environment:s.Environment.LIVE,interval:2e3,region:"VN",reportResource:!0,reportPerformance:!0,sample:.01}),i=t.reportApiTime=function(e,t,r){n.ReportType[t.toUpperCase()]&&l.send({point:n.ReportType[t.toUpperCase()],value:e,type:"relative",category_id:r})};(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register("live","serverEnv","/workspace/src/services/report.js"),u.register("VN","Region","/workspace/src/services/report.js"),u.register(l,"papsdk","/workspace/src/services/report.js"),u.register(i,"reportApiTime","/workspace/src/services/report.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r("YuTi")(e))},xcHk:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.updateChatEntryStatus=t.updateSocketSuccessStatus=t.updateLoginSuccessStatus=t.setChatSource=t.updateOpenedMenu=t.updateNetworkStatus=t.updateConversationDetailStatusSucceeded=t.updateConversationDetailStatus=t.updateChatWindowStatusSucceeded=t.updateChatWindowStatus=t.updateUserRequested=void 0;var a,o=v(r("YEIV")),s=v(r("QbLZ")),c=v(r("14Xm")),n=v(r("gDS+"));t.updateUser=j,t.readMessage=M,t.updateChatWindowStatusSaga=A,t.updateConversationDetailStatusSaga=O,t.watchUpdate=P;var u,d=r("6SzI"),l=r("5rFJ"),i=r("4fYm"),f=r("WNYn"),p=r("ZGUL"),S=v(r("jtha"));function v(e){return e&&e.__esModule?e:{default:e}}(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&u(e);var h=c.default.mark(j),g=c.default.mark(M),k=c.default.mark(A),b=c.default.mark(O),w=c.default.mark(P),_=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(0,d.createActions)({UPDATE_USER_REQUESTED:function(e){return{status:e.status}},UPDATE_CHAT_WINDOW_STATUS:function(e){return{shouldShowWindow:e.shouldShowWindow}},UPDATE_CHAT_WINDOW_STATUS_SUCCEEDED:function(e){return{shouldShowWindow:e.shouldShowWindow}},UPDATE_CONVERSATION_DETAIL_STATUS:function(e){var t=e.shouldShowConversationDetail,r=e.needMark;return{shouldShowConversationDetail:t,needMark:void 0!==r&&r}},UPDATE_CONVERSATION_DETAIL_STATUS_SUCCEEDED:function(e){return{shouldShowConversationDetail:e.shouldShowConversationDetail}},UPDATE_NETWORK_STATUS:function(e){return{networkStatus:e.networkStatus}},UPDATE_OPENED_MENU:function(e){return{openedMenu:e}},SET_CHAT_SOURCE:function(e){return{isScChat:e.isScChat}},UPDATE_LOGIN_SUCCESS_STATUS:function(e){return{loginSuccess:e.loginSuccess}},UPDATE_SOCKET_SUCCESS_STATUS:function(e){return{socketSuccess:e.socketSuccess}},UPDATE_CHAT_ENTRY_STATUS:function(e){return{showEntry:e.showEntry}}})),m=_.updateUserRequested,y=_.updateChatWindowStatus,L=_.updateChatWindowStatusSucceeded,H=_.updateConversationDetailStatus,G=_.updateConversationDetailStatusSucceeded,E=_.updateNetworkStatus,C=_.updateOpenedMenu,x=_.setChatSource,I=_.updateLoginSuccessStatus,T=_.updateSocketSuccessStatus,R=_.updateChatEntryStatus;function j(e){var t=e.payload.status;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.call)(S.default,{method:"PUT",resource:"user",payload:(0,n.default)({distribution_status:t})});case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,(0,l.put)((0,p.showOperationFailureToastRequested)({error:e.t0}));case 9:case"end":return e.stop()}}),h,this,[[0,5]])}function M(){var e,t,r,a,o,s;return c.default.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,l.select)(f.currentConversationSelector);case 2:if(!(e=c.sent)){c.next=8;break}if(t=e.status,r=e.shop_id,a=e.id,o=e.unread_count,s=e.latest_message_id,!("closed"!==t&&o>0)){c.next=8;break}return c.next=8,(0,l.put)((0,i.markMessagesRequested)({conversationId:a,isRead:!0,latestMessageId:s,shopId:r}));case 8:case"end":return c.stop()}}),g,this)}function A(e){var t=e.payload.shouldShowWindow;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.put)(L({shouldShowWindow:t}));case 2:if(e.t0=t,!e.t0){e.next=6;break}return e.next=6,(0,l.call)(M);case 6:case"end":return e.stop()}}),k,this)}function O(e){var t=e.payload,r=t.shouldShowConversationDetail,a=t.needMark;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.put)(G({shouldShowConversationDetail:r}));case 2:if(e.t0=a&&r,!e.t0){e.next=6;break}return e.next=6,(0,l.call)(M);case 6:case"end":return e.stop()}}),b,this)}function P(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.takeEvery)(m,j);case 2:return e.next=4,(0,l.takeEvery)(y,A);case 4:return e.next=6,(0,l.takeEvery)(H,O);case 6:case"end":return e.stop()}}),w,this)}t.updateUserRequested=m,t.updateChatWindowStatus=y,t.updateChatWindowStatusSucceeded=L,t.updateConversationDetailStatus=H,t.updateConversationDetailStatusSucceeded=G,t.updateNetworkStatus=E,t.updateOpenedMenu=C,t.setChatSource=x,t.updateLoginSuccessStatus=I,t.updateSocketSuccessStatus=T,t.updateChatEntryStatus=R;var U,D,N=(a={},(0,o.default)(a,L,(function(e,t){var r=t.payload.shouldShowWindow;return(0,s.default)({},e,{showChatWindow:r})})),(0,o.default)(a,G,(function(e,t){var r=t.payload.shouldShowConversationDetail;return(0,s.default)({},e,{showConversationDetail:r})})),(0,o.default)(a,E,(function(e,t){var r=t.payload.networkStatus;return(0,s.default)({},e,{networkStatus:r})})),(0,o.default)(a,C,(function(e,t){var r=t.payload.openedMenu;return(0,s.default)({},e,{openedMenu:r})})),(0,o.default)(a,x,(function(e,t){var r=t.payload.isScChat;return(0,s.default)({},e,{isScChat:r})})),(0,o.default)(a,I,(function(e,t){var r=t.payload.loginSuccess;return(0,s.default)({},e,{loginSuccess:r})})),(0,o.default)(a,T,(function(e,t){var r=t.payload.socketSuccess;return(0,s.default)({},e,{socketSuccess:r})})),(0,o.default)(a,R,(function(e,t){var r=t.payload.showEntry;return(0,s.default)({},e,{showEntry:r})})),a);t.default=N,(U="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(U.register(m,"updateUserRequested","/workspace/src/reducers/user/update.js"),U.register(y,"updateChatWindowStatus","/workspace/src/reducers/user/update.js"),U.register(L,"updateChatWindowStatusSucceeded","/workspace/src/reducers/user/update.js"),U.register(H,"updateConversationDetailStatus","/workspace/src/reducers/user/update.js"),U.register(G,"updateConversationDetailStatusSucceeded","/workspace/src/reducers/user/update.js"),U.register(E,"updateNetworkStatus","/workspace/src/reducers/user/update.js"),U.register(C,"updateOpenedMenu","/workspace/src/reducers/user/update.js"),U.register(x,"setChatSource","/workspace/src/reducers/user/update.js"),U.register(I,"updateLoginSuccessStatus","/workspace/src/reducers/user/update.js"),U.register(T,"updateSocketSuccessStatus","/workspace/src/reducers/user/update.js"),U.register(R,"updateChatEntryStatus","/workspace/src/reducers/user/update.js"),U.register(j,"updateUser","/workspace/src/reducers/user/update.js"),U.register(M,"readMessage","/workspace/src/reducers/user/update.js"),U.register(A,"updateChatWindowStatusSaga","/workspace/src/reducers/user/update.js"),U.register(O,"updateConversationDetailStatusSaga","/workspace/src/reducers/user/update.js"),U.register(P,"watchUpdate","/workspace/src/reducers/user/update.js"),U.register(N,"default","/workspace/src/reducers/user/update.js")),(D="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&D(e)}).call(this,r("YuTi")(e))},"z+6U":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.getConversationIds=void 0;var a,o,s=r("m1cH"),c=(a=s)&&a.__esModule?a:{default:a};(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n,u,d=t.getConversationIds=function(e,t,r,a){switch(r){case"reset":if(a){var o=Array.isArray(t)?[].concat((0,c.default)(t)):[];return o.unshift(a),o}return t;case"latest":return t.concat(e.filter((function(e){return!t.includes(e)})));case"older":return e.concat(t.filter((function(t){return!e.includes(t)})))}};(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(d,"getConversationIds","/workspace/src/services/conversations.js"),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,r("YuTi")(e))},zTxb:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.watchStickerSagas=void 0;var a,o=u(r("QbLZ")),s=r("6SzI"),c=r("RKms"),n=u(c);function u(e){return e&&e.__esModule?e:{default:e}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var d,l,i=t.watchStickerSagas=[c.watchFetch],f=(0,s.handleActions)((0,o.default)({},n.default),{packs:[],stickers:{},packHttpStatus:"",currentSticker:"",currentStickerPage:1});t.default=f,(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(i,"watchStickerSagas","/workspace/src/reducers/sticker/index.js"),d.register(f,"default","/workspace/src/reducers/sticker/index.js")),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}).call(this,r("YuTi")(e))},"zd/2":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.sync=t.loginSocket=t.connectSocket=t.forceLogoutRequested=t.logoutRequested=t.logoutSucceeded=t.loginSucceeded=t.loginRequested=void 0;var a,o=R(r("YEIV")),s=R(r("QbLZ")),c=R(r("14Xm")),n=R(r("4d7F"));t.reconnectSocket=Z,t.handleLoginSucceeded=J,t.login=$,t.logout=ee,t.logoutHandler=te,t.watchLogin=re;var u,d=r("6SzI"),l=r("5rFJ"),i=r("wNa6"),f=R(r("rN3q")),p=r("kiXb"),S=r("WN6i"),v=r("b5/c"),h=r("QCYR"),g=R(r("jtha")),k=R(r("5IwO")),b=r("KmjB"),w=r("fiCN"),_=r("YLqo"),m=r("ppeG"),y=r("8TFP"),L=r("JbkK"),H=r("AGE5"),G=r("osg/"),E=r("tpro"),C=r("enZm"),x=r("RKms"),I=r("xcHk"),T=R(r("kiQV"));function R(e){return e&&e.__esModule?e:{default:e}}(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&u(e);var j=c.default.mark(Z),M=c.default.mark(J),A=c.default.mark($),O=c.default.mark(ee),P=c.default.mark(te),U=c.default.mark(re),D=("undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,function(e){return""+(0,m.getTranslateFileServer)()+e+".json?_v="+T.default.version}),N=(0,d.createActions)({LOGIN_REQUESTED:function(){return{}},LOGIN_SUCCEEDED:function(e){return{currentUserId:e.currentUserId}},LOGOUT_SUCCEEDED:function(){return{}},LOGOUT_REQUESTED:function(){return{}},FORCE_LOGOUT_REQUESTED:function(){return{}},CONNECT_SOCKET:function(){return{}}}),F=N.loginRequested,Y=N.loginSucceeded,q=N.logoutSucceeded,V=N.logoutRequested,W=N.forceLogoutRequested,z=N.connectSocket;t.loginRequested=F,t.loginSucceeded=Y,t.logoutSucceeded=q,t.logoutRequested=V,t.forceLogoutRequested=W,t.connectSocket=z;var Q=t.loginSocket=function(e){return new n.default((function(t,r){k.default.loginEmit(e,(function(e){var r=JSON.parse(e).status;t(201===r)}))}))},B=t.sync=function(){return new n.default((function(e){(0,g.default)({method:"POST",resource:"user",suffix:"sync"}).then((function(){e()})).catch((function(){e()}))}))},X=(0,_.getBrowserInfo)(),K=function(e){var t=e.id,r=e.name;S.chatEasySentry.configureScope((function(e){e.setUser({id:t,name:r,agent:X})}))};function Z(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.default.reconnect();case 1:case"end":return e.stop()}}),j,this)}function J(e){var t,r,a,o,s,n;return c.default.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,l.put)((0,I.updateNetworkStatus)({networkStatus:"online"}));case 2:return window.addEventListener("online",(function(){i.store.dispatch((0,I.updateNetworkStatus)({networkStatus:"online"}))})),window.addEventListener("offline",(function(){i.store.dispatch((0,I.updateNetworkStatus)({networkStatus:"offline"}))})),t=e.id,r=e.type,a=e.locale,"subaccount"!==r&&w.csChatSocket.socket&&w.csChatSocket.connect(),o=null,c.prev=7,c.next=10,(0,l.call)(g.default,{credentials:"",url:D((0,b.handleLocale)(a))});case 10:o=c.sent,c.next=18;break;case 13:return c.prev=13,c.t0=c.catch(7),c.next=17,(0,l.call)(g.default,{credentials:"",url:D("vi-VN")});case 17:o=c.sent;case 18:return c.next=20,(0,l.put)((0,I.updateChatEntryStatus)({showEntry:!0}));case 20:return K(e),c.next=23,(0,l.spawn)(H.fetchSettings);case 23:return c.next=25,(0,l.call)(p.changeLanguage,(0,b.handleLocale)(a),o);case 25:return c.next=27,(0,l.call)(v.updateTimeLocale,(0,b.handleLocale)(a,!1));case 27:return k.default.connect(),s=(0,f.default)("users",e),n=s.entities,c.next=31,(0,l.put)((0,E.updateEntities)({entities:n}));case 31:return c.next=33,(0,l.put)(Y({currentUserId:t}));case 33:return c.next=35,(0,l.put)((0,C.getGuideRequested)());case 35:return c.prev=35,c.next=38,(0,l.put)((0,x.fetchStickersRequested)({locale:a}));case 38:c.next=42;break;case 40:c.prev=40,c.t1=c.catch(35);case 42:case"end":return c.stop()}}),M,this,[[7,13],[35,40]])}function $(){var e,t,r;return c.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,l.call)(g.default,{credentials:"",url:D((0,b.handleLocale)(p.language))});case 3:return e=a.sent,a.next=6,(0,l.call)(p.changeLanguage,(0,b.handleLocale)(p.language),e);case 6:return a.next=8,(0,l.select)(y.isScChatSelector);case 8:return t=a.sent,a.next=11,(0,l.call)(g.default,{method:"POST",resource:"login",params:{source:t?"sc":"pcmall"}});case 11:return r=a.sent,a.next=14,(0,l.call)(h.setItem,"mini-session",r);case 14:return a.abrupt("return",r.user);case 17:return a.prev=17,a.t0=a.catch(0),a.next=21,(0,l.put)((0,I.updateChatEntryStatus)({showEntry:!0}));case 21:case"end":return a.stop()}}),A,this,[[0,17]])}function ee(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.call)(g.default,{method:"DELETE",resource:"session"});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:return window.removeEventListener("online",(function(){i.store.dispatch((0,I.updateNetworkStatus)({networkStatus:"online"}))})),window.removeEventListener("offline",(function(){i.store.dispatch((0,I.updateNetworkStatus)({networkStatus:"offline"}))})),e.next=11,(0,l.call)(te);case 11:case"end":return e.stop()}}),O,this,[[0,5]])}function te(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.default.close(),e.next=3,(0,l.put)(q());case 3:return e.next=5,(0,l.put)((0,L.reduxReset)());case 5:return e.next=7,(0,l.put)((0,G.removeAllDraft)());case 7:(0,h.removeItem)("mini-session"),(0,h.removeItem)("mini-sc_redirect");case 9:case"end":return e.stop()}}),P,this)}function re(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.takeEvery)(F,$);case 2:return e.next=4,(0,l.takeLatest)(V,ee);case 4:return e.next=6,(0,l.takeEvery)(W,te);case 6:return e.next=8,(0,l.takeLatest)(z,Z);case 8:case"end":return e.stop()}}),U,this)}var ae,oe,se=(a={},(0,o.default)(a,Y,(function(e,t){var r=t.payload.currentUserId;return(0,s.default)({},e,{currentUserId:r})})),(0,o.default)(a,q,(function(e){return(0,s.default)({},e,{currentUserId:null})})),a);t.default=se,(ae="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(ae.register(D,"getI18nServerURI","/workspace/src/reducers/user/login.js"),ae.register(F,"loginRequested","/workspace/src/reducers/user/login.js"),ae.register(Y,"loginSucceeded","/workspace/src/reducers/user/login.js"),ae.register(q,"logoutSucceeded","/workspace/src/reducers/user/login.js"),ae.register(V,"logoutRequested","/workspace/src/reducers/user/login.js"),ae.register(W,"forceLogoutRequested","/workspace/src/reducers/user/login.js"),ae.register(z,"connectSocket","/workspace/src/reducers/user/login.js"),ae.register(Q,"loginSocket","/workspace/src/reducers/user/login.js"),ae.register(B,"sync","/workspace/src/reducers/user/login.js"),ae.register(X,"browserInfo","/workspace/src/reducers/user/login.js"),ae.register(K,"sentryConfig","/workspace/src/reducers/user/login.js"),ae.register(Z,"reconnectSocket","/workspace/src/reducers/user/login.js"),ae.register(J,"handleLoginSucceeded","/workspace/src/reducers/user/login.js"),ae.register($,"login","/workspace/src/reducers/user/login.js"),ae.register(ee,"logout","/workspace/src/reducers/user/login.js"),ae.register(te,"logoutHandler","/workspace/src/reducers/user/login.js"),ae.register(re,"watchLogin","/workspace/src/reducers/user/login.js"),ae.register(se,"default","/workspace/src/reducers/user/login.js")),(oe="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&oe(e)}).call(this,r("YuTi")(e))},ziGp:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=i(r("P2sY")),o=i(r("14Xm"));t.fetchUserOrderDetail=h,t.showUser=g;var s,c=r("5rFJ"),n=i(r("jtha")),u=r("8TFP"),d=r("lInC"),l=r("eYUK");function i(e){return e&&e.__esModule?e:{default:e}}(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&s(e);var f,p,S=o.default.mark(h),v=o.default.mark(g);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function h(e){var t,r=e.userId,a=e.shopId;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.call)(n.default,{parent:"users",parentId:r,resource:"get_user_shop_statistics_info",params:{shop_id:a}});case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{});case 10:case"end":return e.stop()}}),S,this,[[0,7]])}function g(e){var t,r,s,i,f,p=e.userId,S=e.shopId,g=e.buyerShopId;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.select)((0,u.userSelector)(p));case 2:if(t=e.sent,(0,d.shouldPersistItem)(t,!1)){e.next=14;break}return e.prev=4,e.next=7,(0,c.call)(n.default,{resource:"users",id:p});case 7:(t=e.sent).storedTimestamp=Date.now(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),t={id:p,shop_id:g};case 14:return e.next=16,(0,c.call)(h,{userId:p,shopId:S});case 16:return r=e.sent,e.next=19,(0,c.select)((function(e){return e.entityReducer}));case 19:return s=e.sent,i=s.users,f=(0,a.default)({},t,r),e.next=24,(0,c.call)(l.updateOrReplaceAction,i,[f],"users");case 24:return e.abrupt("return",t);case 25:case"end":return e.stop()}}),v,this,[[4,11]])}(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(h,"fetchUserOrderDetail","/workspace/src/reducers/user/show.js"),f.register(g,"showUser","/workspace/src/reducers/user/show.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,r("YuTi")(e))}});
//# sourceMappingURL=app~c714bc7b.29911c8b7ee1562df6c2.js.map